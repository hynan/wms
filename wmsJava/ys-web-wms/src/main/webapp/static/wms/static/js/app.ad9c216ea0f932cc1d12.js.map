{"version":3,"sources":["webpack:///./src/assets/js/canvas2image.js","webpack:///./src/App.vue?38ea","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/router-config.js","webpack:///./src/store/order/mutations.js","webpack:///./src/store/order/mutations_types.js","webpack:///./src/store/order/actions.js","webpack:///./src/store/order/index.js","webpack:///./src/store/drawings/actions.js","webpack:///./src/store/drawings/mutations_types.js","webpack:///./src/store/drawings/index.js","webpack:///./src/store/drawings/mutations.js","webpack:///./src/store/mutations.js","webpack:///./src/store/mutations_types.js","webpack:///./src/store/dataManagement/index.js","webpack:///./src/store/dataManagement/mutations.js","webpack:///./src/store/dataManagement/mutations_types.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/filters.js","webpack:///./src/assets/js/pdf.js","webpack:///./src/assets/js/commonUtils.js","webpack:///./src/main.js"],"names":["scaleCanvas","canvas","width","height","w","h","undefined","retCanvas","document","createElement","retCtx","getContext","drawImage","getDataURL","type","toDataURL","saveFile","strData","location","href","genImage","img","src","fixType","toLowerCase","replace","match","encodeData","data","window","btoa","str","i","length","String","fromCharCode","getImageData","makeURI","$support","ctx","imageData","dataURL","genBitmapImage","oData","biWidth","biHeight","biSizeImage","bfSize","BITMAPFILEHEADER","BITMAPINFOHEADER","iPadding","aImgData","strPixelData","biWidth4","y","iOffsetY","strPixelRow","x","iOffsetX","c","concat","saveAsImage","getElementById","test","convertToImage","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","staticStyle","attrs","id","span","name","staticRenderFns","src_App","__webpack_require__","normalizeComponent","getLoginUser","_this","user","getRoleInfo","message","ssrContext","StoreEdit","resolve","Promise","all","e","then","bind","catch","oe","AreaEdit","ConEdit","LocEdit","SupplierEdit","ConfigEdit","router_config","path","component","children","redirect","mutations","defineProperty_default","state","addModel","todayplans","plans","push","actions_addNewOrder","_ref","dateformat","commit","promise_default","a","reject","vue_esm","http","post","todayformat","res","code","order","orderstatus","value","label","settledlist","actions","actions_namespaceObject","drawings_actions_addNewOrder","drawings","categorylist","drawings_actions_namespaceObject","store_mutations","_types$SET_SLIDE_FLAG","slideFlag","val","receivingInfo","selectList","putInStorageInfo","useModel","enumList","doAjaxSuccess","inventoryInfo","putOutStorageInfo","roleInfo","displayItems","dataManagement","is_refresh","currentRow","expandKeys","_types$IS_REFRESH$typ","actions_getEnumList","get","actions_getSelectList","_ref2","actions_getDisplayItems","_ref3","use","vuex_esm","store_state","listDoAjax","damageDescs","checkDescs","stockInDescs","stockOutDescs","transferDescs","pickerOptions","disabledDate","time","getTime","Date","now","shortcuts","text","onClick","picker","$emit","date","setTime","store","Store","modules","moduleOrder","moduleDrawing","moduleDM","store_actions_namespaceObject","_filters","formatTime","sec","substr","join","enumtext","temItem","find","item","machineTypeText","categoryId","categoryName","materialTypeText","materialChildrenTypeText","PDFJS","version","build","info","msg","verbosity","VERBOSITY_LEVELS","infos","console","log","warn","warnings","error","arguments","logArguments","apply","call","Error","stack","split","slice","backtrace","UnsupportedManager","notify","UNSUPPORTED_FEATURES","unknown","assert","cond","combineUrl","baseUrl","url","charAt","indexOf","substring","pathLength","lastIndexOf","prefixLength","shadow","obj","prop","define_property_default","enumerable","configurable","writable","stringToBytes","bytes","Uint8Array","charCodeAt","isNum","v","isArray","Array","createPromiseCapability","capability","promise","MessageHandler","comObj","callbackIndex","postMessageTransfers","callbacksCapabilities","ah","actionHandler","onmessage","event","isReply","callbackId","callback","action","result","postMessage","reason","createScratchCanvas","addContextCurrentTransform","mozCurrentTransform","_scaleX","_scaleY","_originalSave","save","_originalRestore","restore","_originalRotate","rotate","_originalScale","scale","_originalTranslate","translate","_originalTransform","transform","_originalSetTransform","setTransform","_transformMatrix","_transformStack","Object","defineProperty","m","b","d","f","ad_bc","bc_ad","old","prev","pop","angle","cosValue","Math","cos","sinValue","sin","getShadingPatternFromIR","raw","shadingIR","ShadingIRs","fromIR","globalScope","isWorker","FONT_IDENTITY_MATRIX","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","WIDGET","TEXT","LINK","pdfBug","errors","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","forms","javaScript","smask","shadingPattern","font","listeners","listen","cb","featureId","ii","isValidUrl","allowRelative","protocol","exec","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","PasswordException","prototype","constructor","UnknownErrorException","details","InvalidPDFException","MissingPDFException","UnexpectedResponseException","status","NotImplementedException","MissingDataException","begin","end","XRefParseException","buffer8","Uint16Array","buffer","isLittleEndian","createImageData","hasCanvasTypedArrays","Uint32ArrayView","byteLength","uint32ArrayViewSetters","createUint32ArrayProp","ensureUint32ArrayViewProps","index","offset","set","create_default","IDENTITY_MATRIX","Util","rgbBuf","makeCssRgb","r","g","m1","m2","applyTransform","p","applyInverseTransform","getAxialAlignedBoundingBox","p1","p2","p3","p4","min","max","inverseTransform","apply3dTransform","singularValueDecompose2dScale","transpose","first","second","sqrt","sx","sy","normalizeRect","rect","intersect","rect1","rect2","compare","orderedX","sort","orderedY","sign","num","appendToArray","arr1","arr2","prependToArray","unshift","extendObj","obj1","obj2","key","getInheritableProperty","dict","has","inherit","sub","base","loadScript","script","loaded","setAttribute","onload","getElementsByTagName","appendChild","PageViewport","viewBox","rotation","offsetX","offsetY","dontFlip","rotateA","rotateB","rotateC","rotateD","centerX","centerY","offsetCanvasX","offsetCanvasY","abs","fontScale","clone","args","convertToViewportPoint","convertToViewportRectangle","tl","br","convertToPdfPoint","resolver","_status","STATUS_PENDING","_handlers","_resolve","_reject","iterable","count","results","resolve_","reject_","forEach","onReject","STATUS_REJECTED","HandlerManager","handlers","running","unhandledRejections","pendingRejectionCheck","scheduleHandlers","setTimeout","runHandlers","timeoutAt","handler","shift","nextStatus","thisPromise","nextValue","_value","onResolve","_unhandledRejection","removeUnhandeledRejection","ex","nextPromise","_updateStatus","addUnhandledRejection","scheduleRejectionCheck","splice","unhandled","promises","deferred","rejectAll","resolveAll","unresolved","isPromise","StatTimer","rpad","pad","started","times","enabled","timeEnd","start","toString","out","longest","duration","createBlob","contentType","Blob","bb","MozBlobBuilder","append","getBlob","createObjectURL","digits","disableCreateObjectURL","URL","blob","b1","b2","b3","on","actionName","scope","send","transfers","sendWithPromise","maxImageSize","cMapUrl","cMapPacked","disableFontFace","imageResourcesPath","disableWorker","workerSrc","disableRange","disableStream","disableAutoFetch","disableWebGL","disableFullscreen","useOnlyCssZoom","maxCanvasPixels","openExternalLinksInNewWindow","getDocument","pdfDataRangeTransport","passwordCallback","progressCallback","task","PDFDocumentLoadingTask","PDFDataRangeTransport","initialData","range","onPassword","onProgress","workerInitializedCapability","transport","source","typeof_default","isArrayBuffer","params","pdfBytes","isNaN","WorkerTransport","fetchDocument","_capability","onFulfilled","onRejected","_rangeListeners","_progressListeners","_progressiveReadListeners","_readyCapability","addRangeListener","listener","addProgressListener","addProgressiveReadListener","onDataRange","chunk","n","onDataProgress","onDataProgressiveRead","transportReady","requestDataRange","PDFDocumentProxy","pdfInfo","numPages","fingerprint","getPage","pageNumber","getPageIndex","ref","getDestinations","getDestination","getAttachments","getJavaScript","getOutline","getMetadata","getData","getDownloadInfo","downloadInfoCapability","getStats","cleanup","startCleanup","destroy","PDFPageProxy","pageIndex","pageInfo","stats","enableStats","commonObjs","objs","PDFObjects","cleanupAfterRender","pendingDestroy","intentStates","view","getViewport","getAnnotations","annotationsPromise","complete","intentState","renderTasks","internalRenderTask","self","_tryDestroy","renderingIntent","intent","displayReadyCapability","receivingOperatorList","operatorList","fnArray","argsArray","lastChunk","messageHandler","InternalRenderTask","renderTask","continueCallback","onContinue","transparency","initalizeGraphics","operatorListChanged","getOperatorList","opListReadCapability","opListTask","getTextContent","keys_default","some","clear","_startRenderPage","_renderPageChunk","operatorListChunk","loadingTask","pageCache","pagePromises","Worker","worker","supportTypedArray","supportTransfers","setupMessageHandler","setupFakeWorker","testObj","FontLoader","terminate","fakeWorkerFilesLoadedCapability","fakeWorker","WorkerMessageHandler","setup","updatePassword","password","pdfDocument","exception","page","hasData","exportedData","FontFaceObject","fontObjs","pageProxy","imageUrl","Image","onerror","loadJpegStream","total","pageNum","components","size","rgbaLength","buf","tmpCtx","j","chunkedViewerLoading","metadata","Metadata","ensureObj","objId","resolved","isResolved","RenderTask","_internalRenderTask","cancel","operatorListIdx","graphicsReadyCallback","graphicsReady","cancelled","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","StepperManager","stepper","create","init","nextBreakPoint","getNextBreakPoint","gfx","CanvasGraphics","canvasContext","imageLayer","beginDrawing","viewport","updateOperatorList","requestAnimationFrame","executeOperatorList","endDrawing","FULL_CHUNK_HEIGHT","meta","codes","d1","d2","d3","chars","fixMetadata","DOMParser","parseFromString","Document","metaDocument","parse","rdf","documentElement","nodeName","firstChild","nextSibling","hasChildNodes","desc","entry","iLength","childNodes","textContent","trim","CachedCanvases","cache","getCanvas","trackTransform","canvasEntry","context","CanvasExtraState","alphaIsShape","fontSize","fontSizeScale","textMatrix","textMatrixScale","fontMatrix","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","textRise","fillColor","strokeColor","patternFill","fillAlpha","strokeAlpha","lineWidth","activeSMask","setCurrentPoint","canvasCtx","current","stateStack","pendingClip","pendingEOFill","xobjs","groupStack","processingType3","baseTransform","baseTransformStack","groupLevel","smaskStack","smaskCounter","tempSMask","cachedGetSinglePixelWidth","putBinaryImageData","imgData","ImageData","putImageData","destPos","thisChunkHeight","elemsInThisChunk","partialChunkHeight","fullChunks","totalChunks","chunkImgData","srcPos","dest","kind","srcLength","dest32","Uint32Array","dest32DataLength","fullSrcDiff","white","black","srcDiff","k","kEnd","kEndUnrolled","mask","srcByte","subarray","putBinaryImageMask","elem","copyCtxState","sourceCtx","destCtx","properties","property","setLineDash","getLineDash","lineDashOffset","mozDashOffset","mozDash","composeSMaskBackdrop","r0","g0","b0","alpha","alpha_","composeSMaskAlpha","maskData","layerData","composeSMaskLuminosity","composeSMask","layerCtx","maskCtx","scaleX","scaleY","backdrop","WebGLUtils","isEnabled","composed","subtype","composeFn","hasBackdrop","chunkSize","ceil","row","chunkHeight","genericComposeSMask","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","clearRect","mozOpaque","fillStyle","fillRect","beginLayout","executionStartIdx","argsArrayLen","fnId","chunkOperations","endTime","steps","breakIt","deps","nn","depObjId","objsPool","endLayout","style","lineCap","lineJoin","limit","miterLimit","dashArray","dashPhase","flatness","states","globalAlpha","mode","globalCompositeOperation","endSMaskGroup","beginSMaskGroup","drawnWidth","drawnHeight","cacheId","scratchCanvas","currentCtx","currentTransform","groupCtx","ops","getSinglePixelWidth","xw","yh","bezierCurveTo","consumePath","hasOwnProperty","strokeStyle","getPattern","needRestore","mozFillRule","paths","pendingTextPaths","beginPath","addToPath","spacing","fontRefName","fontObj","fontDirection","isType3Font","loadedName","bold","italic","typeface","fallbackName","browserFontSize","rule","rise","paintChar","character","fillStrokeMode","isAddToPathSet","getPathGenerator","fillText","strokeText","isFontSubpixelAAEnabled","glyphs","showType3Text","glyphsLength","vertical","defaultVMetrics","widthAdvanceScale","simpleFillText","glyph","scaledX","scaledY","scaledAccentX","scaledAccentY","restoreNeeded","fontChar","accent","vmetric","vx","vy","remeasure","characterScaleX","measureText","spacingLength","charProcOperatorList","operatorListId","xWidth","yWidth","llx","lly","urx","ury","getColorN_Pattern","IR","pattern","color","TilingPattern","patternIR","inv","mozCurrentTransformInverse","bl","ul","ur","x0","y0","x1","y1","matrix","bbox","group","isolated","knockout","bounds","canvasBounds","floor","imageSmoothingEnabled","mozImageSmoothingEnabled","domImage","position","getCanvasPosition","appendImage","left","top","isPatternFill","compiled","j0","width1","points","POINT_TYPES","lineSize","data0","pos","sum","Int32Array","outlines","pp","coords","p0","step","o","jj","compileType3Glyph","maskCanvas","positions","images","image","map","imgToPaint","tmpCanvas","widthScale","heightScale","HTMLElement","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","tag","inverse","op","loadShader","gl","shaderType","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","errorMsg","getShaderInfoLog","createVertexShader","VERTEX_SHADER","createFragmentShader","FRAGMENT_SHADER","createProgram","shaders","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","createTexture","textureId","activeTexture","texture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","generateGL","currentGL","currentCanvas","premultipliedalpha","smaskVertexShaderCode","smaskFragmentShaderCode","smaskCache","figuresVertexShaderCode","figuresFragmentShaderCode","figuresCache","layer","useProgram","resolutionLocation","getUniformLocation","positionLocation","getAttribLocation","backdropLocation","subtypeLocation","texCoordLocation","texLayerLocation","texMaskLocation","texCoordBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","initSmaskGL","drawingBufferWidth","drawingBufferHeight","uniform2f","uniform4f","TEXTURE0","maskTexture","TEXTURE1","clearColor","enable","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","COLOR_BUFFER_BIT","drawArrays","TRIANGLES","flush","deleteTexture","deleteBuffer","drawFigures","backgroundColor","figures","scaleLocation","offsetLocation","colorLocation","initFiguresGL","rows","verticesPerRow","colors","coordsMap","colorsMap","pIndex","cIndex","figure","ps","cs","cols","col","coordsBuffer","colorsBuffer","RadialAxial","colorStops","r1","grad","createLinearGradient","createRadialGradient","addColorStop","createMeshCanvas","drawTriangle","c1","c2","c3","tmp","rowSize","x2","y2","x3","y3","xa","car","cag","cab","xb","cbr","cbg","cbb","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","round","maxY","x1_","x2_","drawFigure","q","combinesScale","boundsWidth","boundsHeight","Mesh","background","owner","matrixScale","temporaryPatternCanvas","createPattern","Dummy","xstep","ystep","paintType","tilingType","PaintType","createPatternCanvas","topLeft","botRight","curMatrixScale","combinedScale","graphics","setFillAndStrokeStyleToContext","setScale","transformToScale","tmpTranslate","clipBbox","tmpScale","scaleToContext","bboxWidth","bboxHeight","cssColor","insertRule","styleElement","styleSheet","sheet","cssRules","parentNode","removeChild","nativeFontFaces","nativeFontFace","fonts","delete","loadTestFont","atob","loadTestFontId","loadingContext","requests","nextRequestId","isSyncFontLoadingSupported","userAgent","navigator","isFontLoadingAPISupported","addNativeFontFace","add","rules","fontsToLoad","fontLoadPromises","attached","loading","createNativeFontFace","bindDOM","request","queueLoadingCallback","prepareFontLoadEvent","otherRequest","int32","spliceString","s","remove","insert","isFontReady","called","checksum","string32","names","div","fontFamily","body","file","compiledGlyphs","FontFace","fontAdded","strBuf","chunkEnd","bytesToString","fontName","mimetype","js","Function","ANNOT_MIN_SIZE","AnnotationUtils","initContainer","drawBorder","container","cstyle","bWidth","borderWidth","borderStyle","borderColor","getHtmlElementForTextAnnotation","className","iconName","alt","dataset","l10nId","l10nArgs","stringify_default","contentWrapper","content","hasBgColor","title","lines","line","createTextNode","pinned","showAnnotation","pin","hasAttribute","zIndex","removeAttribute","hideAnnotation","unpin","addEventListener","getHtmlElement","annotationType","element","display","fieldValue","textAlignment","textAlign","verticalAlign","direction","fontWeight","fontStyle","setTextStyles","getHtmlElementForTextWidgetAnnotation","link","target","getHtmlElementForLinkAnnotation","SVG_DEFAULTS","convertImgDataToPng","writePngChunk","len","crc","crcTable","crc32","PNG_HEADER","CHUNK_WRAPPER_SIZE","bitDepth","colorType","literals","offsetLiterals","offsetBytes","ihdr","deflateBlocks","idat","pi","adler","adler32","pngLength","encode","SVGExtraState","dependencies","clipId","maskId","SVGGraphics","pf","toFixed","pm","acos","PI","transformMatrix","transformStack","extraStack","embedFonts","embeddedFonts","cssStyle","NS","XLINK_NS","clipCount","maskCount","tgrp","createElementNS","setAttributeNS","pgrp","items","executeOpTree","loadDependencies","fnArrayLen","getSVG","svg","createScratchSVG","defs","opTree","convertOpList","REVOPS","opList","fn","opListLen","opListToTree","opTreeLen","lineMatrix","xcoords","tspan","txtElement","txtgrp","addFontStyle","cgrp","opLength","clippath","clipElement","cloneNode","getAttributeNS","imgObj","imgEl","imgSrc","cliprect","pdfjsSrc","lastChild","pdf","install","Vue","options","getNameById","list","callBack","getCodeById","checkForm","formName","isCheck","$refs","validate","valid","accMul","arg1","arg2","s1","s2","Number","pow","fomatFloat","isNumber","isNull","RegExp","printPdf","pdfData","canvasName","renderContext","js_getDPI","arrDPI","screen","deviceXDPI","deviceYDPI","tmpNode","cssText","parseInt","offsetWidth","offsetHeight","getPdf","domName","tagWidth","tagHeight","pdfDom","querySelector","shareContent","opts","useCORS","npm_default","webkitImageSmoothingEnabled","msImageSmoothingEnabled","contentHeight","pageHeight","leftHeight","imgWidth","imgHeight","pageData","dpiX","dpiY","PDF","jspdf_min_default","addImage","addPage","output","getExternalCodeList","$http","$notify","getReceivingNoteStatus","getPutInStorageStatus","getPutOutStorageStatus","getStoreAreas","getGoodsAllocations","getFinishedReceiptBills","getCategoryList","getMaterialNameCodeList","getMaterialInfoList","getStockMaterialList","getDetailsByReceipt","getFinishedStockOutBillList","getMaterialCodeList","getMaterialList","getWarehouseStockAmount","getPutInStorageTableTittle","getPutOutStorageTableTittle","vue_router_esm","vue_resource_esm","commonUtils","filter","filters","emulateJSON","interceptors","next","element_ui_common_default","fmt","M+","getMonth","d+","getDate","h+","getHours","H+","m+","getMinutes","s+","getSeconds","q+","S","getMilliseconds","week","0","1","2","3","4","5","6","$1","getFullYear","getDay","toISOString","router","routes","el","template","App"],"mappings":"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","file":"static/wms/static/js/app.ad9c216ea0f932cc1d12.js","sourcesContent":["/**\n * covert canvas to image\n * and save the image file\n */\n\nvar Canvas2Image = function () {\n\n\t// check if support sth.\n\tvar $support = function () {\n\t\tvar canvas = document.createElement('canvas'),\n\t\t\tctx = canvas.getContext('2d');\n\n\t\treturn {\n\t\t\tcanvas: !!ctx,\n\t\t\timageData: !!ctx.getImageData,\n\t\t\tdataURL: !!canvas.toDataURL,\n\t\t\tbtoa: !!window.btoa\n\t\t};\n\t}();\n\n\tvar downloadMime = 'image/octet-stream';\n\n\tfunction scaleCanvas (canvas, width, height) {\n\t\tvar w = canvas.width,\n\t\t\th = canvas.height;\n\t\tif (width == undefined) {\n\t\t\twidth = w;\n\t\t}\n\t\tif (height == undefined) {\n\t\t\theight = h;\n\t\t}\n\n\t\tvar retCanvas = document.createElement('canvas');\n\t\tvar retCtx = retCanvas.getContext('2d');\n\t\tretCanvas.width = width;\n\t\tretCanvas.height = height;\n\t\tretCtx.drawImage(canvas, 0, 0, w, h, 0, 0, width, height);\n\t\treturn retCanvas;\n\t}\n\n\tfunction getDataURL (canvas, type, width, height) {\n\t\tcanvas = scaleCanvas(canvas, width, height);\n\t\treturn canvas.toDataURL(type);\n\t}\n\n\tfunction saveFile (strData) {\n\t\tdocument.location.href = strData;\n\t}\n\n\tfunction genImage(strData) {\n\t\tvar img = document.createElement('img');\n\t\timg.src = strData;\n\t\treturn img;\n\t}\n\tfunction fixType (type) {\n\t\ttype = type.toLowerCase().replace(/jpg/i, 'jpeg');\n\t\tvar r = type.match(/png|jpeg|bmp|gif/)[0];\n\t\treturn 'image/' + r;\n\t}\n\tfunction encodeData (data) {\n\t\tif (!window.btoa) { throw 'btoa undefined' }\n\t\tvar str = '';\n\t\tif (typeof data == 'string') {\n\t\t\tstr = data;\n\t\t} else {\n\t\t\tfor (var i = 0; i < data.length; i ++) {\n\t\t\t\tstr += String.fromCharCode(data[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn btoa(str);\n\t}\n\tfunction getImageData (canvas) {\n\t\tvar w = canvas.width,\n\t\t\th = canvas.height;\n\t\treturn canvas.getContext('2d').getImageData(0, 0, w, h);\n\t}\n\tfunction makeURI (strData, type) {\n\t\treturn 'data:' + type + ';base64,' + strData;\n\t}\n\n\n\t/**\n\t * create bitmap image\n\t * \n\t */\n\tvar genBitmapImage = function (oData) {\n\n\t\t//\n\t\t// BITMAPFILEHEADER: http://msdn.microsoft.com/en-us/library/windows/desktop/dd183374(v=vs.85).aspx\n\t\t// BITMAPINFOHEADER: http://msdn.microsoft.com/en-us/library/dd183376.aspx\n\t\t//\n\n\t\tvar biWidth  = oData.width;\n\t\tvar biHeight\t= oData.height;\n\t\tvar biSizeImage = biWidth * biHeight * 3;\n\t\tvar bfSize  = biSizeImage + 54; // total header size = 54 bytes\n\n\t\t//\n\t\t//  typedef struct tagBITMAPFILEHEADER {\n\t\t//  \tWORD bfType;\n\t\t//  \tDWORD bfSize;\n\t\t//  \tWORD bfReserved1;\n\t\t//  \tWORD bfReserved2;\n\t\t//  \tDWORD bfOffBits;\n\t\t//  } BITMAPFILEHEADER;\n\t\t//\n\t\tvar BITMAPFILEHEADER = [\n\t\t\t// WORD bfType -- The file type signature; must be \"BM\"\n\t\t\t0x42, 0x4D,\n\t\t\t// DWORD bfSize -- The size, in bytes, of the bitmap file\n\t\t\tbfSize & 0xff, bfSize >> 8 & 0xff, bfSize >> 16 & 0xff, bfSize >> 24 & 0xff,\n\t\t\t// WORD bfReserved1 -- Reserved; must be zero\n\t\t\t0, 0,\n\t\t\t// WORD bfReserved2 -- Reserved; must be zero\n\t\t\t0, 0,\n\t\t\t// DWORD bfOffBits -- The offset, in bytes, from the beginning of the BITMAPFILEHEADER structure to the bitmap bits.\n\t\t\t54, 0, 0, 0\n\t\t];\n\n\t\t//\n\t\t//  typedef struct tagBITMAPINFOHEADER {\n\t\t//  \tDWORD biSize;\n\t\t//  \tLONG  biWidth;\n\t\t//  \tLONG  biHeight;\n\t\t//  \tWORD  biPlanes;\n\t\t//  \tWORD  biBitCount;\n\t\t//  \tDWORD biCompression;\n\t\t//  \tDWORD biSizeImage;\n\t\t//  \tLONG  biXPelsPerMeter;\n\t\t//  \tLONG  biYPelsPerMeter;\n\t\t//  \tDWORD biClrUsed;\n\t\t//  \tDWORD biClrImportant;\n\t\t//  } BITMAPINFOHEADER, *PBITMAPINFOHEADER;\n\t\t//\n\t\tvar BITMAPINFOHEADER = [\n\t\t\t// DWORD biSize -- The number of bytes required by the structure\n\t\t\t40, 0, 0, 0,\n\t\t\t// LONG biWidth -- The width of the bitmap, in pixels\n\t\t\tbiWidth & 0xff, biWidth >> 8 & 0xff, biWidth >> 16 & 0xff, biWidth >> 24 & 0xff,\n\t\t\t// LONG biHeight -- The height of the bitmap, in pixels\n\t\t\tbiHeight & 0xff, biHeight >> 8  & 0xff, biHeight >> 16 & 0xff, biHeight >> 24 & 0xff,\n\t\t\t// WORD biPlanes -- The number of planes for the target device. This value must be set to 1\n\t\t\t1, 0,\n\t\t\t// WORD biBitCount -- The number of bits-per-pixel, 24 bits-per-pixel -- the bitmap\n\t\t\t// has a maximum of 2^24 colors (16777216, Truecolor)\n\t\t\t24, 0,\n\t\t\t// DWORD biCompression -- The type of compression, BI_RGB (code 0) -- uncompressed\n\t\t\t0, 0, 0, 0,\n\t\t\t// DWORD biSizeImage -- The size, in bytes, of the image. This may be set to zero for BI_RGB bitmaps\n\t\t\tbiSizeImage & 0xff, biSizeImage >> 8 & 0xff, biSizeImage >> 16 & 0xff, biSizeImage >> 24 & 0xff,\n\t\t\t// LONG biXPelsPerMeter, unused\n\t\t\t0,0,0,0,\n\t\t\t// LONG biYPelsPerMeter, unused\n\t\t\t0,0,0,0,\n\t\t\t// DWORD biClrUsed, the number of color indexes of palette, unused\n\t\t\t0,0,0,0,\n\t\t\t// DWORD biClrImportant, unused\n\t\t\t0,0,0,0\n\t\t];\n\n\t\tvar iPadding = (4 - ((biWidth * 3) % 4)) % 4;\n\n\t\tvar aImgData = oData.data;\n\n\t\tvar strPixelData = '';\n\t\tvar biWidth4 = biWidth<<2;\n\t\tvar y = biHeight;\n\t\tvar fromCharCode = String.fromCharCode;\n\n\t\tdo {\n\t\t\tvar iOffsetY = biWidth4*(y-1);\n\t\t\tvar strPixelRow = '';\n\t\t\tfor (var x = 0; x < biWidth; x++) {\n\t\t\t\tvar iOffsetX = x<<2;\n\t\t\t\tstrPixelRow += fromCharCode(aImgData[iOffsetY+iOffsetX+2]) +\n\t\t\t\t\t\t\t   fromCharCode(aImgData[iOffsetY+iOffsetX+1]) +\n\t\t\t\t\t\t\t   fromCharCode(aImgData[iOffsetY+iOffsetX]);\n\t\t\t}\n\n\t\t\tfor (var c = 0; c < iPadding; c++) {\n\t\t\t\tstrPixelRow += String.fromCharCode(0);\n\t\t\t}\n\n\t\t\tstrPixelData += strPixelRow;\n\t\t} while (--y);\n\n\t\tvar strEncoded = encodeData(BITMAPFILEHEADER.concat(BITMAPINFOHEADER)) + encodeData(strPixelData);\n\n\t\treturn strEncoded;\n\t};\n\n\t/**\n\t * saveAsImage\n\t * @param canvasElement\n\t * @param {String} image type\n\t * @param {Number} [optional] png width\n\t * @param {Number} [optional] png height\n\t */\n\tvar saveAsImage = function (canvas, width, height, type) {\n\t\tif ($support.canvas && $support.dataURL) {\n\t\t\tif (typeof canvas == \"string\") { canvas = document.getElementById(canvas); }\n\t\t\tif (type == undefined) { type = 'png'; }\n\t\t\ttype = fixType(type);\n\t\t\tif (/bmp/.test(type)) {\n\t\t\t\tvar data = getImageData(scaleCanvas(canvas, width, height));\n\t\t\t\tvar strData = genBitmapImage(data);\n\t\t\t\tsaveFile(makeURI(strData, downloadMime));\n\t\t\t} else {\n\t\t\t\tvar strData = getDataURL(canvas, type, width, height);\n\t\t\t\tsaveFile(strData.replace(type, downloadMime));\n\t\t\t}\n\t\t}\n\t};\n\n\tvar convertToImage = function (canvas, width, height, type) {\n\t\tif ($support.canvas && $support.dataURL) {\n\t\t\tif (typeof canvas == \"string\") { canvas = document.getElementById(canvas); }\n\t\t\tif (type == undefined) { type = 'png'; }\n\t\t\ttype = fixType(type);\n\n\t\t\tif (/bmp/.test(type)) {\n\t\t\t\tvar data = getImageData(scaleCanvas(canvas, width, height));\n\t\t\t\tvar strData = genBitmapImage(data);\n\t\t\t\treturn genImage(makeURI(strData, 'image/bmp'));\n\t\t\t} else {\n\t\t\t\tvar strData = getDataURL(canvas, type, width, height);\n\t\t\t\treturn genImage(strData);\n\t\t\t}\n\t\t}\n\t};\n\n\n\n\treturn {\n\t\tsaveAsImage: saveAsImage,\n\t\tsaveAsPNG: function (canvas, width, height) {\n\t\t\treturn saveAsImage(canvas, width, height, 'png');\n\t\t},\n\t\tsaveAsJPEG: function (canvas, width, height) {\n\t\t\treturn saveAsImage(canvas, width, height, 'jpeg');\n\t\t},\n\t\tsaveAsGIF: function (canvas, width, height) {\n\t\t\treturn saveAsImage(canvas, width, height, 'gif');\n\t\t},\n\t\tsaveAsBMP: function (canvas, width, height) {\n\t\t\treturn saveAsImage(canvas, width, height, 'bmp');\n\t\t},\n\n\t\tconvertToImage: convertToImage,\n\t\tconvertToPNG: function (canvas, width, height) {\n\t\t\treturn convertToImage(canvas, width, height, 'png');\n\t\t},\n\t\tconvertToJPEG: function (canvas, width, height) {\n\t\t\treturn convertToImage(canvas, width, height, 'jpeg');\n\t\t},\n\t\tconvertToGIF: function (canvas, width, height) {\n\t\t\treturn convertToImage(canvas, width, height, 'gif');\n\t\t},\n\t\tconvertToBMP: function (canvas, width, height) {\n\t\t\treturn convertToImage(canvas, width, height, 'bmp');\n\t\t}\n\t};\n\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/canvas2image.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"},attrs:{\"id\":\"app\"}},[_c('el-row',{staticStyle:{\"height\":\"100%\"}},[_c('el-col',{staticStyle:{\"height\":\"100%\"},attrs:{\"span\":24}},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('router-view')],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8fda6598\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8fda6598\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8fda6598\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\" style=\"height:100%\">\n    <el-row style=\"height:100%\">\n      <el-col :span=\"24\" style=\"height:100%\">\n      <transition name=\"fade\">\n       <router-view></router-view>\n      </transition>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n  mounted:function(){\n    this.getLoginUser();\n    this.$store.dispatch(\"getEnumList\");//\n    this.$store.dispatch(\"getSelectList\");//\n      this.$store.dispatch(\"getDisplayItems\");//\n  },\n  data(){\n      return {\n        loginform:{\n          \"loginName\":\"\",\n          \"password\":\"\",\n          \"appname\":'AAA'\n        }\n      };\n  },\n  methods:{\n    getLoginUser:function(){\n      var self = this;\n      this.$http.post('/ys-web-wms/wms/getUserInfo').then(response=>{\n        if(response.body.status==200){\n          this.$store.commit(\"SET_USER\",response.body.data.user);\n          this.getRoleInfo();\n        }else{\n          this.errormsg=response.body.message;\n        }\n      },response=>{\n        this.$message({\n          'type':'error',\n          message:'',\n          'showClose':true\n        });\n      })\n    },\n    getRoleInfo(){\n      this.$http.post(\"/ys-web-wms/common/getRoleInfo\").then(function (result) {\n        if(result.data.state == 200){\n          this.$store.commit(\"SET_ROLE_INFO\",result.data.data);\n        }else{\n          this.$notify.error({\n            message:\"\",\n            type:\"error\"\n          })\n        }\n      })\n    }\n  },\n  watch:{\n    \"$store.state.user\":function (val) {\n//        this.$http.get(\"/ys-web-purchms/common/getDept?id=\" + val.id).then(function (result) {\n//          if(result.data.state == 200){\n//            this.$store.commit(\"SET_DEPT\",result.data.data);\n//          }else{\n//            this.$notify.error({\n//              title:\"\",\n//              message:result.data.message\n//            })\n//          }\n//        })\n    }\n  }\n}\n</script>\n\n<style>\nhtml,body{ height: 100%; }\n.fa{ margin-right: 5px; }\nbody{ padding:0; margin: 0px; font-family: 'Microsoft YaHei'; }\n.useControlBox{ width: 100%; padding-top:20px; padding-bottom:14px; }\n.top_badge{ display: block; width: 18px; height: 18px; position: absolute; right: 5px; top: 10px; background: #DD5044; border-radius: 50%; text-align: center; line-height: 18px; font-size: 12px;  color: #fff;}\n.userico{ font-size: 40px!important; margin-top: 8px; }\n.user-control-box{\n  display: inline-block;\n  vertical-align: top;\n  color:#fff;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","\n//\nconst MyTask = resolve => require.ensure([], () => resolve(require('../components/myTask/MyTask.vue')), 'myTask')\n\n//\nconst ReceivingList = resolve => require.ensure([], () => resolve(require('../components/receivingInspection/ReceivingList.vue')), 'receivingList')\nconst ReceivingDetail = resolve => require.ensure([], () => resolve(require('../components/receivingInspection/ReceivingDetail.vue')), 'receivingList')\nconst ReceivingNoteAdd = resolve => require.ensure([], () => resolve(require('../components/receivingInspection/receivingNoteAdd/ReceivingNoteAdd.vue')), 'receivingList')\nconst ReceivingNoteInfo = resolve => require.ensure([], () => resolve(require('../components/receivingInspection/receivingNoteInfo/ReceivingNoteInfo.vue')), 'receivingList')\nconst Receiving = resolve => require.ensure([], () => resolve(require('../components/receivingInspection/receiving/Receiving.vue')), 'receivingList')\nconst ReceivingNoteEdit = resolve => require.ensure([], () => resolve(require('../components/receivingInspection/receivingNoteEdit/ReceivingNoteEdit.vue')), 'receivingList')\nconst ReceivingNoteDel = resolve => require.ensure([], () => resolve(require('../components/receivingInspection/receivingNoteDel/ReceivingNoteDel.vue')), 'receivingList')\nconst ReceivingNotePrint = resolve => require.ensure([], () => resolve(require('../components/receivingInspection/receivingNotePrint/ReceivingNotePrint.vue')), 'receivingList')\nconst PrintTag = resolve => require.ensure([], () => resolve(require('../components/receivingInspection/printTag/PrintTag.vue')), 'receivingList')\n\n//\nconst PutInStorageList = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/PutInStorageList.vue')), 'putInStorageList')\nconst PutInStorageDetail = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/PutInStorageDetail.vue')), 'putInStorageList')\nconst GodownEntryAdd = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/godownEntryAdd/GodownEntryAdd.vue')), 'putInStorageList')\nconst GodownEntryInfo = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/godownEntryInfo/GodownEntryInfo.vue')), 'putInStorageList')\nconst ToExamine = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/toExamine/ToExamine.vue')), 'putInStorageList')\nconst Putaway = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/putaway/Putaway.vue')), 'putInStorageList')\nconst GodownEntryPrint = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/print/GodownEntryPrint.vue')), 'putInStorageList')\nconst GodownEntryTag= resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/printTag/PrintTag.vue')), 'putInStorageList')\nconst GodownEntryCopy = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/copy/GodownEntryCopy.vue')), 'putInStorageList')\nconst GodownEntryEdit = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/godownEntyrEdit/GodownEntryEdit.vue')), 'putInStorageList')\nconst GodownEntryDel = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/godownEntryDel/GodownEntryDel.vue')), 'putInStorageList')\nconst GodownEntryCancellation = resolve => require.ensure([], () => resolve(require('../components/putInStorageManage/godownEntryCancellation/cancellation.vue')), 'putInStorageList')\n\n//\nconst InventoryList = resolve => require.ensure([], () => resolve(require('../components/InventoryManagement/InventoryList.vue')), 'inventoryList')\nconst InventoryDetail = resolve => require.ensure([], () => resolve(require('../components/InventoryManagement/InventoryDetail.vue')), 'inventoryList')\nconst InventoryInfo = resolve => require.ensure([], () => resolve(require('../components/InventoryManagement/InventoryInfo.vue')), 'inventoryList')\nconst InventoryDeblockingInfo = resolve => require.ensure([], () => resolve(require('../components/InventoryManagement/DeblockingInfo.vue')), 'inventoryList')\n\n//\nconst PutOutStorageList = resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/PutOutStorageList.vue')), 'putOutStorageList')\nconst PutOutStorageDetail = resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/PutOutStorageDetail.vue')), 'putOutStorageList')\nconst OutBoundOrderAdd = resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/outboundOrderAdd/OutBoundOrderAdd.vue')), 'putOutStorageList')\nconst OutBoundOrderInfo= resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/outBoundOrderInfo/OutBoundOrderInfo.vue')), 'putOutStorageList')\nconst OutBoundOrderToExamine= resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/toExamine/ToExamine.vue')), 'putOutStorageList')\nconst OutBoundOrderSoldOut= resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/soldOut/SoldOut.vue')), 'putOutStorageList')\nconst OutBoundOrderPrint = resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/print/OutBoundOrderPrint.vue')), 'putOutStorageList')\nconst OutBoundOrderCopy = resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/copy/OutBoundOrderCopy.vue')), 'putOutStorageList')\nconst OutBoundOrderDel = resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/del/OutBoundOrderDel.vue')), 'putOutStorageList')\nconst OutBoundOrderEdit = resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/edit/OutBoundOrderEdit.vue')), 'putOutStorageList')\nconst OutBoundOrderCancellation = resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/cancellation/Cancellation.vue')), 'putOutStorageList')\nconst OutBoundOrderConfirm = resolve => require.ensure([], () => resolve(require('../components/putOutStorageManage/confirm/Confirm.vue')), 'putOutStorageList')\n\n//\nconst AllocationList = resolve => require.ensure([], () => resolve(require('../components/allocation/AllocationList.vue')), 'allocation')\nconst AllocationDetail = resolve => require.ensure([], () => resolve(require('../components/allocation/AllocationDetail.vue')), 'allocation')\nconst AllocationAdd = resolve => require.ensure([], () => resolve(require('../components/allocation/allocationAdd/AllocationAdd.vue')), 'allocation')\nconst AllocationInfo = resolve => require.ensure([], () => resolve(require('../components/allocation/allocationInfo/AllocationInfo.vue')), 'allocation')\nconst AllocationToExamine = resolve => require.ensure([], () => resolve(require('../components/allocation/toExamine/ToExamine.vue')), 'allocation')\nconst AllocationToPrint = resolve => require.ensure([], () => resolve(require('../components/allocation/print/AllocationPrint.vue')), 'allocation')\nconst AllocationCancellation = resolve => require.ensure([], () => resolve(require('../components/allocation/cancellation/cancellation.vue')), 'allocation')\n\n//\nconst StockTackingList = resolve => require.ensure([], () => resolve(require('../components/stockTacking/StockTackingList.vue')), 'stockTacking')\nconst StockTackingDetail = resolve => require.ensure([], () => resolve(require('../components/stockTacking/StockTackingDetail.vue')), 'stockTacking')\nconst StockTackingAdd = resolve => require.ensure([], () => resolve(require('../components/stockTacking/stockTackingAdd/StockTackingAdd.vue')), 'stockTacking')\nconst StockTackingInfo = resolve => require.ensure([], () => resolve(require('../components/stockTacking/stockTackingInfo/StockTackingInfo.vue')), 'stockTacking')\nconst StockTackingVerify = resolve => require.ensure([], () => resolve(require('../components/stockTacking/verify/Verify.vue')), 'stockTacking')\nconst StockTackingToExamine = resolve => require.ensure([], () => resolve(require('../components/stockTacking/toExamine/ToExamine.vue')), 'stockTacking')\nconst StockTackingInventoryProfit = resolve => require.ensure([], () => resolve(require('../components/stockTacking/inventoryProfit/InventoryProfit.vue')), 'stockTacking')\nconst StockTackingInventoryLosses = resolve => require.ensure([], () => resolve(require('../components/stockTacking/inventoryLosses/InventoryLosses.vue')), 'stockTacking')\n\n//\nconst ReportedLossList = resolve => require.ensure([], () => resolve(require('../components/reportedLoss/ReportedLossList.vue')), 'reportedLoss')\nconst ReportedLossDetail = resolve => require.ensure([], () => resolve(require('../components/reportedLoss/ReportedLossDetail.vue')), 'reportedLoss')\nconst ReportedLossInfo = resolve => require.ensure([], () => resolve(require('../components/reportedLoss/reportedLossInfo/ReportedLossInfo.vue')), 'reportedLoss')\nconst ReportedLossAdd = resolve => require.ensure([], () => resolve(require('../components/reportedLoss/reportedLossAdd/ReportedLossAdd.vue')), 'reportedLoss')\nconst ReportedLossToExamine = resolve => require.ensure([], () => resolve(require('../components/reportedLoss/toExamine/ToExamine.vue')), 'reportedLoss')\n\n//\nconst WarningManageList = resolve => require.ensure([], () => resolve(require('../components/warningManage/WarningManageList.vue')), 'reportedLoss')\n\n//\nconst DMContainer = resolve => require.ensure([], () => resolve(require('../components/dataManagement/DMContainer.vue')), 'dataManagement')\nconst Store = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/StoreManagement.vue')), 'dataManagement')\nconst Supplier = resolve => require.ensure([], () => resolve(require('../components/dataManagement/supplier/SupplierManagement.vue')), 'dataManagement')\nconst Config = resolve => require.ensure([], () => resolve(require('../components/dataManagement/config/ConfigManagement.vue')), 'dataManagement')\nconst Field = resolve => require.ensure([], () => resolve(require('../components/dataManagement/field/FieldManagement.vue')), 'dataManagement')\nconst StoreDetails = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/StoreDetails.vue')), 'dataManagement')\nconst StoreDetail = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/store/StoreDetail.vue')), 'dataManagement')\nconst StoreInfo = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/store/StoreInfo.vue')), 'dataManagement')\nconst StoreEdit = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/store/StoreEdit.vue')), 'dataManagement')\nconst AreaDetail = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/area/AreaDetail.vue')), 'dataManagement')\nconst AreaInfo = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/area/AreaInfo.vue')), 'dataManagement')\nconst AreaEdit = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/area/AreaEdit.vue')), 'dataManagement')\nconst ConDetail = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/container/ConDetail.vue')), 'dataManagement')\nconst ConInfo = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/container/ConInfo.vue')), 'dataManagement')\nconst ConEdit = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/container/ConEdit.vue')), 'dataManagement')\nconst LocDetail = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/location/LocDetail.vue')), 'dataManagement')\nconst LocInfo = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/location/LocInfo.vue')), 'dataManagement')\nconst LocEdit = resolve => require.ensure([], () => resolve(require('../components/dataManagement/store/location/LocEdit.vue')), 'dataManagement')\n\nconst SupplierDetail = resolve => require.ensure([], () => resolve(require('../components/dataManagement/supplier/SupplierDetail.vue')), 'dataManagement')\nconst SupplierInfo = resolve => require.ensure([], () => resolve(require('../components/dataManagement/supplier/SupplierInfo.vue')), 'dataManagement')\nconst SupplierEdit = resolve => require.ensure([], () => resolve(require('../components/dataManagement/supplier/SupplierEdit.vue')), 'dataManagement')\n\nconst ConfigDetail = resolve => require.ensure([], () => resolve(require('../components/dataManagement/config/ConfigDetail.vue')), 'dataManagement')\nconst ConfigList = resolve => require.ensure([], () => resolve(require('../components/dataManagement/config/ConfigList.vue')), 'dataManagement')\nconst ConfigEdit = resolve => require.ensure([], () => resolve(require('../components/dataManagement/config/ConfigEdit.vue')), 'dataManagement')\n\nexport default [\n  //\n  {path:'/myTask',component:MyTask,name:\"myTask\"},\n  //\n  {path:'/receivingInspection',component:ReceivingList,name:\"receivingList\",\n    children:[\n      {'path':'detail/:id',\n        component:ReceivingDetail,\n        children:[\n          {path:'info',component:ReceivingNoteInfo},\n          {path:'receiving',component:Receiving},\n          {path:'edit',component:ReceivingNoteEdit},\n          {path:'del',component:ReceivingNoteDel},\n          {path:'print',component:ReceivingNotePrint},\n          {path:'tag',component:PrintTag},\n        ]},\n      {'path':'receivingNoteAdd',\n        component:ReceivingNoteAdd\n      }\n    ]},\n  //\n  {path:'/putInStorage',component:PutInStorageList,name:\"putInStorage\",\n    children:[\n      {'path':'detail/:id',\n        component:PutInStorageDetail,\n        children:[\n          {path:'info',component:GodownEntryInfo},\n          {path:'examine',component:ToExamine},\n          {path:'putaway',component:Putaway},\n          {path:'print',component:GodownEntryPrint},\n          {path:'tag',component:GodownEntryTag},\n          {path:'copy',component:GodownEntryCopy},\n          {path:'edit',component:GodownEntryEdit},\n          {path:'del',component:GodownEntryDel},\n          {path:'cancellation',component:GodownEntryCancellation},\n\n        ]},\n      {'path':'godownEntryAdd',\n        component:GodownEntryAdd\n      }\n    ]},\n  //\n  {path:'/inventory',component:InventoryList,name:\"inventory\",\n    children:[\n      {'path':'detail/:id',\n        component:InventoryDetail,\n        children:[\n          {path:'info',component:InventoryInfo},\n          {path:'deblockingInfo',component:InventoryDeblockingInfo},\n        ]},\n    ]},\n  //\n  {path:'/putOutStorage',component:PutOutStorageList,name:\"putOutStorage\",\n    children:[\n      {'path':'detail/:id',\n        component:PutOutStorageDetail,\n        children:[\n          {path:'info',component:OutBoundOrderInfo},\n          {path:'examine',component:OutBoundOrderToExamine},\n          {path:'soldOut',component:OutBoundOrderSoldOut},\n          {path:'print',component:OutBoundOrderPrint},\n          {path:'copy',component:OutBoundOrderCopy},\n          {path:'del',component:OutBoundOrderDel},\n          {path:'edit',component:OutBoundOrderEdit},\n          {path:'cancellation',component:OutBoundOrderCancellation},\n          {path:'confirm',component:OutBoundOrderConfirm},\n\n        ]},\n    {'path':'outBoundOrderAdd',\n      component:OutBoundOrderAdd\n    }\n  ]},\n  //\n  {path:'/allocation',component:AllocationList,name:\"allocation\",\n    children:[\n      {'path':'detail/:id',\n        component:AllocationDetail,\n        children:[\n          {path:'info',component:AllocationInfo},\n          {path:'examine',component:AllocationToExamine},\n          {path:'print',component:AllocationToPrint},\n          {path:'cancellation',component:AllocationCancellation},\n        ]},\n      {\"path\":\"allocationAdd\",component:AllocationAdd}\n    ]},\n  //\n  {path:'/stockTacking',component:StockTackingList,name:\"stockTacking\",\n    children:[\n      {'path':'detail/:id',\n        component:StockTackingDetail,\n        children:[\n          {path:'info',component:StockTackingInfo},\n          {path:'verify',component:StockTackingVerify},\n          {path:'examine',component:StockTackingToExamine},\n          {path:'inventoryProfit',component:StockTackingInventoryProfit},\n          {path:'inventoryLosses',component:StockTackingInventoryLosses},\n\n        ]},\n      {\"path\":\"stockTackingAdd\",component:StockTackingAdd}\n    ]},\n  //\n  {path:'/reportedLoss',component:ReportedLossList,name:\"reportedLoss\",\n    children:[\n      {'path':'detail/:id',\n        component:ReportedLossDetail,\n        children:[\n          {path:'info',component:ReportedLossInfo},\n          {path:'examine',component:ReportedLossToExamine},\n\n        ]},\n      {\"path\":\"reportedLossAdd\",component:ReportedLossAdd}\n    ]},\n  //\n  {path:'/warningManage',component:WarningManageList,name:\"warningManage\"},\n  //\n  {\n    path:'/dataManagement',component:DMContainer,name:\"DMContainer\",redirect:\"/dataManagement/store\",\n    children:[\n      {path:'store',component:Store,name:'store',\n      children:[\n        {path:'detail',component:StoreDetails,name:'storeDetails',\n          children:[\n            {path:'store/:id',component:StoreDetail,name:'storeDetail',\n            children:[\n            {path:'info',component:StoreInfo,name:'storeInfo'},\n            {path:'edit',component:StoreEdit,name:'storeEdit'}\n            ]\n            },\n            {path:'storeAdd',component:StoreEdit,name:'storeAdd'},\n            {path:'area/:id',component:AreaDetail,name:'areaDetail',\n            children:[\n            {path:'info',component:AreaInfo,name:'areaInfo'},\n            {path:'edit',component:AreaEdit,name:'areaEdit'}\n            ]\n            },\n            {path:'areaAdd',component:AreaEdit,name:'areaAdd'},\n            {path:'container/:id',component:ConDetail,name:'conDetail',\n            children:[\n            {path:'info',component:ConInfo,name:'areaInfo'},\n            {path:'edit',component:ConEdit,name:'areaEdit'}\n            ]\n            },\n            {path:'conAdd',component:ConEdit,name:'conAdd'},\n             {path:'location/:id',component:LocDetail,name:'locDetail',\n            children:[\n            {path:'info',component:LocInfo,name:'locInfo'},\n            {path:'edit',component:LocEdit,name:'locEdit'}\n            ]\n            },\n            {path:'locAdd',component:LocEdit,name:'locAdd'},\n          ]\n        }\n      ]\n      },\n      {path:'supplier',component:Supplier,name:'supplier',\n        children:[\n        {path:'detail/:id',component:SupplierDetail,name:'supplierDetail',\n        children:[\n        {path:'info',component:SupplierInfo,name:'supplierInfo'},\n        {path:'edit',component:SupplierEdit,name:'supplierEdit'}\n        ]\n        },\n        {path:'add',component:SupplierEdit,name:'supplierAdd'}\n        ]\n      },\n      {path:'config',component:Config,name:'config', redirect:\"/dataManagement/config/list\",\n      children:[\n        {path:'list',component:ConfigList,name:'configList'},\n        {path:'add',component:ConfigEdit,name:'configAdd'},\n        {path:'edit/:id',component:ConfigEdit,name:'configEdit'}\n      ]\n      },\n      {path:'field',component:Field,name:'field'},\n    ]\n  }\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/router-config.js","import * as types from \"./mutations_types\"\r\n\r\nexport default {\r\n  [types.ADD_ORDER](state,addModel){\r\n    state.todayplans.plans.push(addModel);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/order/mutations.js","export const ADD_ORDER = 'ADD_PLAN'\r\nexport const EDIT_ORDER = 'UPDATE_PLAN'\n\n\n// WEBPACK FOOTER //\n// ./src/store/order/mutations_types.js","import * as types from './mutations_types'\r\nimport Vue from 'vue'\r\nexport const addNewOrder = ({ commit }, dateformat) => {\r\n  return new Promise((resolve,reject)=>{\r\n    Vue.http.post('/plan',{\"todayformat\":dateformat}).then(function(res){\r\n      if(res.data.code==200){\r\n        commit(types.ADD_ORDER,res.data.data);\r\n        resolve();\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/order/actions.js","import mutations from './mutations'\r\nimport * as actions from './actions'\r\nconst state = {\r\n  orderstatus:[{\r\n          value: '10',\r\n          label: ''\r\n        },{\r\n          value: '1',\r\n          label: ''\r\n        },{\r\n          value: '11',\r\n          label: ''\r\n        }\r\n  ],\r\n  settledlist:[{\r\n    value: '0',\r\n    name: ''\r\n  },{\r\n    value: '1',\r\n    name: ''\r\n  }\r\n  ]\r\n}\r\n\r\nexport default{\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/order/index.js","import * as types from './mutations_types'\r\nimport Vue from 'vue'\r\nexport const addNewOrder = ({ commit }, dateformat) => {\r\n  return new Promise((resolve,reject)=>{\r\n    Vue.http.post('/plan',{\"todayformat\":dateformat}).then(function(res){\r\n      if(res.data.code==200){\r\n        commit(types.ADD_ORDER,res.data.data);\r\n        resolve();\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/drawings/actions.js","export const ADD_ORDER = 'ADD_PLAN'\r\nexport const EDIT_ORDER = 'UPDATE_PLAN'\n\n\n// WEBPACK FOOTER //\n// ./src/store/drawings/mutations_types.js","import mutations from './mutations'\r\nimport * as actions from './actions'\r\nconst state = {\r\n  categorylist:[{\r\n          value: '1',\r\n          label: ''\r\n        },{\r\n          value: '2',\r\n          label: ''\r\n        }\r\n    ]\r\n}\r\n\r\nexport default{\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/drawings/index.js","import * as types from \"./mutations_types\"\r\n\r\nexport default {\r\n  [types.ADD_ORDER](state,addModel){\r\n    state.todayplans.plans.push(addModel);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/drawings/mutations.js","import * as types from \"./mutations_types\"\n\nexport default {\n  [types.SET_SLIDE_FLAG](state){\n    state.slideFlag = !state.slideFlag;\n  },\n  [types.SET_RECEIVING_INFO](state,val){\n    state.receivingInfo = val;\n  },\n  [types.SET_SELECT_LIST](state,val){\n    state.selectList = val;\n  },\n  [types.SET_PUT_IN_STORAGE_INFO](state,val){\n    state.putInStorageInfo = val;\n  },\n  [types.SET_USER](state,useModel){\n    state.user = useModel;\n  },\n  [types.SET_Enum_List](state,val){\n    state.enumList = val;\n  },\n  [types.SET_DO_AJAX_SUCCESS](state,val){\n    state.doAjaxSuccess = val;\n  },\n  [types.SET_INVENTORY_INFO](state,val){\n    state.inventoryInfo = val;\n  },\n  [types.SET_PUT_OUT_STORAGE](state,val){\n    state.putOutStorageInfo = val;\n  },\n  [types.SET_ROLE_INFO](state,val){\n    state.roleInfo = val;\n  },\n    [types.SET_DISPLAY_ITEMS](state,val){\n        state.displayItems = val;\n    },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","export const SET_SLIDE_FLAG = 'SET_SLIDE_FLAG'\nexport const SET_Enum_List = 'SET_Enum_List'\nexport const SET_RECEIVING_INFO = 'SET_RECEIVING_INFO'\nexport const SET_SELECT_LIST = 'SET_SELECT_LIST'\nexport const SET_PUT_IN_STORAGE_INFO = 'SET_PUT_IN_STORAGE_INFO'\nexport const SET_USER = 'SET_USER'\nexport const SET_DO_AJAX_SUCCESS = 'SET_DO_AJAX_SUCCESS'\nexport const SET_INVENTORY_INFO = 'SET_INVENTORY_INFO'\nexport const SET_PUT_OUT_STORAGE = 'SET_PUT_OUT_STORAGE'\n// export const SET_DEPT = 'SET_DEPT'\nexport const SET_ROLE_INFO = 'SET_ROLE_INFO'\nexport const SET_DISPLAY_ITEMS='SET_DISPLAY_ITEMS'\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations_types.js","import mutations from './mutations'\r\nimport * as actions from './actions'\r\nconst state = {\r\n    is_refresh:false,//\r\n    currentRow:{},//\r\n    expandKeys:[]//\r\n}\r\n\r\nexport default{\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/dataManagement/index.js","import * as types from \"./mutations_types\"\r\n\r\nexport default {\r\n  [types.IS_REFRESH](state){\r\n        state.is_refresh = !state.is_refresh\r\n    },\r\n    [types.SET_CURRENTROW](state,data){\r\n        state.currentRow = data\r\n    },\r\n    [types.SET_EXPAND_KEYS](state,data){\r\n        state.expandKeys = data\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/dataManagement/mutations.js","export const SET_CURRENTROW = 'SET_CURRENTROW'\r\nexport const IS_REFRESH = 'IS_REFRESH'\r\nexport const SET_EXPAND_KEYS = 'SET_EXPAND_KEYS'\n\n\n// WEBPACK FOOTER //\n// ./src/store/dataManagement/mutations_types.js","import * as types from './mutations_types'\nimport Vue from 'vue'\n\nexport const getEnumList = ({commit}) => {\n  return new Promise((resolve,reject)=>{\n      Vue.http.get('/ys-web-wms/common/enumList').then(function(res){\n      if(res.data.state==200){\n        commit(types.SET_Enum_List,res.data.data);\n        resolve();\n      }\n    });\n  });\n};\nexport const getSelectList = ({commit}) => {\n  return new Promise((resolve,reject)=>{\n      Vue.http.get('/ys-web-wms/common/getSelectList').then(function(res){\n      if(res.data.state==200){\n        commit(types.SET_SELECT_LIST,res.data.data);\n        resolve();\n      }\n    });\n  });\n};\nexport const getDisplayItems = ({commit}) => {\n    return new Promise((resolve,reject)=>{\n        Vue.http.get('/ys-web-wms/field/getFields').then(function(res){\n            if(res.data.state==200){\n                commit(types.SET_DISPLAY_ITEMS,res.data.data);\n                resolve();\n            }\n        });\n    });\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport moduleOrder from './order'\nimport moduleDrawing from './drawings'\nimport mutations from './mutations'\nimport moduleDM from './dataManagement'\n\nimport * as actions from './actions'\nVue.use(Vuex)\nconst state = {\n  slideFlag:true, //\n  user:{},\n  roleInfo:{},//\n  enumList:{},//\n  receivingInfo:{},//\n  putInStorageInfo:{},//\n  putOutStorageInfo:{},//\n  inventoryInfo:{},//\n  selectList:{},//\n  listDoAjax:true,//\n  doAjaxSuccess:true,//\n    displayItems:{\n        damageDescs:[],\n        checkDescs:[],\n        stockInDescs:[],\n        stockOutDescs:[],\n        transferDescs:[]\n    },//\n  //\n  pickerOptions:{\n    disabledDate(time) {\n      return time.getTime() > Date.now();\n    },\n    shortcuts: [{\n      text: '',\n      onClick(picker) {\n        picker.$emit('pick', new Date());\n      }\n    }, {\n      text: '',\n      onClick(picker) {\n        const date = new Date();\n        date.setTime(date.getTime() - 3600 * 1000 * 24);\n        picker.$emit('pick', date);\n      }\n    }, {\n      text: '',\n      onClick(picker) {\n        const date = new Date();\n        date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n        picker.$emit('pick', date);\n      }\n    }]\n  },\n}\nexport default new Vuex.Store({\n  modules:{\n    moduleOrder,\n    moduleDrawing,\n      moduleDM\n  },\n  state,\n  mutations,\n  actions\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","const _filters={};\n_filters.formatTime = function(time){\n  var min = '00' + (time / 60 | 0), sec = time % 60;\n    sec = '00' + (sec | 0);\n    return [min.substr(-2), sec.substr(-2)].join(':');\n}\n\n_filters.enumtext = function(value,enumList){\n  if(!enumList||enumList.length==0){\n    return value;\n  }else{\n      var temItem = enumList.find((item)=>{\n      if(item.code==value || item.value ==value){\n        return item;\n      }\n      });\n\n      return ((temItem&&temItem.name) ? temItem.name : value);\n  }\n\n}\n_filters.machineTypeText = function(value,enumList){\n  if(!enumList||enumList.length==0){\n    return value;\n  }else{\n    var temItem = enumList.find((item)=>{\n      if(item.categoryId==value){\n        return item;\n      }\n    });\n    return ((temItem&&temItem.categoryName) ? temItem.categoryName : value);\n  }\n}\n\n_filters.materialTypeText = function(value,enumList){\n  if(!enumList||enumList.length==0){\n    return value;\n  }else{\n    var temItem = enumList.find((item)=>{\n        if(item.id==value){\n      return item;\n    }\n  });\n    return ((temItem&&temItem.name) ? temItem.name : value);\n  }\n}\n\n_filters.materialChildrenTypeText = function(value,enumList){\n  if(!enumList||enumList.length==0){\n    return value;\n  }else{\n    var temItem = enumList.find((item)=>{\n        if(!item.children||item.children.length==0){\n          return value\n        }\n        item.children.find((children)=>{\n          if(children.id == value){\n            return children\n          }\n        })\n  });\n    return ((temItem&&temItem.name) ? temItem.name : value);\n  }\n}\n\n\n\n\nexport default (Vue)=>{\n  Object.keys(_filters).forEach(key =>{\n    Vue.filter(key,_filters[key])\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters.js","/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/*jshint globalstrict: false */\n/* globals PDFJS */\n\n// Initializing PDFJS global object (if still undefined)\nif (typeof PDFJS === 'undefined') {\n  (typeof window !== 'undefined' ? window : this).PDFJS = {};\n}\n\nPDFJS.version = '1.1.9';\nPDFJS.build = 'c5eb34e';\n\n(function pdfjsWrapper() {\n  // Use strict in our context only - users might not want it\n  'use strict';\n\n/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals Cmd, ColorSpace, Dict, MozBlobBuilder, Name, PDFJS, Ref, URL,\n           Promise */\n\n'use strict';\n\nvar globalScope = (typeof window === 'undefined') ? this : window;\n\nvar isWorker = (typeof window === 'undefined');\n\nvar FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\nvar TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\n\nvar ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\n\nvar AnnotationType = {\n  WIDGET: 1,\n  TEXT: 2,\n  LINK: 3\n};\n\nvar StreamType = {\n  UNKNOWN: 0,\n  FLATE: 1,\n  LZW: 2,\n  DCT: 3,\n  JPX: 4,\n  JBIG: 5,\n  A85: 6,\n  AHX: 7,\n  CCF: 8,\n  RL: 9\n};\n\nvar FontType = {\n  UNKNOWN: 0,\n  TYPE1: 1,\n  TYPE1C: 2,\n  CIDFONTTYPE0: 3,\n  CIDFONTTYPE0C: 4,\n  TRUETYPE: 5,\n  CIDFONTTYPE2: 6,\n  TYPE3: 7,\n  OPENTYPE: 8,\n  TYPE0: 9,\n  MMTYPE1: 10\n};\n\n// The global PDFJS object exposes the API\n// In production, it will be declared outside a global wrapper\n// In development, it will be declared here\nif (!globalScope.PDFJS) {\n  globalScope.PDFJS = {};\n}\n\nglobalScope.PDFJS.pdfBug = false;\n\nPDFJS.VERBOSITY_LEVELS = {\n  errors: 0,\n  warnings: 1,\n  infos: 5\n};\n\n// All the possible operations for an operator list.\nvar OPS = PDFJS.OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91\n};\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (PDFJS.verbosity >= PDFJS.VERBOSITY_LEVELS.infos) {\n    console.log('Info: ' + msg);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (PDFJS.verbosity >= PDFJS.VERBOSITY_LEVELS.warnings) {\n    console.log('Warning: ' + msg);\n  }\n}\n\n// Fatal errors that should trigger the fallback UI and halt execution by\n// throwing an exception.\nfunction error(msg) {\n  // If multiple arguments were passed, pass them all to the log function.\n  if (arguments.length > 1) {\n    var logArguments = ['Error:'];\n    logArguments.push.apply(logArguments, arguments);\n    console.log.apply(console, logArguments);\n    // Join the arguments into a single string for the lines below.\n    msg = [].join.call(arguments, ' ');\n  } else {\n    console.log('Error: ' + msg);\n  }\n  console.log(backtrace());\n  UnsupportedManager.notify(UNSUPPORTED_FEATURES.unknown);\n  throw new Error(msg);\n}\n\nfunction backtrace() {\n  try {\n    throw new Error();\n  } catch (e) {\n    return e.stack ? e.stack.split('\\n').slice(2).join('\\n') : '';\n  }\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    error(msg);\n  }\n}\n\nvar UNSUPPORTED_FEATURES = PDFJS.UNSUPPORTED_FEATURES = {\n  unknown: 'unknown',\n  forms: 'forms',\n  javaScript: 'javaScript',\n  smask: 'smask',\n  shadingPattern: 'shadingPattern',\n  font: 'font'\n};\n\nvar UnsupportedManager = PDFJS.UnsupportedManager =\n  (function UnsupportedManagerClosure() {\n  var listeners = [];\n  return {\n    listen: function (cb) {\n      listeners.push(cb);\n    },\n    notify: function (featureId) {\n      warn('Unsupported feature \"' + featureId + '\"');\n      for (var i = 0, ii = listeners.length; i < ii; i++) {\n        listeners[i](featureId);\n      }\n    }\n  };\n})();\n\n// Combines two URLs. The baseUrl shall be absolute URL. If the url is an\n// absolute URL, it will be returned as is.\nfunction combineUrl(baseUrl, url) {\n  if (!url) {\n    return baseUrl;\n  }\n  if (/^[a-z][a-z0-9+\\-.]*:/i.test(url)) {\n    return url;\n  }\n  var i;\n  if (url.charAt(0) === '/') {\n    // absolute path\n    i = baseUrl.indexOf('://');\n    if (url.charAt(1) === '/') {\n      ++i;\n    } else {\n      i = baseUrl.indexOf('/', i + 3);\n    }\n    return baseUrl.substring(0, i) + url;\n  } else {\n    // relative path\n    var pathLength = baseUrl.length;\n    i = baseUrl.lastIndexOf('#');\n    pathLength = i >= 0 ? i : pathLength;\n    i = baseUrl.lastIndexOf('?', pathLength);\n    pathLength = i >= 0 ? i : pathLength;\n    var prefixLength = baseUrl.lastIndexOf('/', pathLength);\n    return baseUrl.substring(0, prefixLength + 1) + url;\n  }\n}\n\n// Validates if URL is safe and allowed, e.g. to avoid XSS.\nfunction isValidUrl(url, allowRelative) {\n  if (!url) {\n    return false;\n  }\n  // RFC 3986 (http://tools.ietf.org/html/rfc3986#section-3.1)\n  // scheme = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n  var protocol = /^[a-z][a-z0-9+\\-.]*(?=:)/i.exec(url);\n  if (!protocol) {\n    return allowRelative;\n  }\n  protocol = protocol[0].toLowerCase();\n  switch (protocol) {\n    case 'http':\n    case 'https':\n    case 'ftp':\n    case 'mailto':\n    case 'tel':\n      return true;\n    default:\n      return false;\n  }\n}\nPDFJS.isValidUrl = isValidUrl;\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, { value: value,\n                                     enumerable: true,\n                                     configurable: true,\n                                     writable: false });\n  return value;\n}\nPDFJS.shadow = shadow;\n\nvar PasswordResponses = PDFJS.PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\n\nvar PasswordException = (function PasswordExceptionClosure() {\n  function PasswordException(msg, code) {\n    this.name = 'PasswordException';\n    this.message = msg;\n    this.code = code;\n  }\n\n  PasswordException.prototype = new Error();\n  PasswordException.constructor = PasswordException;\n\n  return PasswordException;\n})();\nPDFJS.PasswordException = PasswordException;\n\nvar UnknownErrorException = (function UnknownErrorExceptionClosure() {\n  function UnknownErrorException(msg, details) {\n    this.name = 'UnknownErrorException';\n    this.message = msg;\n    this.details = details;\n  }\n\n  UnknownErrorException.prototype = new Error();\n  UnknownErrorException.constructor = UnknownErrorException;\n\n  return UnknownErrorException;\n})();\nPDFJS.UnknownErrorException = UnknownErrorException;\n\nvar InvalidPDFException = (function InvalidPDFExceptionClosure() {\n  function InvalidPDFException(msg) {\n    this.name = 'InvalidPDFException';\n    this.message = msg;\n  }\n\n  InvalidPDFException.prototype = new Error();\n  InvalidPDFException.constructor = InvalidPDFException;\n\n  return InvalidPDFException;\n})();\nPDFJS.InvalidPDFException = InvalidPDFException;\n\nvar MissingPDFException = (function MissingPDFExceptionClosure() {\n  function MissingPDFException(msg) {\n    this.name = 'MissingPDFException';\n    this.message = msg;\n  }\n\n  MissingPDFException.prototype = new Error();\n  MissingPDFException.constructor = MissingPDFException;\n\n  return MissingPDFException;\n})();\nPDFJS.MissingPDFException = MissingPDFException;\n\nvar UnexpectedResponseException =\n    (function UnexpectedResponseExceptionClosure() {\n  function UnexpectedResponseException(msg, status) {\n    this.name = 'UnexpectedResponseException';\n    this.message = msg;\n    this.status = status;\n  }\n\n  UnexpectedResponseException.prototype = new Error();\n  UnexpectedResponseException.constructor = UnexpectedResponseException;\n\n  return UnexpectedResponseException;\n})();\nPDFJS.UnexpectedResponseException = UnexpectedResponseException;\n\nvar NotImplementedException = (function NotImplementedExceptionClosure() {\n  function NotImplementedException(msg) {\n    this.message = msg;\n  }\n\n  NotImplementedException.prototype = new Error();\n  NotImplementedException.prototype.name = 'NotImplementedException';\n  NotImplementedException.constructor = NotImplementedException;\n\n  return NotImplementedException;\n})();\n\nvar MissingDataException = (function MissingDataExceptionClosure() {\n  function MissingDataException(begin, end) {\n    this.begin = begin;\n    this.end = end;\n    this.message = 'Missing data [' + begin + ', ' + end + ')';\n  }\n\n  MissingDataException.prototype = new Error();\n  MissingDataException.prototype.name = 'MissingDataException';\n  MissingDataException.constructor = MissingDataException;\n\n  return MissingDataException;\n})();\n\nvar XRefParseException = (function XRefParseExceptionClosure() {\n  function XRefParseException(msg) {\n    this.message = msg;\n  }\n\n  XRefParseException.prototype = new Error();\n  XRefParseException.prototype.name = 'XRefParseException';\n  XRefParseException.constructor = XRefParseException;\n\n  return XRefParseException;\n})();\n\n\nfunction bytesToString(bytes) {\n  assert(bytes !== null && typeof bytes === 'object' &&\n         bytes.length !== undefined, 'Invalid argument for bytesToString');\n  var length = bytes.length;\n  var MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  var strBuf = [];\n  for (var i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    var chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    var chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join('');\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === 'string', 'Invalid argument for stringToBytes');\n  var length = str.length;\n  var bytes = new Uint8Array(length);\n  for (var i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xFF;\n  }\n  return bytes;\n}\n\nfunction string32(value) {\n  return String.fromCharCode((value >> 24) & 0xff, (value >> 16) & 0xff,\n                             (value >> 8) & 0xff, value & 0xff);\n}\n\nfunction log2(x) {\n  var n = 1, i = 0;\n  while (x > n) {\n    n <<= 1;\n    i++;\n  }\n  return i;\n}\n\nfunction readInt8(data, start) {\n  return (data[start] << 24) >> 24;\n}\n\nfunction readUint16(data, offset) {\n  return (data[offset] << 8) | data[offset + 1];\n}\n\nfunction readUint32(data, offset) {\n  return ((data[offset] << 24) | (data[offset + 1] << 16) |\n         (data[offset + 2] << 8) | data[offset + 3]) >>> 0;\n}\n\n// Lazy test the endianness of the platform\n// NOTE: This will be 'true' for simulated TypedArrays\nfunction isLittleEndian() {\n  var buffer8 = new Uint8Array(2);\n  buffer8[0] = 1;\n  var buffer16 = new Uint16Array(buffer8.buffer);\n  return (buffer16[0] === 1);\n}\n\nObject.defineProperty(PDFJS, 'isLittleEndian', {\n  configurable: true,\n  get: function PDFJS_isLittleEndian() {\n    return shadow(PDFJS, 'isLittleEndian', isLittleEndian());\n  }\n});\n\n  // Lazy test if the userAgant support CanvasTypedArrays\nfunction hasCanvasTypedArrays() {\n  var canvas = document.createElement('canvas');\n  canvas.width = canvas.height = 1;\n  var ctx = canvas.getContext('2d');\n  var imageData = ctx.createImageData(1, 1);\n  return (typeof imageData.data.buffer !== 'undefined');\n}\n\nObject.defineProperty(PDFJS, 'hasCanvasTypedArrays', {\n  configurable: true,\n  get: function PDFJS_hasCanvasTypedArrays() {\n    return shadow(PDFJS, 'hasCanvasTypedArrays', hasCanvasTypedArrays());\n  }\n});\n\nvar Uint32ArrayView = (function Uint32ArrayViewClosure() {\n\n  function Uint32ArrayView(buffer, length) {\n    this.buffer = buffer;\n    this.byteLength = buffer.length;\n    this.length = length === undefined ? (this.byteLength >> 2) : length;\n    ensureUint32ArrayViewProps(this.length);\n  }\n  Uint32ArrayView.prototype = Object.create(null);\n\n  var uint32ArrayViewSetters = 0;\n  function createUint32ArrayProp(index) {\n    return {\n      get: function () {\n        var buffer = this.buffer, offset = index << 2;\n        return (buffer[offset] | (buffer[offset + 1] << 8) |\n          (buffer[offset + 2] << 16) | (buffer[offset + 3] << 24)) >>> 0;\n      },\n      set: function (value) {\n        var buffer = this.buffer, offset = index << 2;\n        buffer[offset] = value & 255;\n        buffer[offset + 1] = (value >> 8) & 255;\n        buffer[offset + 2] = (value >> 16) & 255;\n        buffer[offset + 3] = (value >>> 24) & 255;\n      }\n    };\n  }\n\n  function ensureUint32ArrayViewProps(length) {\n    while (uint32ArrayViewSetters < length) {\n      Object.defineProperty(Uint32ArrayView.prototype,\n        uint32ArrayViewSetters,\n        createUint32ArrayProp(uint32ArrayViewSetters));\n      uint32ArrayViewSetters++;\n    }\n  }\n\n  return Uint32ArrayView;\n})();\n\nvar IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\n\nvar Util = PDFJS.Util = (function UtilClosure() {\n  function Util() {}\n\n  var rgbBuf = ['rgb(', 0, ',', 0, ',', 0, ')'];\n\n  // makeCssRgb() can be called thousands of times. Using |rgbBuf| avoids\n  // creating many intermediate strings.\n  Util.makeCssRgb = function Util_makeCssRgb(r, g, b) {\n    rgbBuf[1] = r;\n    rgbBuf[3] = g;\n    rgbBuf[5] = b;\n    return rgbBuf.join('');\n  };\n\n  // Concatenates two transformation matrices together and returns the result.\n  Util.transform = function Util_transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5]\n    ];\n  };\n\n  // For 2d affine transforms\n  Util.applyTransform = function Util_applyTransform(p, m) {\n    var xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    var yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  };\n\n  Util.applyInverseTransform = function Util_applyInverseTransform(p, m) {\n    var d = m[0] * m[3] - m[1] * m[2];\n    var xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    var yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  };\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  Util.getAxialAlignedBoundingBox =\n    function Util_getAxialAlignedBoundingBox(r, m) {\n\n    var p1 = Util.applyTransform(r, m);\n    var p2 = Util.applyTransform(r.slice(2, 4), m);\n    var p3 = Util.applyTransform([r[0], r[3]], m);\n    var p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1])\n    ];\n  };\n\n  Util.inverseTransform = function Util_inverseTransform(m) {\n    var d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  };\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  Util.apply3dTransform = function Util_apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2]\n    ];\n  };\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  Util.singularValueDecompose2dScale =\n    function Util_singularValueDecompose2dScale(m) {\n\n    var transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    var a = m[0] * transpose[0] + m[1] * transpose[2];\n    var b = m[0] * transpose[1] + m[1] * transpose[3];\n    var c = m[2] * transpose[0] + m[3] * transpose[2];\n    var d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    var first = (a + d) / 2;\n    var second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n    var sx = first + second || 1;\n    var sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  };\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  Util.normalizeRect = function Util_normalizeRect(rect) {\n    var r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  };\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  Util.intersect = function Util_intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    var orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare),\n        orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare),\n        result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if ((orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n        (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return false;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if ((orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n        (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return false;\n    }\n\n    return result;\n  };\n\n  Util.sign = function Util_sign(num) {\n    return num < 0 ? -1 : 1;\n  };\n\n  Util.appendToArray = function Util_appendToArray(arr1, arr2) {\n    Array.prototype.push.apply(arr1, arr2);\n  };\n\n  Util.prependToArray = function Util_prependToArray(arr1, arr2) {\n    Array.prototype.unshift.apply(arr1, arr2);\n  };\n\n  Util.extendObj = function extendObj(obj1, obj2) {\n    for (var key in obj2) {\n      obj1[key] = obj2[key];\n    }\n  };\n\n  Util.getInheritableProperty = function Util_getInheritableProperty(dict,\n                                                                     name) {\n    while (dict && !dict.has(name)) {\n      dict = dict.get('Parent');\n    }\n    if (!dict) {\n      return null;\n    }\n    return dict.get(name);\n  };\n\n  Util.inherit = function Util_inherit(sub, base, prototype) {\n    sub.prototype = Object.create(base.prototype);\n    sub.prototype.constructor = sub;\n    for (var prop in prototype) {\n      sub.prototype[prop] = prototype[prop];\n    }\n  };\n\n  Util.loadScript = function Util_loadScript(src, callback) {\n    var script = document.createElement('script');\n    var loaded = false;\n    script.setAttribute('src', src);\n    if (callback) {\n      script.onload = function() {\n        if (!loaded) {\n          callback();\n        }\n        loaded = true;\n      };\n    }\n    document.getElementsByTagName('head')[0].appendChild(script);\n  };\n\n  return Util;\n})();\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n * @class\n * @alias PDFJS.PageViewport\n */\nvar PageViewport = PDFJS.PageViewport = (function PageViewportClosure() {\n  /**\n   * @constructor\n   * @private\n   * @param viewBox {Array} xMin, yMin, xMax and yMax coordinates.\n   * @param scale {number} scale of the viewport.\n   * @param rotation {number} rotations of the viewport in degrees.\n   * @param offsetX {number} offset X\n   * @param offsetY {number} offset Y\n   * @param dontFlip {boolean} if true, axis Y will not be flipped.\n   */\n  function PageViewport(viewBox, scale, rotation, offsetX, offsetY, dontFlip) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    var centerX = (viewBox[2] + viewBox[0]) / 2;\n    var centerY = (viewBox[3] + viewBox[1]) / 2;\n    var rotateA, rotateB, rotateC, rotateD;\n    rotation = rotation % 360;\n    rotation = rotation < 0 ? rotation + 360 : rotation;\n    switch (rotation) {\n      case 180:\n        rotateA = -1; rotateB = 0; rotateC = 0; rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0; rotateB = 1; rotateC = 1; rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0; rotateB = -1; rotateC = -1; rotateD = 0;\n        break;\n      //case 0:\n      default:\n        rotateA = 1; rotateB = 0; rotateC = 0; rotateD = -1;\n        break;\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC; rotateD = -rotateD;\n    }\n\n    var offsetCanvasX, offsetCanvasY;\n    var width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY\n    ];\n\n    this.width = width;\n    this.height = height;\n    this.fontScale = scale;\n  }\n  PageViewport.prototype = /** @lends PDFJS.PageViewport.prototype */ {\n    /**\n     * Clones viewport with additional properties.\n     * @param args {Object} (optional) If specified, may contain the 'scale' or\n     * 'rotation' properties to override the corresponding properties in\n     * the cloned viewport.\n     * @returns {PDFJS.PageViewport} Cloned viewport.\n     */\n    clone: function PageViewPort_clone(args) {\n      args = args || {};\n      var scale = 'scale' in args ? args.scale : this.scale;\n      var rotation = 'rotation' in args ? args.rotation : this.rotation;\n      return new PageViewport(this.viewBox.slice(), scale, rotation,\n                              this.offsetX, this.offsetY, args.dontFlip);\n    },\n    /**\n     * Converts PDF point to the viewport coordinates. For examples, useful for\n     * converting PDF location into canvas pixel coordinates.\n     * @param x {number} X coordinate.\n     * @param y {number} Y coordinate.\n     * @returns {Object} Object that contains 'x' and 'y' properties of the\n     * point in the viewport coordinate space.\n     * @see {@link convertToPdfPoint}\n     * @see {@link convertToViewportRectangle}\n     */\n    convertToViewportPoint: function PageViewport_convertToViewportPoint(x, y) {\n      return Util.applyTransform([x, y], this.transform);\n    },\n    /**\n     * Converts PDF rectangle to the viewport coordinates.\n     * @param rect {Array} xMin, yMin, xMax and yMax coordinates.\n     * @returns {Array} Contains corresponding coordinates of the rectangle\n     * in the viewport coordinate space.\n     * @see {@link convertToViewportPoint}\n     */\n    convertToViewportRectangle:\n      function PageViewport_convertToViewportRectangle(rect) {\n      var tl = Util.applyTransform([rect[0], rect[1]], this.transform);\n      var br = Util.applyTransform([rect[2], rect[3]], this.transform);\n      return [tl[0], tl[1], br[0], br[1]];\n    },\n    /**\n     * Converts viewport coordinates to the PDF location. For examples, useful\n     * for converting canvas pixel location into PDF one.\n     * @param x {number} X coordinate.\n     * @param y {number} Y coordinate.\n     * @returns {Object} Object that contains 'x' and 'y' properties of the\n     * point in the PDF coordinate space.\n     * @see {@link convertToViewportPoint}\n     */\n    convertToPdfPoint: function PageViewport_convertToPdfPoint(x, y) {\n      return Util.applyInverseTransform([x, y], this.transform);\n    }\n  };\n  return PageViewport;\n})();\n\nvar PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014,\n  0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C,\n  0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160,\n  0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC\n];\n\nfunction stringToPDFString(str) {\n  var i, n = str.length, strBuf = [];\n  if (str[0] === '\\xFE' && str[1] === '\\xFF') {\n    // UTF16BE BOM\n    for (i = 2; i < n; i += 2) {\n      strBuf.push(String.fromCharCode(\n        (str.charCodeAt(i) << 8) | str.charCodeAt(i + 1)));\n    }\n  } else {\n    for (i = 0; i < n; ++i) {\n      var code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join('');\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction isEmptyObj(obj) {\n  for (var key in obj) {\n    return false;\n  }\n  return true;\n}\n\nfunction isBool(v) {\n  return typeof v === 'boolean';\n}\n\nfunction isInt(v) {\n  return typeof v === 'number' && ((v | 0) === v);\n}\n\nfunction isNum(v) {\n  return typeof v === 'number';\n}\n\nfunction isString(v) {\n  return typeof v === 'string';\n}\n\nfunction isName(v) {\n  return v instanceof Name;\n}\n\nfunction isCmd(v, cmd) {\n  return v instanceof Cmd && (cmd === undefined || v.cmd === cmd);\n}\n\nfunction isDict(v, type) {\n  if (!(v instanceof Dict)) {\n    return false;\n  }\n  if (!type) {\n    return true;\n  }\n  var dictType = v.get('Type');\n  return isName(dictType) && dictType.name === type;\n}\n\nfunction isArray(v) {\n  return v instanceof Array;\n}\n\nfunction isStream(v) {\n  return typeof v === 'object' && v !== null && v.getBytes !== undefined;\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === 'object' && v !== null && v.byteLength !== undefined;\n}\n\nfunction isRef(v) {\n  return v instanceof Ref;\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise} promise - A promise object.\n * @property {function} resolve - Fullfills the promise.\n * @property {function} reject - Rejects the promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias PDFJS.createPromiseCapability\n *\n * @return {PromiseCapability} A capability object contains:\n * - a Promise, resolve and reject methods.\n */\nfunction createPromiseCapability() {\n  var capability = {};\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = resolve;\n    capability.reject = reject;\n  });\n  return capability;\n}\n\nPDFJS.createPromiseCapability = createPromiseCapability;\n\n/**\n * Polyfill for Promises:\n * The following promise implementation tries to generally implement the\n * Promise/A+ spec. Some notable differences from other promise libaries are:\n * - There currently isn't a seperate deferred and promise object.\n * - Unhandled rejections eventually show an error if they aren't handled.\n *\n * Based off of the work in:\n * https://bugzilla.mozilla.org/show_bug.cgi?id=810490\n */\n(function PromiseClosure() {\n  if (globalScope.Promise) {\n    // Promises existing in the DOM/Worker, checking presence of all/resolve\n    if (typeof globalScope.Promise.all !== 'function') {\n      globalScope.Promise.all = function (iterable) {\n        var count = 0, results = [], resolve, reject;\n        var promise = new globalScope.Promise(function (resolve_, reject_) {\n          resolve = resolve_;\n          reject = reject_;\n        });\n        iterable.forEach(function (p, i) {\n          count++;\n          p.then(function (result) {\n            results[i] = result;\n            count--;\n            if (count === 0) {\n              resolve(results);\n            }\n          }, reject);\n        });\n        if (count === 0) {\n          resolve(results);\n        }\n        return promise;\n      };\n    }\n    if (typeof globalScope.Promise.resolve !== 'function') {\n      globalScope.Promise.resolve = function (value) {\n        return new globalScope.Promise(function (resolve) { resolve(value); });\n      };\n    }\n    if (typeof globalScope.Promise.reject !== 'function') {\n      globalScope.Promise.reject = function (reason) {\n        return new globalScope.Promise(function (resolve, reject) {\n          reject(reason);\n        });\n      };\n    }\n    if (typeof globalScope.Promise.prototype.catch !== 'function') {\n      globalScope.Promise.prototype.catch = function (onReject) {\n        return globalScope.Promise.prototype.then(undefined, onReject);\n      };\n    }\n    return;\n  }\n  var STATUS_PENDING = 0;\n  var STATUS_RESOLVED = 1;\n  var STATUS_REJECTED = 2;\n\n  // In an attempt to avoid silent exceptions, unhandled rejections are\n  // tracked and if they aren't handled in a certain amount of time an\n  // error is logged.\n  var REJECTION_TIMEOUT = 500;\n\n  var HandlerManager = {\n    handlers: [],\n    running: false,\n    unhandledRejections: [],\n    pendingRejectionCheck: false,\n\n    scheduleHandlers: function scheduleHandlers(promise) {\n      if (promise._status === STATUS_PENDING) {\n        return;\n      }\n\n      this.handlers = this.handlers.concat(promise._handlers);\n      promise._handlers = [];\n\n      if (this.running) {\n        return;\n      }\n      this.running = true;\n\n      setTimeout(this.runHandlers.bind(this), 0);\n    },\n\n    runHandlers: function runHandlers() {\n      var RUN_TIMEOUT = 1; // ms\n      var timeoutAt = Date.now() + RUN_TIMEOUT;\n      while (this.handlers.length > 0) {\n        var handler = this.handlers.shift();\n\n        var nextStatus = handler.thisPromise._status;\n        var nextValue = handler.thisPromise._value;\n\n        try {\n          if (nextStatus === STATUS_RESOLVED) {\n            if (typeof handler.onResolve === 'function') {\n              nextValue = handler.onResolve(nextValue);\n            }\n          } else if (typeof handler.onReject === 'function') {\n              nextValue = handler.onReject(nextValue);\n              nextStatus = STATUS_RESOLVED;\n\n              if (handler.thisPromise._unhandledRejection) {\n                this.removeUnhandeledRejection(handler.thisPromise);\n              }\n          }\n        } catch (ex) {\n          nextStatus = STATUS_REJECTED;\n          nextValue = ex;\n        }\n\n        handler.nextPromise._updateStatus(nextStatus, nextValue);\n        if (Date.now() >= timeoutAt) {\n          break;\n        }\n      }\n\n      if (this.handlers.length > 0) {\n        setTimeout(this.runHandlers.bind(this), 0);\n        return;\n      }\n\n      this.running = false;\n    },\n\n    addUnhandledRejection: function addUnhandledRejection(promise) {\n      this.unhandledRejections.push({\n        promise: promise,\n        time: Date.now()\n      });\n      this.scheduleRejectionCheck();\n    },\n\n    removeUnhandeledRejection: function removeUnhandeledRejection(promise) {\n      promise._unhandledRejection = false;\n      for (var i = 0; i < this.unhandledRejections.length; i++) {\n        if (this.unhandledRejections[i].promise === promise) {\n          this.unhandledRejections.splice(i);\n          i--;\n        }\n      }\n    },\n\n    scheduleRejectionCheck: function scheduleRejectionCheck() {\n      if (this.pendingRejectionCheck) {\n        return;\n      }\n      this.pendingRejectionCheck = true;\n      setTimeout(function rejectionCheck() {\n        this.pendingRejectionCheck = false;\n        var now = Date.now();\n        for (var i = 0; i < this.unhandledRejections.length; i++) {\n          if (now - this.unhandledRejections[i].time > REJECTION_TIMEOUT) {\n            var unhandled = this.unhandledRejections[i].promise._value;\n            var msg = 'Unhandled rejection: ' + unhandled;\n            if (unhandled.stack) {\n              msg += '\\n' + unhandled.stack;\n            }\n            warn(msg);\n            this.unhandledRejections.splice(i);\n            i--;\n          }\n        }\n        if (this.unhandledRejections.length) {\n          this.scheduleRejectionCheck();\n        }\n      }.bind(this), REJECTION_TIMEOUT);\n    }\n  };\n\n  function Promise(resolver) {\n    this._status = STATUS_PENDING;\n    this._handlers = [];\n    try {\n      resolver.call(this, this._resolve.bind(this), this._reject.bind(this));\n    } catch (e) {\n      this._reject(e);\n    }\n  }\n  /**\n   * Builds a promise that is resolved when all the passed in promises are\n   * resolved.\n   * @param {array} array of data and/or promises to wait for.\n   * @return {Promise} New dependant promise.\n   */\n  Promise.all = function Promise_all(promises) {\n    var resolveAll, rejectAll;\n    var deferred = new Promise(function (resolve, reject) {\n      resolveAll = resolve;\n      rejectAll = reject;\n    });\n    var unresolved = promises.length;\n    var results = [];\n    if (unresolved === 0) {\n      resolveAll(results);\n      return deferred;\n    }\n    function reject(reason) {\n      if (deferred._status === STATUS_REJECTED) {\n        return;\n      }\n      results = [];\n      rejectAll(reason);\n    }\n    for (var i = 0, ii = promises.length; i < ii; ++i) {\n      var promise = promises[i];\n      var resolve = (function(i) {\n        return function(value) {\n          if (deferred._status === STATUS_REJECTED) {\n            return;\n          }\n          results[i] = value;\n          unresolved--;\n          if (unresolved === 0) {\n            resolveAll(results);\n          }\n        };\n      })(i);\n      if (Promise.isPromise(promise)) {\n        promise.then(resolve, reject);\n      } else {\n        resolve(promise);\n      }\n    }\n    return deferred;\n  };\n\n  /**\n   * Checks if the value is likely a promise (has a 'then' function).\n   * @return {boolean} true if value is thenable\n   */\n  Promise.isPromise = function Promise_isPromise(value) {\n    return value && typeof value.then === 'function';\n  };\n\n  /**\n   * Creates resolved promise\n   * @param value resolve value\n   * @returns {Promise}\n   */\n  Promise.resolve = function Promise_resolve(value) {\n    return new Promise(function (resolve) { resolve(value); });\n  };\n\n  /**\n   * Creates rejected promise\n   * @param reason rejection value\n   * @returns {Promise}\n   */\n  Promise.reject = function Promise_reject(reason) {\n    return new Promise(function (resolve, reject) { reject(reason); });\n  };\n\n  Promise.prototype = {\n    _status: null,\n    _value: null,\n    _handlers: null,\n    _unhandledRejection: null,\n\n    _updateStatus: function Promise__updateStatus(status, value) {\n      if (this._status === STATUS_RESOLVED ||\n          this._status === STATUS_REJECTED) {\n        return;\n      }\n\n      if (status === STATUS_RESOLVED &&\n          Promise.isPromise(value)) {\n        value.then(this._updateStatus.bind(this, STATUS_RESOLVED),\n                   this._updateStatus.bind(this, STATUS_REJECTED));\n        return;\n      }\n\n      this._status = status;\n      this._value = value;\n\n      if (status === STATUS_REJECTED && this._handlers.length === 0) {\n        this._unhandledRejection = true;\n        HandlerManager.addUnhandledRejection(this);\n      }\n\n      HandlerManager.scheduleHandlers(this);\n    },\n\n    _resolve: function Promise_resolve(value) {\n      this._updateStatus(STATUS_RESOLVED, value);\n    },\n\n    _reject: function Promise_reject(reason) {\n      this._updateStatus(STATUS_REJECTED, reason);\n    },\n\n    then: function Promise_then(onResolve, onReject) {\n      var nextPromise = new Promise(function (resolve, reject) {\n        this.resolve = resolve;\n        this.reject = reject;\n      });\n      this._handlers.push({\n        thisPromise: this,\n        onResolve: onResolve,\n        onReject: onReject,\n        nextPromise: nextPromise\n      });\n      HandlerManager.scheduleHandlers(this);\n      return nextPromise;\n    },\n\n    catch: function Promise_catch(onReject) {\n      return this.then(undefined, onReject);\n    }\n  };\n\n  globalScope.Promise = Promise;\n})();\n\nvar StatTimer = (function StatTimerClosure() {\n  function rpad(str, pad, length) {\n    while (str.length < length) {\n      str += pad;\n    }\n    return str;\n  }\n  function StatTimer() {\n    this.started = {};\n    this.times = [];\n    this.enabled = true;\n  }\n  StatTimer.prototype = {\n    time: function StatTimer_time(name) {\n      if (!this.enabled) {\n        return;\n      }\n      if (name in this.started) {\n        warn('Timer is already running for ' + name);\n      }\n      this.started[name] = Date.now();\n    },\n    timeEnd: function StatTimer_timeEnd(name) {\n      if (!this.enabled) {\n        return;\n      }\n      if (!(name in this.started)) {\n        warn('Timer has not been started for ' + name);\n      }\n      this.times.push({\n        'name': name,\n        'start': this.started[name],\n        'end': Date.now()\n      });\n      // Remove timer from started so it can be called again.\n      delete this.started[name];\n    },\n    toString: function StatTimer_toString() {\n      var i, ii;\n      var times = this.times;\n      var out = '';\n      // Find the longest name for padding purposes.\n      var longest = 0;\n      for (i = 0, ii = times.length; i < ii; ++i) {\n        var name = times[i]['name'];\n        if (name.length > longest) {\n          longest = name.length;\n        }\n      }\n      for (i = 0, ii = times.length; i < ii; ++i) {\n        var span = times[i];\n        var duration = span.end - span.start;\n        out += rpad(span['name'], ' ', longest) + ' ' + duration + 'ms\\n';\n      }\n      return out;\n    }\n  };\n  return StatTimer;\n})();\n\nPDFJS.createBlob = function createBlob(data, contentType) {\n  if (typeof Blob !== 'undefined') {\n    return new Blob([data], { type: contentType });\n  }\n  // Blob builder is deprecated in FF14 and removed in FF18.\n  var bb = new MozBlobBuilder();\n  bb.append(data);\n  return bb.getBlob(contentType);\n};\n\nPDFJS.createObjectURL = (function createObjectURLClosure() {\n  // Blob/createObjectURL is not available, falling back to data schema.\n  var digits =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  return function createObjectURL(data, contentType) {\n    if (!PDFJS.disableCreateObjectURL &&\n        typeof URL !== 'undefined' && URL.createObjectURL) {\n      var blob = PDFJS.createBlob(data, contentType);\n      return URL.createObjectURL(blob);\n    }\n\n    var buffer = 'data:' + contentType + ';base64,';\n    for (var i = 0, ii = data.length; i < ii; i += 3) {\n      var b1 = data[i] & 0xFF;\n      var b2 = data[i + 1] & 0xFF;\n      var b3 = data[i + 2] & 0xFF;\n      var d1 = b1 >> 2, d2 = ((b1 & 3) << 4) | (b2 >> 4);\n      var d3 = i + 1 < ii ? ((b2 & 0xF) << 2) | (b3 >> 6) : 64;\n      var d4 = i + 2 < ii ? (b3 & 0x3F) : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n    return buffer;\n  };\n})();\n\nfunction MessageHandler(name, comObj) {\n  this.name = name;\n  this.comObj = comObj;\n  this.callbackIndex = 1;\n  this.postMessageTransfers = true;\n  var callbacksCapabilities = this.callbacksCapabilities = {};\n  var ah = this.actionHandler = {};\n\n  ah['console_log'] = [function ahConsoleLog(data) {\n    console.log.apply(console, data);\n  }];\n  ah['console_error'] = [function ahConsoleError(data) {\n    console.error.apply(console, data);\n  }];\n  ah['_unsupported_feature'] = [function ah_unsupportedFeature(data) {\n    UnsupportedManager.notify(data);\n  }];\n\n  comObj.onmessage = function messageHandlerComObjOnMessage(event) {\n    var data = event.data;\n    if (data.isReply) {\n      var callbackId = data.callbackId;\n      if (data.callbackId in callbacksCapabilities) {\n        var callback = callbacksCapabilities[callbackId];\n        delete callbacksCapabilities[callbackId];\n        if ('error' in data) {\n          callback.reject(data.error);\n        } else {\n          callback.resolve(data.data);\n        }\n      } else {\n        error('Cannot resolve callback ' + callbackId);\n      }\n    } else if (data.action in ah) {\n      var action = ah[data.action];\n      if (data.callbackId) {\n        Promise.resolve().then(function () {\n          return action[0].call(action[1], data.data);\n        }).then(function (result) {\n          comObj.postMessage({\n            isReply: true,\n            callbackId: data.callbackId,\n            data: result\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            isReply: true,\n            callbackId: data.callbackId,\n            error: reason\n          });\n        });\n      } else {\n        action[0].call(action[1], data.data);\n      }\n    } else {\n      error('Unknown action from worker: ' + data.action);\n    }\n  };\n}\n\nMessageHandler.prototype = {\n  on: function messageHandlerOn(actionName, handler, scope) {\n    var ah = this.actionHandler;\n    if (ah[actionName]) {\n      error('There is already an actionName called \"' + actionName + '\"');\n    }\n    ah[actionName] = [handler, scope];\n  },\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {String} actionName Action to call.\n   * @param {JSON} data JSON data to send.\n   * @param {Array} [transfers] Optional list of transfers/ArrayBuffers\n   */\n  send: function messageHandlerSend(actionName, data, transfers) {\n    var message = {\n      action: actionName,\n      data: data\n    };\n    this.postMessage(message, transfers);\n  },\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that other side will callback with the response.\n   * @param {String} actionName Action to call.\n   * @param {JSON} data JSON data to send.\n   * @param {Array} [transfers] Optional list of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise:\n    function messageHandlerSendWithPromise(actionName, data, transfers) {\n    var callbackId = this.callbackIndex++;\n    var message = {\n      action: actionName,\n      data: data,\n      callbackId: callbackId\n    };\n    var capability = createPromiseCapability();\n    this.callbacksCapabilities[callbackId] = capability;\n    try {\n      this.postMessage(message, transfers);\n    } catch (e) {\n      capability.reject(e);\n    }\n    return capability.promise;\n  },\n  /**\n   * Sends raw message to the comObj.\n   * @private\n   * @param message {Object} Raw message.\n   * @param transfers List of transfers/ArrayBuffers, or undefined.\n   */\n  postMessage: function (message, transfers) {\n    if (transfers && this.postMessageTransfers) {\n      this.comObj.postMessage(message, transfers);\n    } else {\n      this.comObj.postMessage(message);\n    }\n  }\n};\n\nfunction loadJpegStream(id, imageUrl, objs) {\n  var img = new Image();\n  img.onload = (function loadJpegStream_onloadClosure() {\n    objs.resolve(id, img);\n  });\n  img.onerror = (function loadJpegStream_onerrorClosure() {\n    objs.resolve(id, null);\n    warn('Error during JPEG image loading');\n  });\n  img.src = imageUrl;\n}\n\n\n/**\n * The maximum allowed image size in total pixels e.g. width * height. Images\n * above this value will not be drawn. Use -1 for no limit.\n * @var {number}\n */\nPDFJS.maxImageSize = (PDFJS.maxImageSize === undefined ?\n                      -1 : PDFJS.maxImageSize);\n\n/**\n * The url of where the predefined Adobe CMaps are located. Include trailing\n * slash.\n * @var {string}\n */\nPDFJS.cMapUrl = (PDFJS.cMapUrl === undefined ? null : PDFJS.cMapUrl);\n\n/**\n * Specifies if CMaps are binary packed.\n * @var {boolean}\n */\nPDFJS.cMapPacked = PDFJS.cMapPacked === undefined ? false : PDFJS.cMapPacked;\n\n/**\n * By default fonts are converted to OpenType fonts and loaded via font face\n * rules. If disabled, the font will be rendered using a built in font renderer\n * that constructs the glyphs with primitive path commands.\n * @var {boolean}\n */\nPDFJS.disableFontFace = (PDFJS.disableFontFace === undefined ?\n                         false : PDFJS.disableFontFace);\n\n/**\n * Path for image resources, mainly for annotation icons. Include trailing\n * slash.\n * @var {string}\n */\nPDFJS.imageResourcesPath = (PDFJS.imageResourcesPath === undefined ?\n                            '' : PDFJS.imageResourcesPath);\n\n/**\n * Disable the web worker and run all code on the main thread. This will happen\n * automatically if the browser doesn't support workers or sending typed arrays\n * to workers.\n * @var {boolean}\n */\nPDFJS.disableWorker = (PDFJS.disableWorker === undefined ?\n                       false : PDFJS.disableWorker);\n\n/**\n * Path and filename of the worker file. Required when the worker is enabled in\n * development mode. If unspecified in the production build, the worker will be\n * loaded based on the location of the pdf.js file.\n * @var {string}\n */\nPDFJS.workerSrc = (PDFJS.workerSrc === undefined ? null : PDFJS.workerSrc);\n\n/**\n * Disable range request loading of PDF files. When enabled and if the server\n * supports partial content requests then the PDF will be fetched in chunks.\n * Enabled (false) by default.\n * @var {boolean}\n */\nPDFJS.disableRange = (PDFJS.disableRange === undefined ?\n                      false : PDFJS.disableRange);\n\n/**\n * Disable streaming of PDF file data. By default PDF.js attempts to load PDF\n * in chunks. This default behavior can be disabled.\n * @var {boolean}\n */\nPDFJS.disableStream = (PDFJS.disableStream === undefined ?\n                       false : PDFJS.disableStream);\n\n/**\n * Disable pre-fetching of PDF file data. When range requests are enabled PDF.js\n * will automatically keep fetching more data even if it isn't needed to display\n * the current page. This default behavior can be disabled.\n *\n * NOTE: It is also necessary to disable streaming, see above,\n *       in order for disabling of pre-fetching to work correctly.\n * @var {boolean}\n */\nPDFJS.disableAutoFetch = (PDFJS.disableAutoFetch === undefined ?\n                          false : PDFJS.disableAutoFetch);\n\n/**\n * Enables special hooks for debugging PDF.js.\n * @var {boolean}\n */\nPDFJS.pdfBug = (PDFJS.pdfBug === undefined ? false : PDFJS.pdfBug);\n\n/**\n * Enables transfer usage in postMessage for ArrayBuffers.\n * @var {boolean}\n */\nPDFJS.postMessageTransfers = (PDFJS.postMessageTransfers === undefined ?\n                              true : PDFJS.postMessageTransfers);\n\n/**\n * Disables URL.createObjectURL usage.\n * @var {boolean}\n */\nPDFJS.disableCreateObjectURL = (PDFJS.disableCreateObjectURL === undefined ?\n                                false : PDFJS.disableCreateObjectURL);\n\n/**\n * Disables WebGL usage.\n * @var {boolean}\n */\nPDFJS.disableWebGL = (PDFJS.disableWebGL === undefined ?\n                      true : PDFJS.disableWebGL);\n\n/**\n * Disables fullscreen support, and by extension Presentation Mode,\n * in browsers which support the fullscreen API.\n * @var {boolean}\n */\nPDFJS.disableFullscreen = (PDFJS.disableFullscreen === undefined ?\n                           false : PDFJS.disableFullscreen);\n\n/**\n * Enables CSS only zooming.\n * @var {boolean}\n */\nPDFJS.useOnlyCssZoom = (PDFJS.useOnlyCssZoom === undefined ?\n                        false : PDFJS.useOnlyCssZoom);\n\n/**\n * Controls the logging level.\n * The constants from PDFJS.VERBOSITY_LEVELS should be used:\n * - errors\n * - warnings [default]\n * - infos\n * @var {number}\n */\nPDFJS.verbosity = (PDFJS.verbosity === undefined ?\n                   PDFJS.VERBOSITY_LEVELS.warnings : PDFJS.verbosity);\n\n/**\n * The maximum supported canvas size in total pixels e.g. width * height.\n * The default value is 4096 * 4096. Use -1 for no limit.\n * @var {number}\n */\nPDFJS.maxCanvasPixels = (PDFJS.maxCanvasPixels === undefined ?\n                         16777216 : PDFJS.maxCanvasPixels);\n\n/**\n * Opens external links in a new window if enabled. The default behavior opens\n * external links in the PDF.js window.\n * @var {boolean}\n */\nPDFJS.openExternalLinksInNewWindow = (\n  PDFJS.openExternalLinksInNewWindow === undefined ?\n    false : PDFJS.openExternalLinksInNewWindow);\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string}     url   - The URL of the PDF.\n * @property {TypedArray|Array|string} data - Binary PDF data. Use typed arrays\n *   (Uint8Array) to improve the memory usage. If PDF data is BASE64-encoded,\n *   use atob() to convert it to a binary string first.\n * @property {Object}     httpHeaders - Basic authentication headers.\n * @property {boolean}    withCredentials - Indicates whether or not cross-site\n *   Access-Control requests should be made using credentials such as cookies\n *   or authorization headers. The default is false.\n * @property {string}     password - For decrypting password-protected PDFs.\n * @property {TypedArray} initialData - A typed array with the first portion or\n *   all of the pdf data. Used by the extension since some data is already\n *   loaded before the switch to range requests.\n * @property {number}     length - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} range\n */\n\n/**\n * @typedef {Object} PDFDocumentStats\n * @property {Array} streamTypes - Used stream types in the document (an item\n *   is set to true if specific stream ID was used in the document).\n * @property {Array} fontTypes - Used font type in the document (an item is set\n *   to true if specific font ID was used in the document).\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n * NOTE: If a URL is used to fetch the PDF data a standard XMLHttpRequest(XHR)\n * is used, which means it must follow the same origin rules that any XHR does\n * e.g. No cross domain requests without CORS.\n *\n * @param {string|TypedArray|DocumentInitParameters|PDFDataRangeTransport} src\n * Can be a url to where a PDF is located, a typed array (Uint8Array)\n * already populated with data or parameter object.\n *\n * @param {PDFDataRangeTransport} pdfDataRangeTransport (deprecated) It is used\n * if you want to manually serve range requests for data in the PDF.\n *\n * @param {function} passwordCallback (deprecated) It is used to request a\n * password if wrong or no password was provided. The callback receives two\n * parameters: function that needs to be called with new password and reason\n * (see {PasswordResponses}).\n *\n * @param {function} progressCallback (deprecated) It is used to be able to\n * monitor the loading progress of the PDF file (necessary to implement e.g.\n * a loading bar). The callback receives an {Object} with the properties:\n * {number} loaded and {number} total.\n *\n * @return {PDFDocumentLoadingTask}\n */\nPDFJS.getDocument = function getDocument(src,\n                                         pdfDataRangeTransport,\n                                         passwordCallback,\n                                         progressCallback) {\n  var task = new PDFDocumentLoadingTask();\n\n  // Support of the obsolete arguments (for compatibility with API v1.0)\n  if (pdfDataRangeTransport) {\n    if (!(pdfDataRangeTransport instanceof PDFDataRangeTransport)) {\n      // Not a PDFDataRangeTransport instance, trying to add missing properties.\n      pdfDataRangeTransport = Object.create(pdfDataRangeTransport);\n      pdfDataRangeTransport.length = src.length;\n      pdfDataRangeTransport.initialData = src.initialData;\n    }\n    src = Object.create(src);\n    src.range = pdfDataRangeTransport;\n  }\n  task.onPassword = passwordCallback || null;\n  task.onProgress = progressCallback || null;\n\n  var workerInitializedCapability, transport;\n  var source;\n  if (typeof src === 'string') {\n    source = { url: src };\n  } else if (isArrayBuffer(src)) {\n    source = { data: src };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = { range: src };\n  } else {\n    if (typeof src !== 'object') {\n      error('Invalid parameter in getDocument, need either Uint8Array, ' +\n        'string or a parameter object');\n    }\n    if (!src.url && !src.data && !src.range) {\n      error('Invalid parameter object: need either .data, .range or .url');\n    }\n\n    source = src;\n  }\n\n  var params = {};\n  for (var key in source) {\n    if (key === 'url' && typeof window !== 'undefined') {\n      // The full path is required in the 'url' field.\n      params[key] = combineUrl(window.location.href, source[key]);\n      continue;\n    } else if (key === 'range') {\n      continue;\n    } else if (key === 'data' && !(source[key] instanceof Uint8Array)) {\n      // Converting string or array-like data to Uint8Array.\n      var pdfBytes = source[key];\n      if (typeof pdfBytes === 'string') {\n        params[key] = stringToBytes(pdfBytes);\n      } else if (typeof pdfBytes === 'object' && pdfBytes !== null &&\n                 !isNaN(pdfBytes.length)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else {\n        error('Invalid PDF binary data: either typed array, string or ' +\n              'array-like object is expected in the data property.');\n      }\n      continue;\n    }\n    params[key] = source[key];\n  }\n\n  workerInitializedCapability = createPromiseCapability();\n  transport = new WorkerTransport(workerInitializedCapability, source.range);\n  workerInitializedCapability.promise.then(function transportInitialized() {\n    transport.fetchDocument(task, params);\n  });\n\n  return task;\n};\n\n/**\n * PDF document loading operation.\n * @class\n */\nvar PDFDocumentLoadingTask = (function PDFDocumentLoadingTaskClosure() {\n  /** @constructs PDFDocumentLoadingTask */\n  function PDFDocumentLoadingTask() {\n    this._capability = createPromiseCapability();\n\n    /**\n     * Callback to request a password if wrong or no password was provided.\n     * The callback receives two parameters: function that needs to be called\n     * with new password and reason (see {PasswordResponses}).\n     */\n    this.onPassword = null;\n\n    /**\n     * Callback to be able to monitor the loading progress of the PDF file\n     * (necessary to implement e.g. a loading bar). The callback receives\n     * an {Object} with the properties: {number} loaded and {number} total.\n     */\n    this.onProgress = null;\n  }\n\n  PDFDocumentLoadingTask.prototype =\n      /** @lends PDFDocumentLoadingTask.prototype */ {\n    /**\n     * @return {Promise}\n     */\n    get promise() {\n      return this._capability.promise;\n    },\n\n    // TODO add cancel or abort method\n\n    /**\n     * Registers callbacks to indicate the document loading completion.\n     *\n     * @param {function} onFulfilled The callback for the loading completion.\n     * @param {function} onRejected The callback for the loading failure.\n     * @return {Promise} A promise that is resolved after the onFulfilled or\n     *                   onRejected callback.\n     */\n    then: function PDFDocumentLoadingTask_then(onFulfilled, onRejected) {\n      return this.promise.then.apply(this.promise, arguments);\n    }\n  };\n\n  return PDFDocumentLoadingTask;\n})();\n\n/**\n * Abstract class to support range requests file loading.\n * @class\n */\nvar PDFDataRangeTransport = (function pdfDataRangeTransportClosure() {\n  /**\n   * @constructs PDFDataRangeTransport\n   * @param {number} length\n   * @param {Uint8Array} initialData\n   */\n  function PDFDataRangeTransport(length, initialData) {\n    this.length = length;\n    this.initialData = initialData;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._readyCapability = createPromiseCapability();\n  }\n  PDFDataRangeTransport.prototype =\n      /** @lends PDFDataRangeTransport.prototype */ {\n    addRangeListener:\n        function PDFDataRangeTransport_addRangeListener(listener) {\n      this._rangeListeners.push(listener);\n    },\n\n    addProgressListener:\n        function PDFDataRangeTransport_addProgressListener(listener) {\n      this._progressListeners.push(listener);\n    },\n\n    addProgressiveReadListener:\n        function PDFDataRangeTransport_addProgressiveReadListener(listener) {\n      this._progressiveReadListeners.push(listener);\n    },\n\n    onDataRange: function PDFDataRangeTransport_onDataRange(begin, chunk) {\n      var listeners = this._rangeListeners;\n      for (var i = 0, n = listeners.length; i < n; ++i) {\n        listeners[i](begin, chunk);\n      }\n    },\n\n    onDataProgress: function PDFDataRangeTransport_onDataProgress(loaded) {\n      this._readyCapability.promise.then(function () {\n        var listeners = this._progressListeners;\n        for (var i = 0, n = listeners.length; i < n; ++i) {\n          listeners[i](loaded);\n        }\n      }.bind(this));\n    },\n\n    onDataProgressiveRead:\n        function PDFDataRangeTransport_onDataProgress(chunk) {\n      this._readyCapability.promise.then(function () {\n        var listeners = this._progressiveReadListeners;\n        for (var i = 0, n = listeners.length; i < n; ++i) {\n          listeners[i](chunk);\n        }\n      }.bind(this));\n    },\n\n    transportReady: function PDFDataRangeTransport_transportReady() {\n      this._readyCapability.resolve();\n    },\n\n    requestDataRange:\n        function PDFDataRangeTransport_requestDataRange(begin, end) {\n      throw new Error('Abstract method PDFDataRangeTransport.requestDataRange');\n    }\n  };\n  return PDFDataRangeTransport;\n})();\n\nPDFJS.PDFDataRangeTransport = PDFDataRangeTransport;\n\n/**\n * Proxy to a PDFDocument in the worker thread. Also, contains commonly used\n * properties that can be read synchronously.\n * @class\n */\nvar PDFDocumentProxy = (function PDFDocumentProxyClosure() {\n  function PDFDocumentProxy(pdfInfo, transport) {\n    this.pdfInfo = pdfInfo;\n    this.transport = transport;\n  }\n  PDFDocumentProxy.prototype = /** @lends PDFDocumentProxy.prototype */ {\n    /**\n     * @return {number} Total number of pages the PDF contains.\n     */\n    get numPages() {\n      return this.pdfInfo.numPages;\n    },\n    /**\n     * @return {string} A unique ID to identify a PDF. Not guaranteed to be\n     * unique.\n     */\n    get fingerprint() {\n      return this.pdfInfo.fingerprint;\n    },\n    /**\n     * @param {number} pageNumber The page number to get. The first page is 1.\n     * @return {Promise} A promise that is resolved with a {@link PDFPageProxy}\n     * object.\n     */\n    getPage: function PDFDocumentProxy_getPage(pageNumber) {\n      return this.transport.getPage(pageNumber);\n    },\n    /**\n     * @param {{num: number, gen: number}} ref The page reference. Must have\n     *   the 'num' and 'gen' properties.\n     * @return {Promise} A promise that is resolved with the page index that is\n     * associated with the reference.\n     */\n    getPageIndex: function PDFDocumentProxy_getPageIndex(ref) {\n      return this.transport.getPageIndex(ref);\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a lookup table for\n     * mapping named destinations to reference numbers.\n     *\n     * This can be slow for large documents: use getDestination instead\n     */\n    getDestinations: function PDFDocumentProxy_getDestinations() {\n      return this.transport.getDestinations();\n    },\n    /**\n     * @param {string} id The named destination to get.\n     * @return {Promise} A promise that is resolved with all information\n     * of the given named destination.\n     */\n    getDestination: function PDFDocumentProxy_getDestination(id) {\n      return this.transport.getDestination(id);\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a lookup table for\n     * mapping named attachments to their content.\n     */\n    getAttachments: function PDFDocumentProxy_getAttachments() {\n      return this.transport.getAttachments();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an array of all the\n     * JavaScript strings in the name tree.\n     */\n    getJavaScript: function PDFDocumentProxy_getJavaScript() {\n      return this.transport.getJavaScript();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Array} that is a\n     * tree outline (if it has one) of the PDF. The tree is in the format of:\n     * [\n     *  {\n     *   title: string,\n     *   bold: boolean,\n     *   italic: boolean,\n     *   color: rgb array,\n     *   dest: dest obj,\n     *   items: array of more items like this\n     *  },\n     *  ...\n     * ].\n     */\n    getOutline: function PDFDocumentProxy_getOutline() {\n      return this.transport.getOutline();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Object} that has\n     * info and metadata properties.  Info is an {Object} filled with anything\n     * available in the information dictionary and similarly metadata is a\n     * {Metadata} object with information from the metadata section of the PDF.\n     */\n    getMetadata: function PDFDocumentProxy_getMetadata() {\n      return this.transport.getMetadata();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a TypedArray that has\n     * the raw data from the PDF.\n     */\n    getData: function PDFDocumentProxy_getData() {\n      return this.transport.getData();\n    },\n    /**\n     * @return {Promise} A promise that is resolved when the document's data\n     * is loaded. It is resolved with an {Object} that contains the length\n     * property that indicates size of the PDF data in bytes.\n     */\n    getDownloadInfo: function PDFDocumentProxy_getDownloadInfo() {\n      return this.transport.downloadInfoCapability.promise;\n    },\n    /**\n     * @return {Promise} A promise this is resolved with current stats about\n     * document structures (see {@link PDFDocumentStats}).\n     */\n    getStats: function PDFDocumentProxy_getStats() {\n      return this.transport.getStats();\n    },\n    /**\n     * Cleans up resources allocated by the document, e.g. created @font-face.\n     */\n    cleanup: function PDFDocumentProxy_cleanup() {\n      this.transport.startCleanup();\n    },\n    /**\n     * Destroys current document instance and terminates worker.\n     */\n    destroy: function PDFDocumentProxy_destroy() {\n      this.transport.destroy();\n    }\n  };\n  return PDFDocumentProxy;\n})();\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {array} items - array of {@link TextItem}\n * @property {Object} styles - {@link TextStyles} objects, indexed by font\n *                    name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - text content.\n * @property {string} dir - text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {array} transform - transformation matrix.\n * @property {number} width - width in device space.\n * @property {number} height - height in device space.\n * @property {string} fontName - font name used by pdf.js for converted font.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - font ascent.\n * @property {number} descent - font descent.\n * @property {boolean} vertical - text is in vertical mode.\n * @property {string} fontFamily - possible font family\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n * @property {PDFJS.PageViewport} viewport - Rendering viewport obtained by\n *                                calling of PDFPage.getViewport method.\n * @property {string} intent - Rendering intent, can be 'display' or 'print'\n *                    (default value is 'display').\n * @property {Object} imageLayer - (optional) An object that has beginLayout,\n *                    endLayout and appendImage functions.\n * @property {function} continueCallback - (deprecated) A function that will be\n *                      called each time the rendering is paused.  To continue\n *                      rendering call the function that is the first argument\n *                      to the callback.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array} fnArray - Array containing the operator functions.\n * @property {Array} argsArray - Array containing the arguments of the\n *                               functions.\n */\n\n/**\n * Proxy to a PDFPage in the worker thread.\n * @class\n */\nvar PDFPageProxy = (function PDFPageProxyClosure() {\n  function PDFPageProxy(pageIndex, pageInfo, transport) {\n    this.pageIndex = pageIndex;\n    this.pageInfo = pageInfo;\n    this.transport = transport;\n    this.stats = new StatTimer();\n    this.stats.enabled = !!globalScope.PDFJS.enableStats;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this.cleanupAfterRender = false;\n    this.pendingDestroy = false;\n    this.intentStates = {};\n  }\n  PDFPageProxy.prototype = /** @lends PDFPageProxy.prototype */ {\n    /**\n     * @return {number} Page number of the page. First page is 1.\n     */\n    get pageNumber() {\n      return this.pageIndex + 1;\n    },\n    /**\n     * @return {number} The number of degrees the page is rotated clockwise.\n     */\n    get rotate() {\n      return this.pageInfo.rotate;\n    },\n    /**\n     * @return {Object} The reference that points to this page. It has 'num' and\n     * 'gen' properties.\n     */\n    get ref() {\n      return this.pageInfo.ref;\n    },\n    /**\n     * @return {Array} An array of the visible portion of the PDF page in the\n     * user space units - [x1, y1, x2, y2].\n     */\n    get view() {\n      return this.pageInfo.view;\n    },\n    /**\n     * @param {number} scale The desired scale of the viewport.\n     * @param {number} rotate Degrees to rotate the viewport. If omitted this\n     * defaults to the page rotation.\n     * @return {PDFJS.PageViewport} Contains 'width' and 'height' properties\n     * along with transforms required for rendering.\n     */\n    getViewport: function PDFPageProxy_getViewport(scale, rotate) {\n      if (arguments.length < 2) {\n        rotate = this.rotate;\n      }\n      return new PDFJS.PageViewport(this.view, scale, rotate, 0, 0);\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Array} of the\n     * annotation objects.\n     */\n    getAnnotations: function PDFPageProxy_getAnnotations() {\n      if (this.annotationsPromise) {\n        return this.annotationsPromise;\n      }\n\n      var promise = this.transport.getAnnotations(this.pageIndex);\n      this.annotationsPromise = promise;\n      return promise;\n    },\n    /**\n     * Begins the process of rendering a page to the desired context.\n     * @param {RenderParameters} params Page render parameters.\n     * @return {RenderTask} An object that contains the promise, which\n     *                      is resolved when the page finishes rendering.\n     */\n    render: function PDFPageProxy_render(params) {\n      var stats = this.stats;\n      stats.time('Overall');\n\n      // If there was a pending destroy cancel it so no cleanup happens during\n      // this call to render.\n      this.pendingDestroy = false;\n\n      var renderingIntent = (params.intent === 'print' ? 'print' : 'display');\n\n      if (!this.intentStates[renderingIntent]) {\n        this.intentStates[renderingIntent] = {};\n      }\n      var intentState = this.intentStates[renderingIntent];\n\n      // If there's no displayReadyCapability yet, then the operatorList\n      // was never requested before. Make the request and create the promise.\n      if (!intentState.displayReadyCapability) {\n        intentState.receivingOperatorList = true;\n        intentState.displayReadyCapability = createPromiseCapability();\n        intentState.operatorList = {\n          fnArray: [],\n          argsArray: [],\n          lastChunk: false\n        };\n\n        this.stats.time('Page Request');\n        this.transport.messageHandler.send('RenderPageRequest', {\n          pageIndex: this.pageNumber - 1,\n          intent: renderingIntent\n        });\n      }\n\n      var internalRenderTask = new InternalRenderTask(complete, params,\n                                                      this.objs,\n                                                      this.commonObjs,\n                                                      intentState.operatorList,\n                                                      this.pageNumber);\n      if (!intentState.renderTasks) {\n        intentState.renderTasks = [];\n      }\n      intentState.renderTasks.push(internalRenderTask);\n      var renderTask = internalRenderTask.task;\n\n      // Obsolete parameter support\n      if (params.continueCallback) {\n        renderTask.onContinue = params.continueCallback;\n      }\n\n      var self = this;\n      intentState.displayReadyCapability.promise.then(\n        function pageDisplayReadyPromise(transparency) {\n          if (self.pendingDestroy) {\n            complete();\n            return;\n          }\n          stats.time('Rendering');\n          internalRenderTask.initalizeGraphics(transparency);\n          internalRenderTask.operatorListChanged();\n        },\n        function pageDisplayReadPromiseError(reason) {\n          complete(reason);\n        }\n      );\n\n      function complete(error) {\n        var i = intentState.renderTasks.indexOf(internalRenderTask);\n        if (i >= 0) {\n          intentState.renderTasks.splice(i, 1);\n        }\n\n        if (self.cleanupAfterRender) {\n          self.pendingDestroy = true;\n        }\n        self._tryDestroy();\n\n        if (error) {\n          internalRenderTask.capability.reject(error);\n        } else {\n          internalRenderTask.capability.resolve();\n        }\n        stats.timeEnd('Rendering');\n        stats.timeEnd('Overall');\n      }\n\n      return renderTask;\n    },\n\n    /**\n     * @return {Promise} A promise resolved with an {@link PDFOperatorList}\n     * object that represents page's operator list.\n     */\n    getOperatorList: function PDFPageProxy_getOperatorList() {\n      function operatorListChanged() {\n        if (intentState.operatorList.lastChunk) {\n          intentState.opListReadCapability.resolve(intentState.operatorList);\n        }\n      }\n\n      var renderingIntent = 'oplist';\n      if (!this.intentStates[renderingIntent]) {\n        this.intentStates[renderingIntent] = {};\n      }\n      var intentState = this.intentStates[renderingIntent];\n\n      if (!intentState.opListReadCapability) {\n        var opListTask = {};\n        opListTask.operatorListChanged = operatorListChanged;\n        intentState.receivingOperatorList = true;\n        intentState.opListReadCapability = createPromiseCapability();\n        intentState.renderTasks = [];\n        intentState.renderTasks.push(opListTask);\n        intentState.operatorList = {\n          fnArray: [],\n          argsArray: [],\n          lastChunk: false\n        };\n\n        this.transport.messageHandler.send('RenderPageRequest', {\n          pageIndex: this.pageIndex,\n          intent: renderingIntent\n        });\n      }\n      return intentState.opListReadCapability.promise;\n    },\n\n    /**\n     * @return {Promise} That is resolved a {@link TextContent}\n     * object that represent the page text content.\n     */\n    getTextContent: function PDFPageProxy_getTextContent() {\n      return this.transport.messageHandler.sendWithPromise('GetTextContent', {\n        pageIndex: this.pageNumber - 1\n      });\n    },\n    /**\n     * Destroys resources allocated by the page.\n     */\n    destroy: function PDFPageProxy_destroy() {\n      this.pendingDestroy = true;\n      this._tryDestroy();\n    },\n    /**\n     * For internal use only. Attempts to clean up if rendering is in a state\n     * where that's possible.\n     * @ignore\n     */\n    _tryDestroy: function PDFPageProxy__destroy() {\n      if (!this.pendingDestroy ||\n          Object.keys(this.intentStates).some(function(intent) {\n            var intentState = this.intentStates[intent];\n            return (intentState.renderTasks.length !== 0 ||\n                    intentState.receivingOperatorList);\n          }, this)) {\n        return;\n      }\n\n      Object.keys(this.intentStates).forEach(function(intent) {\n        delete this.intentStates[intent];\n      }, this);\n      this.objs.clear();\n      this.annotationsPromise = null;\n      this.pendingDestroy = false;\n    },\n    /**\n     * For internal use only.\n     * @ignore\n     */\n    _startRenderPage: function PDFPageProxy_startRenderPage(transparency,\n                                                            intent) {\n      var intentState = this.intentStates[intent];\n      // TODO Refactor RenderPageRequest to separate rendering\n      // and operator list logic\n      if (intentState.displayReadyCapability) {\n        intentState.displayReadyCapability.resolve(transparency);\n      }\n    },\n    /**\n     * For internal use only.\n     * @ignore\n     */\n    _renderPageChunk: function PDFPageProxy_renderPageChunk(operatorListChunk,\n                                                            intent) {\n      var intentState = this.intentStates[intent];\n      var i, ii;\n      // Add the new chunk to the current operator list.\n      for (i = 0, ii = operatorListChunk.length; i < ii; i++) {\n        intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n        intentState.operatorList.argsArray.push(\n          operatorListChunk.argsArray[i]);\n      }\n      intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n      // Notify all the rendering tasks there are more operators to be consumed.\n      for (i = 0; i < intentState.renderTasks.length; i++) {\n        intentState.renderTasks[i].operatorListChanged();\n      }\n\n      if (operatorListChunk.lastChunk) {\n        intentState.receivingOperatorList = false;\n        this._tryDestroy();\n      }\n    }\n  };\n  return PDFPageProxy;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nvar WorkerTransport = (function WorkerTransportClosure() {\n  function WorkerTransport(workerInitializedCapability, pdfDataRangeTransport) {\n    this.pdfDataRangeTransport = pdfDataRangeTransport;\n    this.workerInitializedCapability = workerInitializedCapability;\n    this.commonObjs = new PDFObjects();\n\n    this.loadingTask = null;\n\n    this.pageCache = [];\n    this.pagePromises = [];\n    this.downloadInfoCapability = createPromiseCapability();\n\n    // If worker support isn't disabled explicit and the browser has worker\n    // support, create a new web worker and test if it/the browser fullfills\n    // all requirements to run parts of pdf.js in a web worker.\n    // Right now, the requirement is, that an Uint8Array is still an Uint8Array\n    // as it arrives on the worker. Chrome added this with version 15.\n    if (!globalScope.PDFJS.disableWorker && typeof Worker !== 'undefined') {\n      var workerSrc = PDFJS.workerSrc;\n      if (!workerSrc) {\n        error('No PDFJS.workerSrc specified');\n      }\n\n      try {\n        // Some versions of FF can't create a worker on localhost, see:\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n        var worker = new Worker(workerSrc);\n        var messageHandler = new MessageHandler('main', worker);\n        this.messageHandler = messageHandler;\n\n        messageHandler.on('test', function transportTest(data) {\n          var supportTypedArray = data && data.supportTypedArray;\n          if (supportTypedArray) {\n            this.worker = worker;\n            if (!data.supportTransfers) {\n              PDFJS.postMessageTransfers = false;\n            }\n            this.setupMessageHandler(messageHandler);\n            workerInitializedCapability.resolve();\n          } else {\n            this.setupFakeWorker();\n          }\n        }.bind(this));\n\n        var testObj = new Uint8Array([PDFJS.postMessageTransfers ? 255 : 0]);\n        // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n        // typed array. Also, checking if we can use transfers.\n        try {\n          messageHandler.send('test', testObj, [testObj.buffer]);\n        } catch (ex) {\n          info('Cannot use postMessage transfers');\n          testObj[0] = 0;\n          messageHandler.send('test', testObj);\n        }\n        return;\n      } catch (e) {\n        info('The worker has been disabled.');\n      }\n    }\n    // Either workers are disabled, not supported or have thrown an exception.\n    // Thus, we fallback to a faked worker.\n    this.setupFakeWorker();\n  }\n  WorkerTransport.prototype = {\n    destroy: function WorkerTransport_destroy() {\n      this.pageCache = [];\n      this.pagePromises = [];\n      var self = this;\n      this.messageHandler.sendWithPromise('Terminate', null).then(function () {\n        FontLoader.clear();\n        if (self.worker) {\n          self.worker.terminate();\n        }\n      });\n    },\n\n    setupFakeWorker: function WorkerTransport_setupFakeWorker() {\n      globalScope.PDFJS.disableWorker = true;\n\n      if (!PDFJS.fakeWorkerFilesLoadedCapability) {\n        PDFJS.fakeWorkerFilesLoadedCapability = createPromiseCapability();\n        // In the developer build load worker_loader which in turn loads all the\n        // other files and resolves the promise. In production only the\n        // pdf.worker.js file is needed.\n        Util.loadScript(PDFJS.workerSrc, function() {\n          PDFJS.fakeWorkerFilesLoadedCapability.resolve();\n        });\n      }\n      PDFJS.fakeWorkerFilesLoadedCapability.promise.then(function () {\n        warn('Setting up fake worker.');\n        // If we don't use a worker, just post/sendMessage to the main thread.\n        var fakeWorker = {\n          postMessage: function WorkerTransport_postMessage(obj) {\n            fakeWorker.onmessage({data: obj});\n          },\n          terminate: function WorkerTransport_terminate() {}\n        };\n\n        var messageHandler = new MessageHandler('main', fakeWorker);\n        this.setupMessageHandler(messageHandler);\n\n        // If the main thread is our worker, setup the handling for the messages\n        // the main thread sends to it self.\n        PDFJS.WorkerMessageHandler.setup(messageHandler);\n\n        this.workerInitializedCapability.resolve();\n      }.bind(this));\n    },\n\n    setupMessageHandler:\n      function WorkerTransport_setupMessageHandler(messageHandler) {\n      this.messageHandler = messageHandler;\n\n      function updatePassword(password) {\n        messageHandler.send('UpdatePassword', password);\n      }\n\n      var pdfDataRangeTransport = this.pdfDataRangeTransport;\n      if (pdfDataRangeTransport) {\n        pdfDataRangeTransport.addRangeListener(function(begin, chunk) {\n          messageHandler.send('OnDataRange', {\n            begin: begin,\n            chunk: chunk\n          });\n        });\n\n        pdfDataRangeTransport.addProgressListener(function(loaded) {\n          messageHandler.send('OnDataProgress', {\n            loaded: loaded\n          });\n        });\n\n        pdfDataRangeTransport.addProgressiveReadListener(function(chunk) {\n          messageHandler.send('OnDataRange', {\n            chunk: chunk\n          });\n        });\n\n        messageHandler.on('RequestDataRange',\n          function transportDataRange(data) {\n            pdfDataRangeTransport.requestDataRange(data.begin, data.end);\n          }, this);\n      }\n\n      messageHandler.on('GetDoc', function transportDoc(data) {\n        var pdfInfo = data.pdfInfo;\n        this.numPages = data.pdfInfo.numPages;\n        var pdfDocument = new PDFDocumentProxy(pdfInfo, this);\n        this.pdfDocument = pdfDocument;\n        this.loadingTask._capability.resolve(pdfDocument);\n      }, this);\n\n      messageHandler.on('NeedPassword',\n                        function transportNeedPassword(exception) {\n        var loadingTask = this.loadingTask;\n        if (loadingTask.onPassword) {\n          return loadingTask.onPassword(updatePassword,\n                                        PasswordResponses.NEED_PASSWORD);\n        }\n        loadingTask._capability.reject(\n          new PasswordException(exception.message, exception.code));\n      }, this);\n\n      messageHandler.on('IncorrectPassword',\n                        function transportIncorrectPassword(exception) {\n        var loadingTask = this.loadingTask;\n        if (loadingTask.onPassword) {\n          return loadingTask.onPassword(updatePassword,\n                                        PasswordResponses.INCORRECT_PASSWORD);\n        }\n        loadingTask._capability.reject(\n          new PasswordException(exception.message, exception.code));\n      }, this);\n\n      messageHandler.on('InvalidPDF', function transportInvalidPDF(exception) {\n        this.loadingTask._capability.reject(\n          new InvalidPDFException(exception.message));\n      }, this);\n\n      messageHandler.on('MissingPDF', function transportMissingPDF(exception) {\n        this.loadingTask._capability.reject(\n          new MissingPDFException(exception.message));\n      }, this);\n\n      messageHandler.on('UnexpectedResponse',\n                        function transportUnexpectedResponse(exception) {\n        this.loadingTask._capability.reject(\n          new UnexpectedResponseException(exception.message, exception.status));\n      }, this);\n\n      messageHandler.on('UnknownError',\n                        function transportUnknownError(exception) {\n        this.loadingTask._capability.reject(\n          new UnknownErrorException(exception.message, exception.details));\n      }, this);\n\n      messageHandler.on('DataLoaded', function transportPage(data) {\n        this.downloadInfoCapability.resolve(data);\n      }, this);\n\n      messageHandler.on('PDFManagerReady', function transportPage(data) {\n        if (this.pdfDataRangeTransport) {\n          this.pdfDataRangeTransport.transportReady();\n        }\n      }, this);\n\n      messageHandler.on('StartRenderPage', function transportRender(data) {\n        var page = this.pageCache[data.pageIndex];\n\n        page.stats.timeEnd('Page Request');\n        page._startRenderPage(data.transparency, data.intent);\n      }, this);\n\n      messageHandler.on('RenderPageChunk', function transportRender(data) {\n        var page = this.pageCache[data.pageIndex];\n\n        page._renderPageChunk(data.operatorList, data.intent);\n      }, this);\n\n      messageHandler.on('commonobj', function transportObj(data) {\n        var id = data[0];\n        var type = data[1];\n        if (this.commonObjs.hasData(id)) {\n          return;\n        }\n\n        switch (type) {\n          case 'Font':\n            var exportedData = data[2];\n\n            var font;\n            if ('error' in exportedData) {\n              var error = exportedData.error;\n              warn('Error during font loading: ' + error);\n              this.commonObjs.resolve(id, error);\n              break;\n            } else {\n              font = new FontFaceObject(exportedData);\n            }\n\n            FontLoader.bind(\n              [font],\n              function fontReady(fontObjs) {\n                this.commonObjs.resolve(id, font);\n              }.bind(this)\n            );\n            break;\n          case 'FontPath':\n            this.commonObjs.resolve(id, data[2]);\n            break;\n          default:\n            error('Got unknown common object type ' + type);\n        }\n      }, this);\n\n      messageHandler.on('obj', function transportObj(data) {\n        var id = data[0];\n        var pageIndex = data[1];\n        var type = data[2];\n        var pageProxy = this.pageCache[pageIndex];\n        var imageData;\n        if (pageProxy.objs.hasData(id)) {\n          return;\n        }\n\n        switch (type) {\n          case 'JpegStream':\n            imageData = data[3];\n            loadJpegStream(id, imageData, pageProxy.objs);\n            break;\n          case 'Image':\n            imageData = data[3];\n            pageProxy.objs.resolve(id, imageData);\n\n            // heuristics that will allow not to store large data\n            var MAX_IMAGE_SIZE_TO_STORE = 8000000;\n            if (imageData && 'data' in imageData &&\n                imageData.data.length > MAX_IMAGE_SIZE_TO_STORE) {\n              pageProxy.cleanupAfterRender = true;\n            }\n            break;\n          default:\n            error('Got unknown object type ' + type);\n        }\n      }, this);\n\n      messageHandler.on('DocProgress', function transportDocProgress(data) {\n        var loadingTask = this.loadingTask;\n        if (loadingTask.onProgress) {\n          loadingTask.onProgress({\n            loaded: data.loaded,\n            total: data.total\n          });\n        }\n      }, this);\n\n      messageHandler.on('PageError', function transportError(data) {\n        var page = this.pageCache[data.pageNum - 1];\n        var intentState = page.intentStates[data.intent];\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(data.error);\n        } else {\n          error(data.error);\n        }\n      }, this);\n\n      messageHandler.on('JpegDecode', function(data) {\n        var imageUrl = data[0];\n        var components = data[1];\n        if (components !== 3 && components !== 1) {\n          return Promise.reject(\n            new Error('Only 3 components or 1 component can be returned'));\n        }\n\n        return new Promise(function (resolve, reject) {\n          var img = new Image();\n          img.onload = function () {\n            var width = img.width;\n            var height = img.height;\n            var size = width * height;\n            var rgbaLength = size * 4;\n            var buf = new Uint8Array(size * components);\n            var tmpCanvas = createScratchCanvas(width, height);\n            var tmpCtx = tmpCanvas.getContext('2d');\n            tmpCtx.drawImage(img, 0, 0);\n            var data = tmpCtx.getImageData(0, 0, width, height).data;\n            var i, j;\n\n            if (components === 3) {\n              for (i = 0, j = 0; i < rgbaLength; i += 4, j += 3) {\n                buf[j] = data[i];\n                buf[j + 1] = data[i + 1];\n                buf[j + 2] = data[i + 2];\n              }\n            } else if (components === 1) {\n              for (i = 0, j = 0; i < rgbaLength; i += 4, j++) {\n                buf[j] = data[i];\n              }\n            }\n            resolve({ data: buf, width: width, height: height});\n          };\n          img.onerror = function () {\n            reject(new Error('JpegDecode failed to load image'));\n          };\n          img.src = imageUrl;\n        });\n      });\n    },\n\n    fetchDocument: function WorkerTransport_fetchDocument(loadingTask, source) {\n      this.loadingTask = loadingTask;\n\n      source.disableAutoFetch = PDFJS.disableAutoFetch;\n      source.disableStream = PDFJS.disableStream;\n      source.chunkedViewerLoading = !!this.pdfDataRangeTransport;\n      if (this.pdfDataRangeTransport) {\n        source.length = this.pdfDataRangeTransport.length;\n        source.initialData = this.pdfDataRangeTransport.initialData;\n      }\n      this.messageHandler.send('GetDocRequest', {\n        source: source,\n        disableRange: PDFJS.disableRange,\n        maxImageSize: PDFJS.maxImageSize,\n        cMapUrl: PDFJS.cMapUrl,\n        cMapPacked: PDFJS.cMapPacked,\n        disableFontFace: PDFJS.disableFontFace,\n        disableCreateObjectURL: PDFJS.disableCreateObjectURL,\n        verbosity: PDFJS.verbosity\n      });\n    },\n\n    getData: function WorkerTransport_getData() {\n      return this.messageHandler.sendWithPromise('GetData', null);\n    },\n\n    getPage: function WorkerTransport_getPage(pageNumber, capability) {\n      if (pageNumber <= 0 || pageNumber > this.numPages ||\n          (pageNumber|0) !== pageNumber) {\n        return Promise.reject(new Error('Invalid page request'));\n      }\n\n      var pageIndex = pageNumber - 1;\n      if (pageIndex in this.pagePromises) {\n        return this.pagePromises[pageIndex];\n      }\n      var promise = this.messageHandler.sendWithPromise('GetPage', {\n        pageIndex: pageIndex\n      }).then(function (pageInfo) {\n        var page = new PDFPageProxy(pageIndex, pageInfo, this);\n        this.pageCache[pageIndex] = page;\n        return page;\n      }.bind(this));\n      this.pagePromises[pageIndex] = promise;\n      return promise;\n    },\n\n    getPageIndex: function WorkerTransport_getPageIndexByRef(ref) {\n      return this.messageHandler.sendWithPromise('GetPageIndex', { ref: ref });\n    },\n\n    getAnnotations: function WorkerTransport_getAnnotations(pageIndex) {\n      return this.messageHandler.sendWithPromise('GetAnnotations',\n        { pageIndex: pageIndex });\n    },\n\n    getDestinations: function WorkerTransport_getDestinations() {\n      return this.messageHandler.sendWithPromise('GetDestinations', null);\n    },\n\n    getDestination: function WorkerTransport_getDestination(id) {\n      return this.messageHandler.sendWithPromise('GetDestination', { id: id } );\n    },\n\n    getAttachments: function WorkerTransport_getAttachments() {\n      return this.messageHandler.sendWithPromise('GetAttachments', null);\n    },\n\n    getJavaScript: function WorkerTransport_getJavaScript() {\n      return this.messageHandler.sendWithPromise('GetJavaScript', null);\n    },\n\n    getOutline: function WorkerTransport_getOutline() {\n      return this.messageHandler.sendWithPromise('GetOutline', null);\n    },\n\n    getMetadata: function WorkerTransport_getMetadata() {\n      return this.messageHandler.sendWithPromise('GetMetadata', null).\n        then(function transportMetadata(results) {\n        return {\n          info: results[0],\n          metadata: (results[1] ? new PDFJS.Metadata(results[1]) : null)\n        };\n      });\n    },\n\n    getStats: function WorkerTransport_getStats() {\n      return this.messageHandler.sendWithPromise('GetStats', null);\n    },\n\n    startCleanup: function WorkerTransport_startCleanup() {\n      this.messageHandler.sendWithPromise('Cleanup', null).\n        then(function endCleanup() {\n        for (var i = 0, ii = this.pageCache.length; i < ii; i++) {\n          var page = this.pageCache[i];\n          if (page) {\n            page.destroy();\n          }\n        }\n        this.commonObjs.clear();\n        FontLoader.clear();\n      }.bind(this));\n    }\n  };\n  return WorkerTransport;\n\n})();\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects\n * for fonts, images, rendering code and such. These objects might get processed\n * inside of a worker. The `PDFObjects` implements some basic functions to\n * manage these objects.\n * @ignore\n */\nvar PDFObjects = (function PDFObjectsClosure() {\n  function PDFObjects() {\n    this.objs = {};\n  }\n\n  PDFObjects.prototype = {\n    /**\n     * Internal function.\n     * Ensures there is an object defined for `objId`.\n     */\n    ensureObj: function PDFObjects_ensureObj(objId) {\n      if (this.objs[objId]) {\n        return this.objs[objId];\n      }\n\n      var obj = {\n        capability: createPromiseCapability(),\n        data: null,\n        resolved: false\n      };\n      this.objs[objId] = obj;\n\n      return obj;\n    },\n\n    /**\n     * If called *without* callback, this returns the data of `objId` but the\n     * object needs to be resolved. If it isn't, this function throws.\n     *\n     * If called *with* a callback, the callback is called with the data of the\n     * object once the object is resolved. That means, if you call this\n     * function and the object is already resolved, the callback gets called\n     * right away.\n     */\n    get: function PDFObjects_get(objId, callback) {\n      // If there is a callback, then the get can be async and the object is\n      // not required to be resolved right now\n      if (callback) {\n        this.ensureObj(objId).capability.promise.then(callback);\n        return null;\n      }\n\n      // If there isn't a callback, the user expects to get the resolved data\n      // directly.\n      var obj = this.objs[objId];\n\n      // If there isn't an object yet or the object isn't resolved, then the\n      // data isn't ready yet!\n      if (!obj || !obj.resolved) {\n        error('Requesting object that isn\\'t resolved yet ' + objId);\n      }\n\n      return obj.data;\n    },\n\n    /**\n     * Resolves the object `objId` with optional `data`.\n     */\n    resolve: function PDFObjects_resolve(objId, data) {\n      var obj = this.ensureObj(objId);\n\n      obj.resolved = true;\n      obj.data = data;\n      obj.capability.resolve(data);\n    },\n\n    isResolved: function PDFObjects_isResolved(objId) {\n      var objs = this.objs;\n\n      if (!objs[objId]) {\n        return false;\n      } else {\n        return objs[objId].resolved;\n      }\n    },\n\n    hasData: function PDFObjects_hasData(objId) {\n      return this.isResolved(objId);\n    },\n\n    /**\n     * Returns the data of `objId` if object exists, null otherwise.\n     */\n    getData: function PDFObjects_getData(objId) {\n      var objs = this.objs;\n      if (!objs[objId] || !objs[objId].resolved) {\n        return null;\n      } else {\n        return objs[objId].data;\n      }\n    },\n\n    clear: function PDFObjects_clear() {\n      this.objs = {};\n    }\n  };\n  return PDFObjects;\n})();\n\n/**\n * Allows controlling of the rendering tasks.\n * @class\n */\nvar RenderTask = (function RenderTaskClosure() {\n  function RenderTask(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n  }\n\n  RenderTask.prototype = /** @lends RenderTask.prototype */ {\n    /**\n     * Promise for rendering task completion.\n     * @return {Promise}\n     */\n    get promise() {\n      return this._internalRenderTask.capability.promise;\n    },\n\n    /**\n     * Cancels the rendering task. If the task is currently rendering it will\n     * not be cancelled until graphics pauses with a timeout. The promise that\n     * this object extends will resolved when cancelled.\n     */\n    cancel: function RenderTask_cancel() {\n      this._internalRenderTask.cancel();\n    },\n\n    /**\n     * Registers callbacks to indicate the rendering task completion.\n     *\n     * @param {function} onFulfilled The callback for the rendering completion.\n     * @param {function} onRejected The callback for the rendering failure.\n     * @return {Promise} A promise that is resolved after the onFulfilled or\n     *                   onRejected callback.\n     */\n    then: function RenderTask_then(onFulfilled, onRejected) {\n      return this.promise.then.apply(this.promise, arguments);\n    }\n  };\n\n  return RenderTask;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nvar InternalRenderTask = (function InternalRenderTaskClosure() {\n\n  function InternalRenderTask(callback, params, objs, commonObjs, operatorList,\n                              pageNumber) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this.pageNumber = pageNumber;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this.cancelled = false;\n    this.capability = createPromiseCapability();\n    this.task = new RenderTask(this);\n    // caching this-bound methods\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n  }\n\n  InternalRenderTask.prototype = {\n\n    initalizeGraphics:\n        function InternalRenderTask_initalizeGraphics(transparency) {\n\n      if (this.cancelled) {\n        return;\n      }\n      if (PDFJS.pdfBug && 'StepperManager' in globalScope &&\n          globalScope.StepperManager.enabled) {\n        this.stepper = globalScope.StepperManager.create(this.pageNumber - 1);\n        this.stepper.init(this.operatorList);\n        this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n      }\n\n      var params = this.params;\n      this.gfx = new CanvasGraphics(params.canvasContext, this.commonObjs,\n                                    this.objs, params.imageLayer);\n\n      this.gfx.beginDrawing(params.viewport, transparency);\n      this.operatorListIdx = 0;\n      this.graphicsReady = true;\n      if (this.graphicsReadyCallback) {\n        this.graphicsReadyCallback();\n      }\n    },\n\n    cancel: function InternalRenderTask_cancel() {\n      this.running = false;\n      this.cancelled = true;\n      this.callback('cancelled');\n    },\n\n    operatorListChanged: function InternalRenderTask_operatorListChanged() {\n      if (!this.graphicsReady) {\n        if (!this.graphicsReadyCallback) {\n          this.graphicsReadyCallback = this._continueBound;\n        }\n        return;\n      }\n\n      if (this.stepper) {\n        this.stepper.updateOperatorList(this.operatorList);\n      }\n\n      if (this.running) {\n        return;\n      }\n      this._continue();\n    },\n\n    _continue: function InternalRenderTask__continue() {\n      this.running = true;\n      if (this.cancelled) {\n        return;\n      }\n      if (this.task.onContinue) {\n        this.task.onContinue.call(this.task, this._scheduleNextBound);\n      } else {\n        this._scheduleNext();\n      }\n    },\n\n    _scheduleNext: function InternalRenderTask__scheduleNext() {\n      window.requestAnimationFrame(this._nextBound);\n    },\n\n    _next: function InternalRenderTask__next() {\n      if (this.cancelled) {\n        return;\n      }\n      this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList,\n                                        this.operatorListIdx,\n                                        this._continueBound,\n                                        this.stepper);\n      if (this.operatorListIdx === this.operatorList.argsArray.length) {\n        this.running = false;\n        if (this.operatorList.lastChunk) {\n          this.gfx.endDrawing();\n          this.callback();\n        }\n      }\n    }\n\n  };\n\n  return InternalRenderTask;\n})();\n\n\nvar Metadata = PDFJS.Metadata = (function MetadataClosure() {\n  function fixMetadata(meta) {\n    return meta.replace(/>\\\\376\\\\377([^<]+)/g, function(all, codes) {\n      var bytes = codes.replace(/\\\\([0-3])([0-7])([0-7])/g,\n                                function(code, d1, d2, d3) {\n        return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n      });\n      var chars = '';\n      for (var i = 0; i < bytes.length; i += 2) {\n        var code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n        chars += code >= 32 && code < 127 && code !== 60 && code !== 62 &&\n          code !== 38 && false ? String.fromCharCode(code) :\n          '&#x' + (0x10000 + code).toString(16).substring(1) + ';';\n      }\n      return '>' + chars;\n    });\n  }\n\n  function Metadata(meta) {\n    if (typeof meta === 'string') {\n      // Ghostscript produces invalid metadata\n      meta = fixMetadata(meta);\n\n      var parser = new DOMParser();\n      meta = parser.parseFromString(meta, 'application/xml');\n    } else if (!(meta instanceof Document)) {\n      error('Metadata: Invalid metadata object');\n    }\n\n    this.metaDocument = meta;\n    this.metadata = {};\n    this.parse();\n  }\n\n  Metadata.prototype = {\n    parse: function Metadata_parse() {\n      var doc = this.metaDocument;\n      var rdf = doc.documentElement;\n\n      if (rdf.nodeName.toLowerCase() !== 'rdf:rdf') { // Wrapped in <xmpmeta>\n        rdf = rdf.firstChild;\n        while (rdf && rdf.nodeName.toLowerCase() !== 'rdf:rdf') {\n          rdf = rdf.nextSibling;\n        }\n      }\n\n      var nodeName = (rdf) ? rdf.nodeName.toLowerCase() : null;\n      if (!rdf || nodeName !== 'rdf:rdf' || !rdf.hasChildNodes()) {\n        return;\n      }\n\n      var children = rdf.childNodes, desc, entry, name, i, ii, length, iLength;\n      for (i = 0, length = children.length; i < length; i++) {\n        desc = children[i];\n        if (desc.nodeName.toLowerCase() !== 'rdf:description') {\n          continue;\n        }\n\n        for (ii = 0, iLength = desc.childNodes.length; ii < iLength; ii++) {\n          if (desc.childNodes[ii].nodeName.toLowerCase() !== '#text') {\n            entry = desc.childNodes[ii];\n            name = entry.nodeName.toLowerCase();\n            this.metadata[name] = entry.textContent.trim();\n          }\n        }\n      }\n    },\n\n    get: function Metadata_get(name) {\n      return this.metadata[name] || null;\n    },\n\n    has: function Metadata_has(name) {\n      return typeof this.metadata[name] !== 'undefined';\n    }\n  };\n\n  return Metadata;\n})();\n\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n\n// Minimal font size that would be used during canvas fillText operations.\nvar MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nvar MAX_FONT_SIZE = 100;\nvar MAX_GROUP_SIZE = 4096;\n\n// Heuristic value used when enforcing minimum line widths.\nvar MIN_WIDTH_FACTOR = 0.65;\n\nvar COMPILE_TYPE3_GLYPHS = true;\nvar MAX_SIZE_TO_COMPILE = 1000;\n\nvar FULL_CHUNK_HEIGHT = 16;\n\nfunction createScratchCanvas(width, height) {\n  var canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\n\nfunction addContextCurrentTransform(ctx) {\n  // If the context doesn't expose a `mozCurrentTransform`, add a JS based on.\n  if (!ctx.mozCurrentTransform) {\n    // Store the original context\n    ctx._scaleX = ctx._scaleX || 1.0;\n    ctx._scaleY = ctx._scaleY || 1.0;\n    ctx._originalSave = ctx.save;\n    ctx._originalRestore = ctx.restore;\n    ctx._originalRotate = ctx.rotate;\n    ctx._originalScale = ctx.scale;\n    ctx._originalTranslate = ctx.translate;\n    ctx._originalTransform = ctx.transform;\n    ctx._originalSetTransform = ctx.setTransform;\n\n    ctx._transformMatrix = [ctx._scaleX, 0, 0, ctx._scaleY, 0, 0];\n    ctx._transformStack = [];\n\n    Object.defineProperty(ctx, 'mozCurrentTransform', {\n      get: function getCurrentTransform() {\n        return this._transformMatrix;\n      }\n    });\n\n    Object.defineProperty(ctx, 'mozCurrentTransformInverse', {\n      get: function getCurrentTransformInverse() {\n        // Calculation done using WolframAlpha:\n        // http://www.wolframalpha.com/input/?\n        //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n        var m = this._transformMatrix;\n        var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];\n\n        var ad_bc = a * d - b * c;\n        var bc_ad = b * c - a * d;\n\n        return [\n          d / ad_bc,\n          b / bc_ad,\n          c / bc_ad,\n          a / ad_bc,\n          (d * e - c * f) / bc_ad,\n          (b * e - a * f) / ad_bc\n        ];\n      }\n    });\n\n    ctx.save = function ctxSave() {\n      var old = this._transformMatrix;\n      this._transformStack.push(old);\n      this._transformMatrix = old.slice(0, 6);\n\n      this._originalSave();\n    };\n\n    ctx.restore = function ctxRestore() {\n      var prev = this._transformStack.pop();\n      if (prev) {\n        this._transformMatrix = prev;\n        this._originalRestore();\n      }\n    };\n\n    ctx.translate = function ctxTranslate(x, y) {\n      var m = this._transformMatrix;\n      m[4] = m[0] * x + m[2] * y + m[4];\n      m[5] = m[1] * x + m[3] * y + m[5];\n\n      this._originalTranslate(x, y);\n    };\n\n    ctx.scale = function ctxScale(x, y) {\n      var m = this._transformMatrix;\n      m[0] = m[0] * x;\n      m[1] = m[1] * x;\n      m[2] = m[2] * y;\n      m[3] = m[3] * y;\n\n      this._originalScale(x, y);\n    };\n\n    ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * a + m[2] * b,\n        m[1] * a + m[3] * b,\n        m[0] * c + m[2] * d,\n        m[1] * c + m[3] * d,\n        m[0] * e + m[2] * f + m[4],\n        m[1] * e + m[3] * f + m[5]\n      ];\n\n      ctx._originalTransform(a, b, c, d, e, f);\n    };\n\n    ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n      this._transformMatrix = [a, b, c, d, e, f];\n\n      ctx._originalSetTransform(a, b, c, d, e, f);\n    };\n\n    ctx.rotate = function ctxRotate(angle) {\n      var cosValue = Math.cos(angle);\n      var sinValue = Math.sin(angle);\n\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * cosValue + m[2] * sinValue,\n        m[1] * cosValue + m[3] * sinValue,\n        m[0] * (-sinValue) + m[2] * cosValue,\n        m[1] * (-sinValue) + m[3] * cosValue,\n        m[4],\n        m[5]\n      ];\n\n      this._originalRotate(angle);\n    };\n  }\n}\n\nvar CachedCanvases = (function CachedCanvasesClosure() {\n  var cache = {};\n  return {\n    getCanvas: function CachedCanvases_getCanvas(id, width, height,\n                                                 trackTransform) {\n      var canvasEntry;\n      if (cache[id] !== undefined) {\n        canvasEntry = cache[id];\n        canvasEntry.canvas.width = width;\n        canvasEntry.canvas.height = height;\n        // reset canvas transform for emulated mozCurrentTransform, if needed\n        canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n      } else {\n        var canvas = createScratchCanvas(width, height);\n        var ctx = canvas.getContext('2d');\n        if (trackTransform) {\n          addContextCurrentTransform(ctx);\n        }\n        cache[id] = canvasEntry = {canvas: canvas, context: ctx};\n      }\n      return canvasEntry;\n    },\n    clear: function () {\n      for (var id in cache) {\n        var canvasEntry = cache[id];\n        // Zeroing the width and height causes Firefox to release graphics\n        // resources immediately, which can greatly reduce memory consumption.\n        canvasEntry.canvas.width = 0;\n        canvasEntry.canvas.height = 0;\n        delete cache[id];\n      }\n    }\n  };\n})();\n\nfunction compileType3Glyph(imgData) {\n  var POINT_TO_PROCESS_LIMIT = 1000;\n\n  var width = imgData.width, height = imgData.height;\n  var i, j, j0, width1 = width + 1;\n  var points = new Uint8Array(width1 * (height + 1));\n  var POINT_TYPES =\n      new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n\n  // decodes bit-packed mask data\n  var lineSize = (width + 7) & ~7, data0 = imgData.data;\n  var data = new Uint8Array(lineSize * height), pos = 0, ii;\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    var mask = 128, elem = data0[i];\n    while (mask > 0) {\n      data[pos++] = (elem & mask) ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding iteresting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  var count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    var sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) +\n            (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  var steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  var outlines = [];\n  for (i = 0; count && i <= height; i++) {\n    var p = i * width1;\n    var end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    var coords = [p % width1, i];\n\n    var type = points[p], p0 = p, pp;\n    do {\n      var step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else { // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2 | type << 2);\n      }\n\n      coords.push(p % width1);\n      coords.push((p / width1) | 0);\n      --count;\n    } while (p0 !== p);\n    outlines.push(coords);\n    --i;\n  }\n\n  var drawOutline = function(c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n    for (var i = 0, ii = outlines.length; i < ii; i++) {\n      var o = outlines[i];\n      c.moveTo(o[0], o[1]);\n      for (var j = 2, jj = o.length; j < jj; j += 2) {\n        c.lineTo(o[j], o[j+1]);\n      }\n    }\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nvar CanvasExtraState = (function CanvasExtraStateClosure() {\n  function CanvasExtraState(old) {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = '#000000';\n    this.strokeColor = '#000000';\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null; // nonclonable field (see the save method below)\n\n    this.old = old;\n  }\n\n  CanvasExtraState.prototype = {\n    clone: function CanvasExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  };\n  return CanvasExtraState;\n})();\n\nvar CanvasGraphics = (function CanvasGraphicsClosure() {\n  // Defines the time the executeOperatorList is going to be executing\n  // before it stops and shedules a continue of execution.\n  var EXECUTION_TIME = 15;\n  // Defines the number of steps before checking the execution time\n  var EXECUTION_STEPS = 10;\n\n  function CanvasGraphics(canvasCtx, commonObjs, objs, imageLayer) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState();\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see pdf\n    // spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    if (canvasCtx) {\n      addContextCurrentTransform(canvasCtx);\n    }\n    this.cachedGetSinglePixelWidth = null;\n  }\n\n  function putBinaryImageData(ctx, imgData) {\n    if (typeof ImageData !== 'undefined' && imgData instanceof ImageData) {\n      ctx.putImageData(imgData, 0, 0);\n      return;\n    }\n\n    // Put the image data to the canvas in chunks, rather than putting the\n    // whole image at once.  This saves JS memory, because the ImageData object\n    // is smaller. It also possibly saves C++ memory within the implementation\n    // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n    // the data passed to putImageData()). |n| shouldn't be too small, however,\n    // because too many putImageData() calls will slow things down.\n    //\n    // Note: as written, if the last chunk is partial, the putImageData() call\n    // will (conceptually) put pixels past the bounds of the canvas.  But\n    // that's ok; any such pixels are ignored.\n\n    var height = imgData.height, width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0, destPos;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n    var i, j, thisChunkHeight, elemsInThisChunk;\n\n    // There are multiple forms in which the pixel data can be passed, and\n    // imgData.kind tells us which one this is.\n    if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n      // Grayscale, 1 bit per pixel (i.e. black-and-white).\n      var srcLength = src.byteLength;\n      var dest32 = PDFJS.hasCanvasTypedArrays ? new Uint32Array(dest.buffer) :\n        new Uint32ArrayView(dest);\n      var dest32DataLength = dest32.length;\n      var fullSrcDiff = (width + 7) >> 3;\n      var white = 0xFFFFFFFF;\n      var black = (PDFJS.isLittleEndian || !PDFJS.hasCanvasTypedArrays) ?\n        0xFF000000 : 0x000000FF;\n      for (i = 0; i < totalChunks; i++) {\n        thisChunkHeight =\n          (i < fullChunks) ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n        destPos = 0;\n        for (j = 0; j < thisChunkHeight; j++) {\n          var srcDiff = srcLength - srcPos;\n          var k = 0;\n          var kEnd = (srcDiff > fullSrcDiff) ? width : srcDiff * 8 - 7;\n          var kEndUnrolled = kEnd & ~7;\n          var mask = 0;\n          var srcByte = 0;\n          for (; k < kEndUnrolled; k += 8) {\n            srcByte = src[srcPos++];\n            dest32[destPos++] = (srcByte & 128) ? white : black;\n            dest32[destPos++] = (srcByte & 64) ? white : black;\n            dest32[destPos++] = (srcByte & 32) ? white : black;\n            dest32[destPos++] = (srcByte & 16) ? white : black;\n            dest32[destPos++] = (srcByte & 8) ? white : black;\n            dest32[destPos++] = (srcByte & 4) ? white : black;\n            dest32[destPos++] = (srcByte & 2) ? white : black;\n            dest32[destPos++] = (srcByte & 1) ? white : black;\n          }\n          for (; k < kEnd; k++) {\n             if (mask === 0) {\n               srcByte = src[srcPos++];\n               mask = 128;\n             }\n\n            dest32[destPos++] = (srcByte & mask) ? white : black;\n            mask >>= 1;\n          }\n        }\n        // We ran out of input. Make all remaining pixels transparent.\n        while (destPos < dest32DataLength) {\n          dest32[destPos++] = 0;\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n      // RGBA, 32-bits per pixel.\n\n      j = 0;\n      elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n      for (i = 0; i < fullChunks; i++) {\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        srcPos += elemsInThisChunk;\n\n        ctx.putImageData(chunkImgData, 0, j);\n        j += FULL_CHUNK_HEIGHT;\n      }\n      if (i < totalChunks) {\n        elemsInThisChunk = width * partialChunkHeight * 4;\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        ctx.putImageData(chunkImgData, 0, j);\n      }\n\n    } else if (imgData.kind === ImageKind.RGB_24BPP) {\n      // RGB, 24-bits per pixel.\n      thisChunkHeight = FULL_CHUNK_HEIGHT;\n      elemsInThisChunk = width * thisChunkHeight;\n      for (i = 0; i < totalChunks; i++) {\n        if (i >= fullChunks) {\n          thisChunkHeight = partialChunkHeight;\n          elemsInThisChunk = width * thisChunkHeight;\n        }\n\n        destPos = 0;\n        for (j = elemsInThisChunk; j--;) {\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = 255;\n        }\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else {\n      error('bad image kind: ' + imgData.kind);\n    }\n  }\n\n  function putBinaryImageMask(ctx, imgData) {\n    var height = imgData.height, width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n\n    for (var i = 0; i < totalChunks; i++) {\n      var thisChunkHeight =\n        (i < fullChunks) ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n      // Expand the mask so it can be used by the canvas.  Any required\n      // inversion has already been handled.\n      var destPos = 3; // alpha component offset\n      for (var j = 0; j < thisChunkHeight; j++) {\n        var mask = 0;\n        for (var k = 0; k < width; k++) {\n          if (!mask) {\n            var elem = src[srcPos++];\n            mask = 128;\n          }\n          dest[destPos] = (elem & mask) ? 0 : 255;\n          destPos += 4;\n          mask >>= 1;\n        }\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  }\n\n  function copyCtxState(sourceCtx, destCtx) {\n    var properties = ['strokeStyle', 'fillStyle', 'fillRule', 'globalAlpha',\n                      'lineWidth', 'lineCap', 'lineJoin', 'miterLimit',\n                      'globalCompositeOperation', 'font'];\n    for (var i = 0, ii = properties.length; i < ii; i++) {\n      var property = properties[i];\n      if (sourceCtx[property] !== undefined) {\n        destCtx[property] = sourceCtx[property];\n      }\n    }\n    if (sourceCtx.setLineDash !== undefined) {\n      destCtx.setLineDash(sourceCtx.getLineDash());\n      destCtx.lineDashOffset =  sourceCtx.lineDashOffset;\n    } else if (sourceCtx.mozDashOffset !== undefined) {\n      destCtx.mozDash = sourceCtx.mozDash;\n      destCtx.mozDashOffset = sourceCtx.mozDashOffset;\n    }\n  }\n\n  function composeSMaskBackdrop(bytes, r0, g0, b0) {\n    var length = bytes.length;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = bytes[i];\n      if (alpha === 0) {\n        bytes[i - 3] = r0;\n        bytes[i - 2] = g0;\n        bytes[i - 1] = b0;\n      } else if (alpha < 255) {\n        var alpha_ = 255 - alpha;\n        bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n        bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n        bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n      }\n    }\n  }\n\n  function composeSMaskAlpha(maskData, layerData) {\n    var length = maskData.length;\n    var scale = 1 / 255;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = maskData[i];\n      layerData[i] = (layerData[i] * alpha * scale) | 0;\n    }\n  }\n\n  function composeSMaskLuminosity(maskData, layerData) {\n    var length = maskData.length;\n    for (var i = 3; i < length; i += 4) {\n      var y = (maskData[i - 3] * 77) +  // * 0.3 / 255 * 0x10000\n              (maskData[i - 2] * 152) + // * 0.59 ....\n              (maskData[i - 1] * 28);   // * 0.11 ....\n      layerData[i] = (layerData[i] * y) >> 16;\n    }\n  }\n\n  function genericComposeSMask(maskCtx, layerCtx, width, height,\n                               subtype, backdrop) {\n    var hasBackdrop = !!backdrop;\n    var r0 = hasBackdrop ? backdrop[0] : 0;\n    var g0 = hasBackdrop ? backdrop[1] : 0;\n    var b0 = hasBackdrop ? backdrop[2] : 0;\n\n    var composeFn;\n    if (subtype === 'Luminosity') {\n      composeFn = composeSMaskLuminosity;\n    } else {\n      composeFn = composeSMaskAlpha;\n    }\n\n    // processing image in chunks to save memory\n    var PIXELS_TO_PROCESS = 1048576;\n    var chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n    for (var row = 0; row < height; row += chunkSize) {\n      var chunkHeight = Math.min(chunkSize, height - row);\n      var maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n      var layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n      if (hasBackdrop) {\n        composeSMaskBackdrop(maskData.data, r0, g0, b0);\n      }\n      composeFn(maskData.data, layerData.data);\n\n      maskCtx.putImageData(layerData, 0, row);\n    }\n  }\n\n  function composeSMask(ctx, smask, layerCtx) {\n    var mask = smask.canvas;\n    var maskCtx = smask.context;\n\n    ctx.setTransform(smask.scaleX, 0, 0, smask.scaleY,\n                     smask.offsetX, smask.offsetY);\n\n    var backdrop = smask.backdrop || null;\n    if (WebGLUtils.isEnabled) {\n      var composed = WebGLUtils.composeSMask(layerCtx.canvas, mask,\n        {subtype: smask.subtype, backdrop: backdrop});\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n      return;\n    }\n    genericComposeSMask(maskCtx, layerCtx, mask.width, mask.height,\n                        smask.subtype, backdrop);\n    ctx.drawImage(mask, 0, 0);\n  }\n\n  var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n  var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n  var NORMAL_CLIP = {};\n  var EO_CLIP = {};\n\n  CanvasGraphics.prototype = {\n\n    beginDrawing: function CanvasGraphics_beginDrawing(viewport, transparency) {\n      // For pdfs that use blend modes we have to clear the canvas else certain\n      // blend modes can look wrong since we'd be blending with a white\n      // backdrop. The problem with a transparent backdrop though is we then\n      // don't get sub pixel anti aliasing on text, so we fill with white if\n      // we can.\n      var width = this.ctx.canvas.width;\n      var height = this.ctx.canvas.height;\n      if (transparency) {\n        this.ctx.clearRect(0, 0, width, height);\n      } else {\n        this.ctx.mozOpaque = true;\n        this.ctx.save();\n        this.ctx.fillStyle = 'rgb(255, 255, 255)';\n        this.ctx.fillRect(0, 0, width, height);\n        this.ctx.restore();\n      }\n\n      var transform = viewport.transform;\n\n      this.ctx.save();\n      this.ctx.transform.apply(this.ctx, transform);\n\n      this.baseTransform = this.ctx.mozCurrentTransform.slice();\n\n      if (this.imageLayer) {\n        this.imageLayer.beginLayout();\n      }\n    },\n\n    executeOperatorList: function CanvasGraphics_executeOperatorList(\n                                    operatorList,\n                                    executionStartIdx, continueCallback,\n                                    stepper) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var i = executionStartIdx || 0;\n      var argsArrayLen = argsArray.length;\n\n      // Sometimes the OperatorList to execute is empty.\n      if (argsArrayLen === i) {\n        return i;\n      }\n\n      var chunkOperations = (argsArrayLen - i > EXECUTION_STEPS &&\n                             typeof continueCallback === 'function');\n      var endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n      var steps = 0;\n\n      var commonObjs = this.commonObjs;\n      var objs = this.objs;\n      var fnId;\n\n      while (true) {\n        if (stepper !== undefined && i === stepper.nextBreakPoint) {\n          stepper.breakIt(i, continueCallback);\n          return i;\n        }\n\n        fnId = fnArray[i];\n\n        if (fnId !== OPS.dependency) {\n          this[fnId].apply(this, argsArray[i]);\n        } else {\n          var deps = argsArray[i];\n          for (var n = 0, nn = deps.length; n < nn; n++) {\n            var depObjId = deps[n];\n            var common = depObjId[0] === 'g' && depObjId[1] === '_';\n            var objsPool = common ? commonObjs : objs;\n\n            // If the promise isn't resolved yet, add the continueCallback\n            // to the promise and bail out.\n            if (!objsPool.isResolved(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n\n        i++;\n\n        // If the entire operatorList was executed, stop as were done.\n        if (i === argsArrayLen) {\n          return i;\n        }\n\n        // If the execution took longer then a certain amount of time and\n        // `continueCallback` is specified, interrupt the execution.\n        if (chunkOperations && ++steps > EXECUTION_STEPS) {\n          if (Date.now() > endTime) {\n            continueCallback();\n            return i;\n          }\n          steps = 0;\n        }\n\n        // If the operatorList isn't executed completely yet OR the execution\n        // time was short enough, do another execution round.\n      }\n    },\n\n    endDrawing: function CanvasGraphics_endDrawing() {\n      this.ctx.restore();\n      CachedCanvases.clear();\n      WebGLUtils.clear();\n\n      if (this.imageLayer) {\n        this.imageLayer.endLayout();\n      }\n    },\n\n    // Graphics state\n    setLineWidth: function CanvasGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n      this.ctx.lineWidth = width;\n    },\n    setLineCap: function CanvasGraphics_setLineCap(style) {\n      this.ctx.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function CanvasGraphics_setLineJoin(style) {\n      this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n      this.ctx.miterLimit = limit;\n    },\n    setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n      var ctx = this.ctx;\n      if (ctx.setLineDash !== undefined) {\n        ctx.setLineDash(dashArray);\n        ctx.lineDashOffset = dashPhase;\n      } else {\n        ctx.mozDash = dashArray;\n        ctx.mozDashOffset = dashPhase;\n      }\n    },\n    setRenderingIntent: function CanvasGraphics_setRenderingIntent(intent) {\n      // Maybe if we one day fully support color spaces this will be important\n      // for now we can ignore.\n      // TODO set rendering intent?\n    },\n    setFlatness: function CanvasGraphics_setFlatness(flatness) {\n      // There's no way to control this with canvas, but we can safely ignore.\n      // TODO set flatness?\n    },\n    setGState: function CanvasGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case 'LW':\n            this.setLineWidth(value);\n            break;\n          case 'LC':\n            this.setLineCap(value);\n            break;\n          case 'LJ':\n            this.setLineJoin(value);\n            break;\n          case 'ML':\n            this.setMiterLimit(value);\n            break;\n          case 'D':\n            this.setDash(value[0], value[1]);\n            break;\n          case 'RI':\n            this.setRenderingIntent(value);\n            break;\n          case 'FL':\n            this.setFlatness(value);\n            break;\n          case 'Font':\n            this.setFont(value[0], value[1]);\n            break;\n          case 'CA':\n            this.current.strokeAlpha = state[1];\n            break;\n          case 'ca':\n            this.current.fillAlpha = state[1];\n            this.ctx.globalAlpha = state[1];\n            break;\n          case 'BM':\n            if (value && value.name && (value.name !== 'Normal')) {\n              var mode = value.name.replace(/([A-Z])/g,\n                function(c) {\n                  return '-' + c.toLowerCase();\n                }\n              ).substring(1);\n              this.ctx.globalCompositeOperation = mode;\n              if (this.ctx.globalCompositeOperation !== mode) {\n                warn('globalCompositeOperation \"' + mode +\n                     '\" is not supported');\n              }\n            } else {\n              this.ctx.globalCompositeOperation = 'source-over';\n            }\n            break;\n          case 'SMask':\n            if (this.current.activeSMask) {\n              this.endSMaskGroup();\n            }\n            this.current.activeSMask = value ? this.tempSMask : null;\n            if (this.current.activeSMask) {\n              this.beginSMaskGroup();\n            }\n            this.tempSMask = null;\n            break;\n        }\n      }\n    },\n    beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n\n      var activeSMask = this.current.activeSMask;\n      var drawnWidth = activeSMask.canvas.width;\n      var drawnHeight = activeSMask.canvas.height;\n      var cacheId = 'smaskGroupAt' + this.groupLevel;\n      var scratchCanvas = CachedCanvases.getCanvas(\n        cacheId, drawnWidth, drawnHeight, true);\n\n      var currentCtx = this.ctx;\n      var currentTransform = currentCtx.mozCurrentTransform;\n      this.ctx.save();\n\n      var groupCtx = scratchCanvas.context;\n      groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n      groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        ['BM', 'Normal'],\n        ['ca', 1],\n        ['CA', 1]\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n      this.ctx.restore();\n    },\n    save: function CanvasGraphics_save() {\n      this.ctx.save();\n      var old = this.current;\n      this.stateStack.push(old);\n      this.current = old.clone();\n      this.current.activeSMask = null;\n    },\n    restore: function CanvasGraphics_restore() {\n      if (this.stateStack.length !== 0) {\n        if (this.current.activeSMask !== null) {\n          this.endSMaskGroup();\n        }\n\n        this.current = this.stateStack.pop();\n        this.ctx.restore();\n\n        this.cachedGetSinglePixelWidth = null;\n      }\n    },\n    transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n      this.ctx.transform(a, b, c, d, e, f);\n\n      this.cachedGetSinglePixelWidth = null;\n    },\n\n    // Path\n    constructPath: function CanvasGraphics_constructPath(ops, args) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var x = current.x, y = current.y;\n      for (var i = 0, j = 0, ii = ops.length; i < ii; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            if (width === 0) {\n              width = this.getSinglePixelWidth();\n            }\n            if (height === 0) {\n              height = this.getSinglePixelWidth();\n            }\n            var xw = x + width;\n            var yh = y + height;\n            this.ctx.moveTo(x, y);\n            this.ctx.lineTo(xw, y);\n            this.ctx.lineTo(xw, yh);\n            this.ctx.lineTo(x, yh);\n            this.ctx.lineTo(x, y);\n            this.ctx.closePath();\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.moveTo(x, y);\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.lineTo(x, y);\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3],\n                              x, y);\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            ctx.bezierCurveTo(x, y, args[j], args[j + 1],\n                              args[j + 2], args[j + 3]);\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n            j += 4;\n            break;\n          case OPS.closePath:\n            ctx.closePath();\n            break;\n        }\n      }\n      current.setCurrentPoint(x, y);\n    },\n    closePath: function CanvasGraphics_closePath() {\n      this.ctx.closePath();\n    },\n    stroke: function CanvasGraphics_stroke(consumePath) {\n      consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n      var ctx = this.ctx;\n      var strokeColor = this.current.strokeColor;\n      // Prevent drawing too thin lines by enforcing a minimum line width.\n      ctx.lineWidth = Math.max(this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n                               this.current.lineWidth);\n      // For stroke we want to temporarily change the global alpha to the\n      // stroking alpha.\n      ctx.globalAlpha = this.current.strokeAlpha;\n      if (strokeColor && strokeColor.hasOwnProperty('type') &&\n          strokeColor.type === 'Pattern') {\n        // for patterns, we transform to pattern space, calculate\n        // the pattern, call stroke, and restore to user space\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n        ctx.stroke();\n        ctx.restore();\n      } else {\n        ctx.stroke();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n      // Restore the global alpha to the fill alpha\n      ctx.globalAlpha = this.current.fillAlpha;\n    },\n    closeStroke: function CanvasGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n    fill: function CanvasGraphics_fill(consumePath) {\n      consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n      var ctx = this.ctx;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      var needRestore = false;\n\n      if (isPatternFill) {\n        ctx.save();\n        ctx.fillStyle = fillColor.getPattern(ctx, this);\n        needRestore = true;\n      }\n\n      if (this.pendingEOFill) {\n        if (ctx.mozFillRule !== undefined) {\n          ctx.mozFillRule = 'evenodd';\n          ctx.fill();\n          ctx.mozFillRule = 'nonzero';\n        } else {\n          try {\n            ctx.fill('evenodd');\n          } catch (ex) {\n            // shouldn't really happen, but browsers might think differently\n            ctx.fill();\n          }\n        }\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n\n      if (needRestore) {\n        ctx.restore();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n    },\n    eoFill: function CanvasGraphics_eoFill() {\n      this.pendingEOFill = true;\n      this.fill();\n    },\n    fillStroke: function CanvasGraphics_fillStroke() {\n      this.fill(false);\n      this.stroke(false);\n\n      this.consumePath();\n    },\n    eoFillStroke: function CanvasGraphics_eoFillStroke() {\n      this.pendingEOFill = true;\n      this.fillStroke();\n    },\n    closeFillStroke: function CanvasGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n    closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n      this.pendingEOFill = true;\n      this.closePath();\n      this.fillStroke();\n    },\n    endPath: function CanvasGraphics_endPath() {\n      this.consumePath();\n    },\n\n    // Clipping\n    clip: function CanvasGraphics_clip() {\n      this.pendingClip = NORMAL_CLIP;\n    },\n    eoClip: function CanvasGraphics_eoClip() {\n      this.pendingClip = EO_CLIP;\n    },\n\n    // Text\n    beginText: function CanvasGraphics_beginText() {\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.textMatrixScale = 1;\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    endText: function CanvasGraphics_endText() {\n      var paths = this.pendingTextPaths;\n      var ctx = this.ctx;\n      if (paths === undefined) {\n        ctx.beginPath();\n        return;\n      }\n\n      ctx.save();\n      ctx.beginPath();\n      for (var i = 0; i < paths.length; i++) {\n        var path = paths[i];\n        ctx.setTransform.apply(ctx, path.transform);\n        ctx.translate(path.x, path.y);\n        path.addToPath(ctx, path.fontSize);\n      }\n      ctx.restore();\n      ctx.clip();\n      ctx.beginPath();\n      delete this.pendingTextPaths;\n    },\n    setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n      this.current.charSpacing = spacing;\n    },\n    setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n      this.current.wordSpacing = spacing;\n    },\n    setHScale: function CanvasGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n    setLeading: function CanvasGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n    setFont: function CanvasGraphics_setFont(fontRefName, size) {\n      var fontObj = this.commonObjs.get(fontRefName);\n      var current = this.current;\n\n      if (!fontObj) {\n        error('Can\\'t find font for ' + fontRefName);\n      }\n\n      current.fontMatrix = (fontObj.fontMatrix ?\n                            fontObj.fontMatrix : FONT_IDENTITY_MATRIX);\n\n      // A valid matrix needs all main diagonal elements to be non-zero\n      // This also ensures we bypass FF bugzilla bug #719844.\n      if (current.fontMatrix[0] === 0 ||\n          current.fontMatrix[3] === 0) {\n        warn('Invalid font matrix for font ' + fontRefName);\n      }\n\n      // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n      // and in some docs this can be negative (inverted x-y axes).\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      this.current.font = fontObj;\n      this.current.fontSize = size;\n\n      if (fontObj.isType3Font) {\n        return; // we don't need ctx.font for Type3 fonts\n      }\n\n      var name = fontObj.loadedName || 'sans-serif';\n      var bold = fontObj.black ? (fontObj.bold ? 'bolder' : 'bold') :\n                                 (fontObj.bold ? 'bold' : 'normal');\n\n      var italic = fontObj.italic ? 'italic' : 'normal';\n      var typeface = '\"' + name + '\", ' + fontObj.fallbackName;\n\n      // Some font backends cannot handle fonts below certain size.\n      // Keeping the font at minimal size and using the fontSizeScale to change\n      // the current transformation matrix before the fillText/strokeText.\n      // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n      var browserFontSize = size < MIN_FONT_SIZE ? MIN_FONT_SIZE :\n                            size > MAX_FONT_SIZE ? MAX_FONT_SIZE : size;\n      this.current.fontSizeScale = size / browserFontSize;\n\n      var rule = italic + ' ' + bold + ' ' + browserFontSize + 'px ' + typeface;\n      this.ctx.font = rule;\n    },\n    setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n      this.current.textRenderingMode = mode;\n    },\n    setTextRise: function CanvasGraphics_setTextRise(rise) {\n      this.current.textRise = rise;\n    },\n    moveText: function CanvasGraphics_moveText(x, y) {\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n    },\n    setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n    setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n      this.current.textMatrix = [a, b, c, d, e, f];\n      this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    nextLine: function CanvasGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    paintChar: function CanvasGraphics_paintChar(character, x, y) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var textRenderingMode = current.textRenderingMode;\n      var fontSize = current.fontSize / current.fontSizeScale;\n      var fillStrokeMode = textRenderingMode &\n        TextRenderingMode.FILL_STROKE_MASK;\n      var isAddToPathSet = !!(textRenderingMode &\n        TextRenderingMode.ADD_TO_PATH_FLAG);\n\n      var addToPath;\n      if (font.disableFontFace || isAddToPathSet) {\n        addToPath = font.getPathGenerator(this.commonObjs, character);\n      }\n\n      if (font.disableFontFace) {\n        ctx.save();\n        ctx.translate(x, y);\n        ctx.beginPath();\n        addToPath(ctx, fontSize);\n        if (fillStrokeMode === TextRenderingMode.FILL ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.fill();\n        }\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.stroke();\n        }\n        ctx.restore();\n      } else {\n        if (fillStrokeMode === TextRenderingMode.FILL ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.fillText(character, x, y);\n        }\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.strokeText(character, x, y);\n        }\n      }\n\n      if (isAddToPathSet) {\n        var paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n        paths.push({\n          transform: ctx.mozCurrentTransform,\n          x: x,\n          y: y,\n          fontSize: fontSize,\n          addToPath: addToPath\n        });\n      }\n    },\n\n    get isFontSubpixelAAEnabled() {\n      // Checks if anti-aliasing is enabled when scaled text is painted.\n      // On Windows GDI scaled fonts looks bad.\n      var ctx = document.createElement('canvas').getContext('2d');\n      ctx.scale(1.5, 1);\n      ctx.fillText('I', 0, 10);\n      var data = ctx.getImageData(0, 0, 10, 10).data;\n      var enabled = false;\n      for (var i = 3; i < data.length; i += 4) {\n        if (data[i] > 0 && data[i] < 255) {\n          enabled = true;\n          break;\n        }\n      }\n      return shadow(this, 'isFontSubpixelAAEnabled', enabled);\n    },\n\n    showText: function CanvasGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      if (font.isType3Font) {\n        return this.showType3Text(glyphs);\n      }\n\n      var fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return;\n      }\n\n      var ctx = this.ctx;\n      var fontSizeScale = current.fontSizeScale;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var defaultVMetrics = font.defaultVMetrics;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var simpleFillText =\n        current.textRenderingMode === TextRenderingMode.FILL &&\n        !font.disableFontFace;\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y + current.textRise);\n\n      if (fontDirection > 0) {\n        ctx.scale(textHScale, -1);\n      } else {\n        ctx.scale(textHScale, 1);\n      }\n\n      var lineWidth = current.lineWidth;\n      var scale = current.textMatrixScale;\n      if (scale === 0 || lineWidth === 0) {\n        var fillStrokeMode = current.textRenderingMode &\n          TextRenderingMode.FILL_STROKE_MASK;\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          this.cachedGetSinglePixelWidth = null;\n          lineWidth = this.getSinglePixelWidth() * MIN_WIDTH_FACTOR;\n        }\n      } else {\n        lineWidth /= scale;\n      }\n\n      if (fontSizeScale !== 1.0) {\n        ctx.scale(fontSizeScale, fontSizeScale);\n        lineWidth /= fontSizeScale;\n      }\n\n      ctx.lineWidth = lineWidth;\n\n      var x = 0, i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (glyph === null) {\n          // word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += -glyph * fontSize * 0.001;\n          continue;\n        }\n\n        var restoreNeeded = false;\n        var character = glyph.fontChar;\n        var accent = glyph.accent;\n        var scaledX, scaledY, scaledAccentX, scaledAccentY;\n        var width = glyph.width;\n        if (vertical) {\n          var vmetric, vx, vy;\n          vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (font.remeasure && width > 0 && this.isFontSubpixelAAEnabled) {\n          // some standard fonts may not have the exact width, trying to\n          // rescale per character\n          var measuredWidth = ctx.measureText(character).width * 1000 /\n            fontSize * fontSizeScale;\n          var characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        }\n\n        if (simpleFillText && !accent) {\n          // common case\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY);\n          if (accent) {\n            scaledAccentX = scaledX + accent.offset.x / fontSizeScale;\n            scaledAccentY = scaledY - accent.offset.y / fontSizeScale;\n            this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY);\n          }\n        }\n\n        var charWidth = width * widthAdvanceScale + charSpacing * fontDirection;\n        x += charWidth;\n\n        if (restoreNeeded) {\n          ctx.restore();\n        }\n      }\n      if (vertical) {\n        current.y -= x * textHScale;\n      } else {\n        current.x += x * textHScale;\n      }\n      ctx.restore();\n    },\n\n    showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n      // Type3 fonts - each glyph is a \"mini-PDF\"\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n      var fontDirection = current.fontDirection;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var textHScale = current.textHScale * fontDirection;\n      var fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n      var glyphsLength = glyphs.length;\n      var isTextInvisible =\n        current.textRenderingMode === TextRenderingMode.INVISIBLE;\n      var i, glyph, width;\n\n      if (isTextInvisible || fontSize === 0) {\n        return;\n      }\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y);\n\n      ctx.scale(textHScale, fontDirection);\n\n      for (i = 0; i < glyphsLength; ++i) {\n        glyph = glyphs[i];\n        if (glyph === null) {\n          // word break\n          this.ctx.translate(wordSpacing, 0);\n          current.x += wordSpacing * textHScale;\n          continue;\n        } else if (isNum(glyph)) {\n          var spacingLength = -glyph * 0.001 * fontSize;\n          this.ctx.translate(spacingLength, 0);\n          current.x += spacingLength * textHScale;\n          continue;\n        }\n\n        var operatorList = font.charProcOperatorList[glyph.operatorListId];\n        if (!operatorList) {\n          warn('Type3 character \\\"' + glyph.operatorListId +\n               '\\\" is not available');\n          continue;\n        }\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform.apply(ctx, fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n\n        var transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n        width = transformed[0] * fontSize + charSpacing;\n\n        ctx.translate(width, 0);\n        current.x += width * textHScale;\n      }\n      ctx.restore();\n      this.processingType3 = null;\n    },\n\n    // Type3 fonts\n    setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {\n      // We can safely ignore this since the width should be the same\n      // as the width in the Widths array.\n    },\n    setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(xWidth,\n                                                                        yWidth,\n                                                                        llx,\n                                                                        lly,\n                                                                        urx,\n                                                                        ury) {\n      // TODO According to the spec we're also suppose to ignore any operators\n      // that set color or include images while processing this type3 font.\n      this.ctx.rect(llx, lly, urx - llx, ury - lly);\n      this.clip();\n      this.endPath();\n    },\n\n    // Color\n    getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n      var pattern;\n      if (IR[0] === 'TilingPattern') {\n        var color = IR[1];\n        pattern = new TilingPattern(IR, color, this.ctx, this.objs,\n                                    this.commonObjs, this.baseTransform);\n      } else {\n        pattern = getShadingPatternFromIR(IR);\n      }\n      return pattern;\n    },\n    setStrokeColorN: function CanvasGraphics_setStrokeColorN(/*...*/) {\n      this.current.strokeColor = this.getColorN_Pattern(arguments);\n    },\n    setFillColorN: function CanvasGraphics_setFillColorN(/*...*/) {\n      this.current.fillColor = this.getColorN_Pattern(arguments);\n      this.current.patternFill = true;\n    },\n    setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.strokeStyle = color;\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.fillStyle = color;\n      this.current.fillColor = color;\n      this.current.patternFill = false;\n    },\n\n    shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n      var ctx = this.ctx;\n\n      this.save();\n      var pattern = getShadingPatternFromIR(patternIR);\n      ctx.fillStyle = pattern.getPattern(ctx, this, true);\n\n      var inv = ctx.mozCurrentTransformInverse;\n      if (inv) {\n        var canvas = ctx.canvas;\n        var width = canvas.width;\n        var height = canvas.height;\n\n        var bl = Util.applyTransform([0, 0], inv);\n        var br = Util.applyTransform([0, height], inv);\n        var ul = Util.applyTransform([width, 0], inv);\n        var ur = Util.applyTransform([width, height], inv);\n\n        var x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n        var y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n        var x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n        var y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n        this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n      } else {\n        // HACK to draw the gradient onto an infinite rectangle.\n        // PDF gradients are drawn across the entire image while\n        // Canvas only allows gradients to be drawn in a rectangle\n        // The following bug should allow us to remove this.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n        this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n      }\n\n      this.restore();\n    },\n\n    // Images\n    beginInlineImage: function CanvasGraphics_beginInlineImage() {\n      error('Should not call beginInlineImage');\n    },\n    beginImageData: function CanvasGraphics_beginImageData() {\n      error('Should not call beginImageData');\n    },\n\n    paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(matrix,\n                                                                        bbox) {\n      this.save();\n      this.baseTransformStack.push(this.baseTransform);\n\n      if (isArray(matrix) && 6 === matrix.length) {\n        this.transform.apply(this, matrix);\n      }\n\n      this.baseTransform = this.ctx.mozCurrentTransform;\n\n      if (isArray(bbox) && 4 === bbox.length) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n        this.ctx.rect(bbox[0], bbox[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n      this.restore();\n      this.baseTransform = this.baseTransformStack.pop();\n    },\n\n    beginGroup: function CanvasGraphics_beginGroup(group) {\n      this.save();\n      var currentCtx = this.ctx;\n      // TODO non-isolated groups - according to Rik at adobe non-isolated\n      // group results aren't usually that different and they even have tools\n      // that ignore this setting. Notes from Rik on implmenting:\n      // - When you encounter an transparency group, create a new canvas with\n      // the dimensions of the bbox\n      // - copy the content from the previous canvas to the new canvas\n      // - draw as usual\n      // - remove the backdrop alpha:\n      // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n      // value of your transparency group and 'alphaBackdrop' the alpha of the\n      // backdrop\n      // - remove background color:\n      // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n      if (!group.isolated) {\n        info('TODO: Support non-isolated groups.');\n      }\n\n      // TODO knockout - supposedly possible with the clever use of compositing\n      // modes.\n      if (group.knockout) {\n        warn('Knockout groups not supported.');\n      }\n\n      var currentTransform = currentCtx.mozCurrentTransform;\n      if (group.matrix) {\n        currentCtx.transform.apply(currentCtx, group.matrix);\n      }\n      assert(group.bbox, 'Bounding box is required.');\n\n      // Based on the current transform figure out how big the bounding box\n      // will actually be.\n      var bounds = Util.getAxialAlignedBoundingBox(\n                    group.bbox,\n                    currentCtx.mozCurrentTransform);\n      // Clip the bounding box to the current canvas.\n      var canvasBounds = [0,\n                          0,\n                          currentCtx.canvas.width,\n                          currentCtx.canvas.height];\n      bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n      // Use ceil in case we're between sizes so we don't create canvas that is\n      // too small and make the canvas at least 1x1 pixels.\n      var offsetX = Math.floor(bounds[0]);\n      var offsetY = Math.floor(bounds[1]);\n      var drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n      var drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n      var scaleX = 1, scaleY = 1;\n      if (drawnWidth > MAX_GROUP_SIZE) {\n        scaleX = drawnWidth / MAX_GROUP_SIZE;\n        drawnWidth = MAX_GROUP_SIZE;\n      }\n      if (drawnHeight > MAX_GROUP_SIZE) {\n        scaleY = drawnHeight / MAX_GROUP_SIZE;\n        drawnHeight = MAX_GROUP_SIZE;\n      }\n\n      var cacheId = 'groupAt' + this.groupLevel;\n      if (group.smask) {\n        // Using two cache entries is case if masks are used one after another.\n        cacheId +=  '_smask_' + ((this.smaskCounter++) % 2);\n      }\n      var scratchCanvas = CachedCanvases.getCanvas(\n        cacheId, drawnWidth, drawnHeight, true);\n      var groupCtx = scratchCanvas.context;\n\n      // Since we created a new canvas that is just the size of the bounding box\n      // we have to translate the group ctx.\n      groupCtx.scale(1 / scaleX, 1 / scaleY);\n      groupCtx.translate(-offsetX, -offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      if (group.smask) {\n        // Saving state and cached mask to be used in setGState.\n        this.smaskStack.push({\n          canvas: scratchCanvas.canvas,\n          context: groupCtx,\n          offsetX: offsetX,\n          offsetY: offsetY,\n          scaleX: scaleX,\n          scaleY: scaleY,\n          subtype: group.smask.subtype,\n          backdrop: group.smask.backdrop\n        });\n      } else {\n        // Setup the current ctx so when the group is popped we draw it at the\n        // right location.\n        currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n        currentCtx.translate(offsetX, offsetY);\n        currentCtx.scale(scaleX, scaleY);\n      }\n      // The transparency group inherits all off the current graphics state\n      // except the blend mode, soft mask, and alpha constants.\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        ['BM', 'Normal'],\n        ['ca', 1],\n        ['CA', 1]\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n\n    endGroup: function CanvasGraphics_endGroup(group) {\n      this.groupLevel--;\n      var groupCtx = this.ctx;\n      this.ctx = this.groupStack.pop();\n      // Turn off image smoothing to avoid sub pixel interpolation which can\n      // look kind of blurry for some pdfs.\n      if (this.ctx.imageSmoothingEnabled !== undefined) {\n        this.ctx.imageSmoothingEnabled = false;\n      } else {\n        this.ctx.mozImageSmoothingEnabled = false;\n      }\n      if (group.smask) {\n        this.tempSMask = this.smaskStack.pop();\n      } else {\n        this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      }\n      this.restore();\n    },\n\n    beginAnnotations: function CanvasGraphics_beginAnnotations() {\n      this.save();\n      this.current = new CanvasExtraState();\n    },\n\n    endAnnotations: function CanvasGraphics_endAnnotations() {\n      this.restore();\n    },\n\n    beginAnnotation: function CanvasGraphics_beginAnnotation(rect, transform,\n                                                             matrix) {\n      this.save();\n\n      if (isArray(rect) && 4 === rect.length) {\n        var width = rect[2] - rect[0];\n        var height = rect[3] - rect[1];\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n\n      this.transform.apply(this, transform);\n      this.transform.apply(this, matrix);\n    },\n\n    endAnnotation: function CanvasGraphics_endAnnotation() {\n      this.restore();\n    },\n\n    paintJpegXObject: function CanvasGraphics_paintJpegXObject(objId, w, h) {\n      var domImage = this.objs.get(objId);\n      if (!domImage) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      this.save();\n\n      var ctx = this.ctx;\n      // scale the image to the unit square\n      ctx.scale(1 / w, -1 / h);\n\n      ctx.drawImage(domImage, 0, 0, domImage.width, domImage.height,\n                    0, -h, w, h);\n      if (this.imageLayer) {\n        var currentTransform = ctx.mozCurrentTransformInverse;\n        var position = this.getCanvasPosition(0, 0);\n        this.imageLayer.appendImage({\n          objId: objId,\n          left: position[0],\n          top: position[1],\n          width: w / currentTransform[0],\n          height: h / currentTransform[3]\n        });\n      }\n      this.restore();\n    },\n\n    paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n      var ctx = this.ctx;\n      var width = img.width, height = img.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var glyph = this.processingType3;\n\n      if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n        if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n          glyph.compiled =\n            compileType3Glyph({data: img.data, width: width, height: height});\n        } else {\n          glyph.compiled = null;\n        }\n      }\n\n      if (glyph && glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n\n      var maskCanvas = CachedCanvases.getCanvas('maskCanvas', width, height);\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = 'source-in';\n\n      maskCtx.fillStyle = isPatternFill ?\n                          fillColor.getPattern(maskCtx, this) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      this.paintInlineImageXObject(maskCanvas.canvas);\n    },\n\n    paintImageMaskXObjectRepeat:\n      function CanvasGraphics_paintImageMaskXObjectRepeat(imgData, scaleX,\n                                                          scaleY, positions) {\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var maskCanvas = CachedCanvases.getCanvas('maskCanvas', width, height);\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, imgData);\n\n      maskCtx.globalCompositeOperation = 'source-in';\n\n      maskCtx.fillStyle = isPatternFill ?\n                          fillColor.getPattern(maskCtx, this) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      var ctx = this.ctx;\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        ctx.save();\n        ctx.transform(scaleX, 0, 0, scaleY, positions[i], positions[i + 1]);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height,\n          0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageMaskXObjectGroup:\n      function CanvasGraphics_paintImageMaskXObjectGroup(images) {\n      var ctx = this.ctx;\n\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      for (var i = 0, ii = images.length; i < ii; i++) {\n        var image = images[i];\n        var width = image.width, height = image.height;\n\n        var maskCanvas = CachedCanvases.getCanvas('maskCanvas', width, height);\n        var maskCtx = maskCanvas.context;\n        maskCtx.save();\n\n        putBinaryImageMask(maskCtx, image);\n\n        maskCtx.globalCompositeOperation = 'source-in';\n\n        maskCtx.fillStyle = isPatternFill ?\n                            fillColor.getPattern(maskCtx, this) : fillColor;\n        maskCtx.fillRect(0, 0, width, height);\n\n        maskCtx.restore();\n\n        ctx.save();\n        ctx.transform.apply(ctx, image.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height,\n                      0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintImageXObjectRepeat:\n      function CanvasGraphics_paintImageXObjectRepeat(objId, scaleX, scaleY,\n                                                          positions) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      var width = imgData.width;\n      var height = imgData.height;\n      var map = [];\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        map.push({transform: [scaleX, 0, 0, scaleY, positions[i],\n                 positions[i + 1]], x: 0, y: 0, w: width, h: height});\n      }\n      this.paintInlineImageXObjectGroup(imgData, map);\n    },\n\n    paintInlineImageXObject:\n      function CanvasGraphics_paintInlineImageXObject(imgData) {\n      var width = imgData.width;\n      var height = imgData.height;\n      var ctx = this.ctx;\n\n      this.save();\n      // scale the image to the unit square\n      ctx.scale(1 / width, -1 / height);\n\n      var currentTransform = ctx.mozCurrentTransformInverse;\n      var a = currentTransform[0], b = currentTransform[1];\n      var widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n      var c = currentTransform[2], d = currentTransform[3];\n      var heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n\n      var imgToPaint, tmpCanvas;\n      // instanceof HTMLElement does not work in jsdom node.js module\n      if (imgData instanceof HTMLElement || !imgData.data) {\n        imgToPaint = imgData;\n      } else {\n        tmpCanvas = CachedCanvases.getCanvas('inlineImage', width, height);\n        var tmpCtx = tmpCanvas.context;\n        putBinaryImageData(tmpCtx, imgData);\n        imgToPaint = tmpCanvas.canvas;\n      }\n\n      var paintWidth = width, paintHeight = height;\n      var tmpCanvasId = 'prescale1';\n      // Vertial or horizontal scaling shall not be more than 2 to not loose the\n      // pixels during drawImage operation, painting on the temporary canvas(es)\n      // that are twice smaller in size\n      while ((widthScale > 2 && paintWidth > 1) ||\n             (heightScale > 2 && paintHeight > 1)) {\n        var newWidth = paintWidth, newHeight = paintHeight;\n        if (widthScale > 2 && paintWidth > 1) {\n          newWidth = Math.ceil(paintWidth / 2);\n          widthScale /= paintWidth / newWidth;\n        }\n        if (heightScale > 2 && paintHeight > 1) {\n          newHeight = Math.ceil(paintHeight / 2);\n          heightScale /= paintHeight / newHeight;\n        }\n        tmpCanvas = CachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n        tmpCtx = tmpCanvas.context;\n        tmpCtx.clearRect(0, 0, newWidth, newHeight);\n        tmpCtx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight,\n                                     0, 0, newWidth, newHeight);\n        imgToPaint = tmpCanvas.canvas;\n        paintWidth = newWidth;\n        paintHeight = newHeight;\n        tmpCanvasId = tmpCanvasId === 'prescale1' ? 'prescale2' : 'prescale1';\n      }\n      ctx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight,\n                                0, -height, width, height);\n\n      if (this.imageLayer) {\n        var position = this.getCanvasPosition(0, -height);\n        this.imageLayer.appendImage({\n          imgData: imgData,\n          left: position[0],\n          top: position[1],\n          width: width / currentTransform[0],\n          height: height / currentTransform[3]\n        });\n      }\n      this.restore();\n    },\n\n    paintInlineImageXObjectGroup:\n      function CanvasGraphics_paintInlineImageXObjectGroup(imgData, map) {\n      var ctx = this.ctx;\n      var w = imgData.width;\n      var h = imgData.height;\n\n      var tmpCanvas = CachedCanvases.getCanvas('inlineImage', w, h);\n      var tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n\n      for (var i = 0, ii = map.length; i < ii; i++) {\n        var entry = map[i];\n        ctx.save();\n        ctx.transform.apply(ctx, entry.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(tmpCanvas.canvas, entry.x, entry.y, entry.w, entry.h,\n                      0, -1, 1, 1);\n        if (this.imageLayer) {\n          var position = this.getCanvasPosition(entry.x, entry.y);\n          this.imageLayer.appendImage({\n            imgData: imgData,\n            left: position[0],\n            top: position[1],\n            width: w,\n            height: h\n          });\n        }\n        ctx.restore();\n      }\n    },\n\n    paintSolidColorImageMask:\n      function CanvasGraphics_paintSolidColorImageMask() {\n        this.ctx.fillRect(0, 0, 1, 1);\n    },\n\n    // Marked content\n\n    markPoint: function CanvasGraphics_markPoint(tag) {\n      // TODO Marked content.\n    },\n    markPointProps: function CanvasGraphics_markPointProps(tag, properties) {\n      // TODO Marked content.\n    },\n    beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {\n      // TODO Marked content.\n    },\n    beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(\n                                        tag, properties) {\n      // TODO Marked content.\n    },\n    endMarkedContent: function CanvasGraphics_endMarkedContent() {\n      // TODO Marked content.\n    },\n\n    // Compatibility\n\n    beginCompat: function CanvasGraphics_beginCompat() {\n      // TODO ignore undefined operators (should we do that anyway?)\n    },\n    endCompat: function CanvasGraphics_endCompat() {\n      // TODO stop ignoring undefined operators\n    },\n\n    // Helper functions\n\n    consumePath: function CanvasGraphics_consumePath() {\n      var ctx = this.ctx;\n      if (this.pendingClip) {\n        if (this.pendingClip === EO_CLIP) {\n          if (ctx.mozFillRule !== undefined) {\n            ctx.mozFillRule = 'evenodd';\n            ctx.clip();\n            ctx.mozFillRule = 'nonzero';\n          } else {\n            try {\n              ctx.clip('evenodd');\n            } catch (ex) {\n              // shouldn't really happen, but browsers might think differently\n              ctx.clip();\n            }\n          }\n        } else {\n          ctx.clip();\n        }\n        this.pendingClip = null;\n      }\n      ctx.beginPath();\n    },\n    getSinglePixelWidth: function CanvasGraphics_getSinglePixelWidth(scale) {\n      if (this.cachedGetSinglePixelWidth === null) {\n        var inverse = this.ctx.mozCurrentTransformInverse;\n        // max of the current horizontal and vertical scale\n        this.cachedGetSinglePixelWidth = Math.sqrt(Math.max(\n          (inverse[0] * inverse[0] + inverse[1] * inverse[1]),\n          (inverse[2] * inverse[2] + inverse[3] * inverse[3])));\n      }\n      return this.cachedGetSinglePixelWidth;\n    },\n    getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n        var transform = this.ctx.mozCurrentTransform;\n        return [\n          transform[0] * x + transform[2] * y + transform[4],\n          transform[1] * x + transform[3] * y + transform[5]\n        ];\n    }\n  };\n\n  for (var op in OPS) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n\n  return CanvasGraphics;\n})();\n\n\nvar WebGLUtils = (function WebGLUtilsClosure() {\n  function loadShader(gl, code, shaderType) {\n    var shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n    var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n      var errorMsg = gl.getShaderInfoLog(shader);\n      throw new Error('Error during shader compilation: ' + errorMsg);\n    }\n    return shader;\n  }\n  function createVertexShader(gl, code) {\n    return loadShader(gl, code, gl.VERTEX_SHADER);\n  }\n  function createFragmentShader(gl, code) {\n    return loadShader(gl, code, gl.FRAGMENT_SHADER);\n  }\n  function createProgram(gl, shaders) {\n    var program = gl.createProgram();\n    for (var i = 0, ii = shaders.length; i < ii; ++i) {\n      gl.attachShader(program, shaders[i]);\n    }\n    gl.linkProgram(program);\n    var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!linked) {\n      var errorMsg = gl.getProgramInfoLog(program);\n      throw new Error('Error during program linking: ' + errorMsg);\n    }\n    return program;\n  }\n  function createTexture(gl, image, textureId) {\n    gl.activeTexture(textureId);\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Set the parameters so we can render any size image.\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n    // Upload the image into the texture.\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  var currentGL, currentCanvas;\n  function generateGL() {\n    if (currentGL) {\n      return;\n    }\n    currentCanvas = document.createElement('canvas');\n    currentGL = currentCanvas.getContext('webgl',\n      { premultipliedalpha: false });\n  }\n\n  var smaskVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             ';\n\n  var smaskFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             ';\n\n  var smaskCache = null;\n\n  function initSmaskGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n    cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n    cache.backdropLocation = gl.getUniformLocation(program, 'u_backdrop');\n    cache.subtypeLocation = gl.getUniformLocation(program, 'u_subtype');\n\n    var texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');\n    var texLayerLocation = gl.getUniformLocation(program, 'u_image');\n    var texMaskLocation = gl.getUniformLocation(program, 'u_mask');\n\n    // provide texture coordinates for the rectangle.\n    var texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0.0,  0.0,\n      1.0,  0.0,\n      0.0,  1.0,\n      0.0,  1.0,\n      1.0,  0.0,\n      1.0,  1.0]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(texCoordLocation);\n    gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n    gl.uniform1i(texLayerLocation, 0);\n    gl.uniform1i(texMaskLocation, 1);\n\n    smaskCache = cache;\n  }\n\n  function composeSMask(layer, mask, properties) {\n    var width = layer.width, height = layer.height;\n\n    if (!smaskCache) {\n      initSmaskGL();\n    }\n    var cache = smaskCache,canvas = cache.canvas, gl = cache.gl;\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    if (properties.backdrop) {\n      gl.uniform4f(cache.resolutionLocation, properties.backdrop[0],\n                   properties.backdrop[1], properties.backdrop[2], 1);\n    } else {\n      gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n    }\n    gl.uniform1i(cache.subtypeLocation,\n                 properties.subtype === 'Luminosity' ? 1 : 0);\n\n    // Create a textures\n    var texture = createTexture(gl, layer, gl.TEXTURE0);\n    var maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n\n\n    // Create a buffer and put a single clipspace rectangle in\n    // it (2 triangles)\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0, 0,\n      width, 0,\n      0, height,\n      0, height,\n      width, 0,\n      width, height]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // draw\n    gl.clearColor(0, 0, 0, 0);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    gl.flush();\n\n    gl.deleteTexture(texture);\n    gl.deleteTexture(maskTexture);\n    gl.deleteBuffer(buffer);\n\n    return canvas;\n  }\n\n  var figuresVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             ';\n\n  var figuresFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             ';\n\n  var figuresCache = null;\n\n  function initFiguresGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n    cache.scaleLocation = gl.getUniformLocation(program, 'u_scale');\n    cache.offsetLocation = gl.getUniformLocation(program, 'u_offset');\n    cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n    cache.colorLocation = gl.getAttribLocation(program, 'a_color');\n\n    figuresCache = cache;\n  }\n\n  function drawFigures(width, height, backgroundColor, figures, context) {\n    if (!figuresCache) {\n      initFiguresGL();\n    }\n    var cache = figuresCache, canvas = cache.canvas, gl = cache.gl;\n\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    // count triangle points\n    var count = 0;\n    var i, ii, rows;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      switch (figures[i].type) {\n        case 'lattice':\n          rows = (figures[i].coords.length / figures[i].verticesPerRow) | 0;\n          count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n          break;\n        case 'triangles':\n          count += figures[i].coords.length;\n          break;\n      }\n    }\n    // transfer data\n    var coords = new Float32Array(count * 2);\n    var colors = new Uint8Array(count * 3);\n    var coordsMap = context.coords, colorsMap = context.colors;\n    var pIndex = 0, cIndex = 0;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      var figure = figures[i], ps = figure.coords, cs = figure.colors;\n      switch (figure.type) {\n        case 'lattice':\n          var cols = figure.verticesPerRow;\n          rows = (ps.length / cols) | 0;\n          for (var row = 1; row < rows; row++) {\n            var offset = row * cols + 1;\n            for (var col = 1; col < cols; col++, offset++) {\n              coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n              coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n              coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n              coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n              coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n              coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n              colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n              colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n              colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n              colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n              colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n              colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n              colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n              colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n              colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n\n              coords[pIndex + 6] = coords[pIndex + 2];\n              coords[pIndex + 7] = coords[pIndex + 3];\n              coords[pIndex + 8] = coords[pIndex + 4];\n              coords[pIndex + 9] = coords[pIndex + 5];\n              coords[pIndex + 10] = coordsMap[ps[offset]];\n              coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n              colors[cIndex + 9] = colors[cIndex + 3];\n              colors[cIndex + 10] = colors[cIndex + 4];\n              colors[cIndex + 11] = colors[cIndex + 5];\n              colors[cIndex + 12] = colors[cIndex + 6];\n              colors[cIndex + 13] = colors[cIndex + 7];\n              colors[cIndex + 14] = colors[cIndex + 8];\n              colors[cIndex + 15] = colorsMap[cs[offset]];\n              colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n              colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n              pIndex += 12;\n              cIndex += 18;\n            }\n          }\n          break;\n        case 'triangles':\n          for (var j = 0, jj = ps.length; j < jj; j++) {\n            coords[pIndex] = coordsMap[ps[j]];\n            coords[pIndex + 1] = coordsMap[ps[j] + 1];\n            colors[cIndex] = colorsMap[cs[i]];\n            colors[cIndex + 1] = colorsMap[cs[j] + 1];\n            colors[cIndex + 2] = colorsMap[cs[j] + 2];\n            pIndex += 2;\n            cIndex += 3;\n          }\n          break;\n      }\n    }\n\n    // draw\n    if (backgroundColor) {\n      gl.clearColor(backgroundColor[0] / 255, backgroundColor[1] / 255,\n                    backgroundColor[2] / 255, 1.0);\n    } else {\n      gl.clearColor(0, 0, 0, 0);\n    }\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var coordsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    var colorsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.colorLocation);\n    gl.vertexAttribPointer(cache.colorLocation, 3, gl.UNSIGNED_BYTE, false,\n                           0, 0);\n\n    gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n    gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n\n    gl.drawArrays(gl.TRIANGLES, 0, count);\n\n    gl.flush();\n\n    gl.deleteBuffer(coordsBuffer);\n    gl.deleteBuffer(colorsBuffer);\n\n    return canvas;\n  }\n\n  function cleanup() {\n    if (smaskCache && smaskCache.canvas) {\n      smaskCache.canvas.width = 0;\n      smaskCache.canvas.height = 0;\n    }\n    if (figuresCache && figuresCache.canvas) {\n      figuresCache.canvas.width = 0;\n      figuresCache.canvas.height = 0;\n    }\n    smaskCache = null;\n    figuresCache = null;\n  }\n\n  return {\n    get isEnabled() {\n      if (PDFJS.disableWebGL) {\n        return false;\n      }\n      var enabled = false;\n      try {\n        generateGL();\n        enabled = !!currentGL;\n      } catch (e) { }\n      return shadow(this, 'isEnabled', enabled);\n    },\n    composeSMask: composeSMask,\n    drawFigures: drawFigures,\n    clear: cleanup\n  };\n})();\n\n\nvar ShadingIRs = {};\n\nShadingIRs.RadialAxial = {\n  fromIR: function RadialAxial_fromIR(raw) {\n    var type = raw[1];\n    var colorStops = raw[2];\n    var p0 = raw[3];\n    var p1 = raw[4];\n    var r0 = raw[5];\n    var r1 = raw[6];\n    return {\n      type: 'Pattern',\n      getPattern: function RadialAxial_getPattern(ctx) {\n        var grad;\n        if (type === 'axial') {\n          grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n        } else if (type === 'radial') {\n          grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n        }\n\n        for (var i = 0, ii = colorStops.length; i < ii; ++i) {\n          var c = colorStops[i];\n          grad.addColorStop(c[0], c[1]);\n        }\n        return grad;\n      }\n    };\n  }\n};\n\nvar createMeshCanvas = (function createMeshCanvasClosure() {\n  function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n    // Very basic Gouraud-shaded triangle rasterization algorithm.\n    var coords = context.coords, colors = context.colors;\n    var bytes = data.data, rowSize = data.width * 4;\n    var tmp;\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1; p1 = p2; p2 = tmp; tmp = c1; c1 = c2; c2 = tmp;\n    }\n    if (coords[p2 + 1] > coords[p3 + 1]) {\n      tmp = p2; p2 = p3; p3 = tmp; tmp = c2; c2 = c3; c3 = tmp;\n    }\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1; p1 = p2; p2 = tmp; tmp = c1; c1 = c2; c2 = tmp;\n    }\n    var x1 = (coords[p1] + context.offsetX) * context.scaleX;\n    var y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n    var x2 = (coords[p2] + context.offsetX) * context.scaleX;\n    var y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n    var x3 = (coords[p3] + context.offsetX) * context.scaleX;\n    var y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n    if (y1 >= y3) {\n      return;\n    }\n    var c1r = colors[c1], c1g = colors[c1 + 1], c1b = colors[c1 + 2];\n    var c2r = colors[c2], c2g = colors[c2 + 1], c2b = colors[c2 + 2];\n    var c3r = colors[c3], c3g = colors[c3 + 1], c3b = colors[c3 + 2];\n\n    var minY = Math.round(y1), maxY = Math.round(y3);\n    var xa, car, cag, cab;\n    var xb, cbr, cbg, cbb;\n    var k;\n    for (var y = minY; y <= maxY; y++) {\n      if (y < y2) {\n        k = y < y1 ? 0 : y1 === y2 ? 1 : (y1 - y) / (y1 - y2);\n        xa = x1 - (x1 - x2) * k;\n        car = c1r - (c1r - c2r) * k;\n        cag = c1g - (c1g - c2g) * k;\n        cab = c1b - (c1b - c2b) * k;\n      } else {\n        k = y > y3 ? 1 : y2 === y3 ? 0 : (y2 - y) / (y2 - y3);\n        xa = x2 - (x2 - x3) * k;\n        car = c2r - (c2r - c3r) * k;\n        cag = c2g - (c2g - c3g) * k;\n        cab = c2b - (c2b - c3b) * k;\n      }\n      k = y < y1 ? 0 : y > y3 ? 1 : (y1 - y) / (y1 - y3);\n      xb = x1 - (x1 - x3) * k;\n      cbr = c1r - (c1r - c3r) * k;\n      cbg = c1g - (c1g - c3g) * k;\n      cbb = c1b - (c1b - c3b) * k;\n      var x1_ = Math.round(Math.min(xa, xb));\n      var x2_ = Math.round(Math.max(xa, xb));\n      var j = rowSize * y + x1_ * 4;\n      for (var x = x1_; x <= x2_; x++) {\n        k = (xa - x) / (xa - xb);\n        k = k < 0 ? 0 : k > 1 ? 1 : k;\n        bytes[j++] = (car - (car - cbr) * k) | 0;\n        bytes[j++] = (cag - (cag - cbg) * k) | 0;\n        bytes[j++] = (cab - (cab - cbb) * k) | 0;\n        bytes[j++] = 255;\n      }\n    }\n  }\n\n  function drawFigure(data, figure, context) {\n    var ps = figure.coords;\n    var cs = figure.colors;\n    var i, ii;\n    switch (figure.type) {\n      case 'lattice':\n        var verticesPerRow = figure.verticesPerRow;\n        var rows = Math.floor(ps.length / verticesPerRow) - 1;\n        var cols = verticesPerRow - 1;\n        for (i = 0; i < rows; i++) {\n          var q = i * verticesPerRow;\n          for (var j = 0; j < cols; j++, q++) {\n            drawTriangle(data, context,\n              ps[q], ps[q + 1], ps[q + verticesPerRow],\n              cs[q], cs[q + 1], cs[q + verticesPerRow]);\n            drawTriangle(data, context,\n              ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow],\n              cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n          }\n        }\n        break;\n      case 'triangles':\n        for (i = 0, ii = ps.length; i < ii; i += 3) {\n          drawTriangle(data, context,\n            ps[i], ps[i + 1], ps[i + 2],\n            cs[i], cs[i + 1], cs[i + 2]);\n        }\n        break;\n      default:\n        error('illigal figure');\n        break;\n    }\n  }\n\n  function createMeshCanvas(bounds, combinesScale, coords, colors, figures,\n                            backgroundColor) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    var EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n    var offsetX = Math.floor(bounds[0]);\n    var offsetY = Math.floor(bounds[1]);\n    var boundsWidth = Math.ceil(bounds[2]) - offsetX;\n    var boundsHeight = Math.ceil(bounds[3]) - offsetY;\n\n    var width = Math.min(Math.ceil(Math.abs(boundsWidth * combinesScale[0] *\n      EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    var height = Math.min(Math.ceil(Math.abs(boundsHeight * combinesScale[1] *\n      EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    var scaleX = boundsWidth / width;\n    var scaleY = boundsHeight / height;\n\n    var context = {\n      coords: coords,\n      colors: colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n\n    var canvas, tmpCanvas, i, ii;\n    if (WebGLUtils.isEnabled) {\n      canvas = WebGLUtils.drawFigures(width, height, backgroundColor,\n                                      figures, context);\n\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=972126\n      tmpCanvas = CachedCanvases.getCanvas('mesh', width, height, false);\n      tmpCanvas.context.drawImage(canvas, 0, 0);\n      canvas = tmpCanvas.canvas;\n    } else {\n      tmpCanvas = CachedCanvases.getCanvas('mesh', width, height, false);\n      var tmpCtx = tmpCanvas.context;\n\n      var data = tmpCtx.createImageData(width, height);\n      if (backgroundColor) {\n        var bytes = data.data;\n        for (i = 0, ii = bytes.length; i < ii; i += 4) {\n          bytes[i] = backgroundColor[0];\n          bytes[i + 1] = backgroundColor[1];\n          bytes[i + 2] = backgroundColor[2];\n          bytes[i + 3] = 255;\n        }\n      }\n      for (i = 0; i < figures.length; i++) {\n        drawFigure(data, figures[i], context);\n      }\n      tmpCtx.putImageData(data, 0, 0);\n      canvas = tmpCanvas.canvas;\n    }\n\n    return {canvas: canvas, offsetX: offsetX, offsetY: offsetY,\n            scaleX: scaleX, scaleY: scaleY};\n  }\n  return createMeshCanvas;\n})();\n\nShadingIRs.Mesh = {\n  fromIR: function Mesh_fromIR(raw) {\n    //var type = raw[1];\n    var coords = raw[2];\n    var colors = raw[3];\n    var figures = raw[4];\n    var bounds = raw[5];\n    var matrix = raw[6];\n    //var bbox = raw[7];\n    var background = raw[8];\n    return {\n      type: 'Pattern',\n      getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n        var scale;\n        if (shadingFill) {\n          scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n        } else {\n          // Obtain scale from matrix and current transformation matrix.\n          scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n          if (matrix) {\n            var matrixScale = Util.singularValueDecompose2dScale(matrix);\n            scale = [scale[0] * matrixScale[0],\n                     scale[1] * matrixScale[1]];\n          }\n        }\n\n\n        // Rasterizing on the main thread since sending/queue large canvases\n        // might cause OOM.\n        var temporaryPatternCanvas = createMeshCanvas(bounds, scale, coords,\n          colors, figures, shadingFill ? null : background);\n\n        if (!shadingFill) {\n          ctx.setTransform.apply(ctx, owner.baseTransform);\n          if (matrix) {\n            ctx.transform.apply(ctx, matrix);\n          }\n        }\n\n        ctx.translate(temporaryPatternCanvas.offsetX,\n                      temporaryPatternCanvas.offsetY);\n        ctx.scale(temporaryPatternCanvas.scaleX,\n                  temporaryPatternCanvas.scaleY);\n\n        return ctx.createPattern(temporaryPatternCanvas.canvas, 'no-repeat');\n      }\n    };\n  }\n};\n\nShadingIRs.Dummy = {\n  fromIR: function Dummy_fromIR() {\n    return {\n      type: 'Pattern',\n      getPattern: function Dummy_fromIR_getPattern() {\n        return 'hotpink';\n      }\n    };\n  }\n};\n\nfunction getShadingPatternFromIR(raw) {\n  var shadingIR = ShadingIRs[raw[0]];\n  if (!shadingIR) {\n    error('Unknown IR type: ' + raw[0]);\n  }\n  return shadingIR.fromIR(raw);\n}\n\nvar TilingPattern = (function TilingPatternClosure() {\n  var PaintType = {\n    COLORED: 1,\n    UNCOLORED: 2\n  };\n\n  var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n  function TilingPattern(IR, color, ctx, objs, commonObjs, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.baseTransform = baseTransform;\n    this.type = 'Pattern';\n    this.ctx = ctx;\n  }\n\n  TilingPattern.prototype = {\n    createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n      var operatorList = this.operatorList;\n      var bbox = this.bbox;\n      var xstep = this.xstep;\n      var ystep = this.ystep;\n      var paintType = this.paintType;\n      var tilingType = this.tilingType;\n      var color = this.color;\n      var objs = this.objs;\n      var commonObjs = this.commonObjs;\n\n      info('TilingType: ' + tilingType);\n\n      var x0 = bbox[0], y0 = bbox[1], x1 = bbox[2], y1 = bbox[3];\n\n      var topLeft = [x0, y0];\n      // we want the canvas to be as large as the step size\n      var botRight = [x0 + xstep, y0 + ystep];\n\n      var width = botRight[0] - topLeft[0];\n      var height = botRight[1] - topLeft[1];\n\n      // Obtain scale from matrix and current transformation matrix.\n      var matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n      var curMatrixScale = Util.singularValueDecompose2dScale(\n        this.baseTransform);\n      var combinedScale = [matrixScale[0] * curMatrixScale[0],\n        matrixScale[1] * curMatrixScale[1]];\n\n      // MAX_PATTERN_SIZE is used to avoid OOM situation.\n      // Use width and height values that are as close as possible to the end\n      // result when the pattern is used. Too low value makes the pattern look\n      // blurry. Too large value makes it look too crispy.\n      width = Math.min(Math.ceil(Math.abs(width * combinedScale[0])),\n        MAX_PATTERN_SIZE);\n\n      height = Math.min(Math.ceil(Math.abs(height * combinedScale[1])),\n        MAX_PATTERN_SIZE);\n\n      var tmpCanvas = CachedCanvases.getCanvas('pattern', width, height, true);\n      var tmpCtx = tmpCanvas.context;\n      var graphics = new CanvasGraphics(tmpCtx, commonObjs, objs);\n      graphics.groupLevel = owner.groupLevel;\n\n      this.setFillAndStrokeStyleToContext(tmpCtx, paintType, color);\n\n      this.setScale(width, height, xstep, ystep);\n      this.transformToScale(graphics);\n\n      // transform coordinates to pattern space\n      var tmpTranslate = [1, 0, 0, 1, -topLeft[0], -topLeft[1]];\n      graphics.transform.apply(graphics, tmpTranslate);\n\n      this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n\n      graphics.executeOperatorList(operatorList);\n      return tmpCanvas.canvas;\n    },\n\n    setScale: function TilingPattern_setScale(width, height, xstep, ystep) {\n      this.scale = [width / xstep, height / ystep];\n    },\n\n    transformToScale: function TilingPattern_transformToScale(graphics) {\n      var scale = this.scale;\n      var tmpScale = [scale[0], 0, 0, scale[1], 0, 0];\n      graphics.transform.apply(graphics, tmpScale);\n    },\n\n    scaleToContext: function TilingPattern_scaleToContext() {\n      var scale = this.scale;\n      this.ctx.scale(1 / scale[0], 1 / scale[1]);\n    },\n\n    clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n      if (bbox && isArray(bbox) && bbox.length === 4) {\n        var bboxWidth = x1 - x0;\n        var bboxHeight = y1 - y0;\n        graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n        graphics.clip();\n        graphics.endPath();\n      }\n    },\n\n    setFillAndStrokeStyleToContext:\n      function setFillAndStrokeStyleToContext(context, paintType, color) {\n        switch (paintType) {\n          case PaintType.COLORED:\n            var ctx = this.ctx;\n            context.fillStyle = ctx.fillStyle;\n            context.strokeStyle = ctx.strokeStyle;\n            break;\n          case PaintType.UNCOLORED:\n            var cssColor = Util.makeCssRgb(color[0], color[1], color[2]);\n            context.fillStyle = cssColor;\n            context.strokeStyle = cssColor;\n            break;\n          default:\n            error('Unsupported paint type: ' + paintType);\n        }\n      },\n\n    getPattern: function TilingPattern_getPattern(ctx, owner) {\n      var temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n      ctx = this.ctx;\n      ctx.setTransform.apply(ctx, this.baseTransform);\n      ctx.transform.apply(ctx, this.matrix);\n      this.scaleToContext();\n\n      return ctx.createPattern(temporaryPatternCanvas, 'repeat');\n    }\n  };\n\n  return TilingPattern;\n})();\n\n\nPDFJS.disableFontFace = false;\n\nvar FontLoader = {\n  insertRule: function fontLoaderInsertRule(rule) {\n    var styleElement = document.getElementById('PDFJS_FONT_STYLE_TAG');\n    if (!styleElement) {\n      styleElement = document.createElement('style');\n      styleElement.id = 'PDFJS_FONT_STYLE_TAG';\n      document.documentElement.getElementsByTagName('head')[0].appendChild(\n        styleElement);\n    }\n\n    var styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  },\n\n  clear: function fontLoaderClear() {\n    var styleElement = document.getElementById('PDFJS_FONT_STYLE_TAG');\n    if (styleElement) {\n      styleElement.parentNode.removeChild(styleElement);\n    }\n    this.nativeFontFaces.forEach(function(nativeFontFace) {\n      document.fonts.delete(nativeFontFace);\n    });\n    this.nativeFontFaces.length = 0;\n  },\n  get loadTestFont() {\n    // This is a CFF font with 1 glyph for '.' that fills its entire width and\n    // height.\n    return shadow(this, 'loadTestFont', atob(\n      'T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQ' +\n      'AABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwA' +\n      'AAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbm' +\n      'FtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAA' +\n      'AADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6A' +\n      'ABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAA' +\n      'MQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAA' +\n      'AAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAA' +\n      'AAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQ' +\n      'AAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMA' +\n      'AQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAA' +\n      'EAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAA' +\n      'AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAA' +\n      'AAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgc' +\n      'A/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF' +\n      'hYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQA' +\n      'AAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAg' +\n      'ABAAAAAAAAAAAD6AAAAAAAAA=='\n    ));\n  },\n\n  loadTestFontId: 0,\n\n  loadingContext: {\n    requests: [],\n    nextRequestId: 0\n  },\n\n  isSyncFontLoadingSupported: (function detectSyncFontLoadingSupport() {\n    if (isWorker) {\n      return false;\n    }\n\n    // User agent string sniffing is bad, but there is no reliable way to tell\n    // if font is fully loaded and ready to be used with canvas.\n    var userAgent = window.navigator.userAgent;\n    var m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(userAgent);\n    if (m && m[1] >= 14) {\n      return true;\n    }\n    // TODO other browsers\n    if (userAgent === 'node') {\n      return true;\n    }\n    return false;\n  })(),\n\n  nativeFontFaces: [],\n\n  isFontLoadingAPISupported: (!isWorker && typeof document !== 'undefined' &&\n                              !!document.fonts),\n\n  addNativeFontFace: function fontLoader_addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n    document.fonts.add(nativeFontFace);\n  },\n\n  bind: function fontLoaderBind(fonts, callback) {\n    assert(!isWorker, 'bind() shall be called from main thread');\n\n    var rules = [];\n    var fontsToLoad = [];\n    var fontLoadPromises = [];\n    for (var i = 0, ii = fonts.length; i < ii; i++) {\n      var font = fonts[i];\n\n      // Add the font to the DOM only once or skip if the font\n      // is already loaded.\n      if (font.attached || font.loading === false) {\n        continue;\n      }\n      font.attached = true;\n\n      if (this.isFontLoadingAPISupported) {\n        var nativeFontFace = font.createNativeFontFace();\n        if (nativeFontFace) {\n          fontLoadPromises.push(nativeFontFace.loaded);\n        }\n      } else {\n        var rule = font.bindDOM();\n        if (rule) {\n          rules.push(rule);\n          fontsToLoad.push(font);\n        }\n      }\n    }\n\n    var request = FontLoader.queueLoadingCallback(callback);\n    if (this.isFontLoadingAPISupported) {\n      Promise.all(fontsToLoad).then(function() {\n        request.complete();\n      });\n    } else if (rules.length > 0 && !this.isSyncFontLoadingSupported) {\n      FontLoader.prepareFontLoadEvent(rules, fontsToLoad, request);\n    } else {\n      request.complete();\n    }\n  },\n\n  queueLoadingCallback: function FontLoader_queueLoadingCallback(callback) {\n    function LoadLoader_completeRequest() {\n      assert(!request.end, 'completeRequest() cannot be called twice');\n      request.end = Date.now();\n\n      // sending all completed requests in order how they were queued\n      while (context.requests.length > 0 && context.requests[0].end) {\n        var otherRequest = context.requests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n\n    var context = FontLoader.loadingContext;\n    var requestId = 'pdfjs-font-loading-' + (context.nextRequestId++);\n    var request = {\n      id: requestId,\n      complete: LoadLoader_completeRequest,\n      callback: callback,\n      started: Date.now()\n    };\n    context.requests.push(request);\n    return request;\n  },\n\n  prepareFontLoadEvent: function fontLoaderPrepareFontLoadEvent(rules,\n                                                                fonts,\n                                                                request) {\n      /** Hack begin */\n      // There's currently no event when a font has finished downloading so the\n      // following code is a dirty hack to 'guess' when a font is\n      // ready. It's assumed fonts are loaded in order, so add a known test\n      // font after the desired fonts and then test for the loading of that\n      // test font.\n\n      function int32(data, offset) {\n        return (data.charCodeAt(offset) << 24) |\n               (data.charCodeAt(offset + 1) << 16) |\n               (data.charCodeAt(offset + 2) << 8) |\n               (data.charCodeAt(offset + 3) & 0xff);\n      }\n\n      function spliceString(s, offset, remove, insert) {\n        var chunk1 = s.substr(0, offset);\n        var chunk2 = s.substr(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n\n      var i, ii;\n\n      var canvas = document.createElement('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n\n      var called = 0;\n      function isFontReady(name, callback) {\n        called++;\n        // With setTimeout clamping this gives the font ~100ms to load.\n        if(called > 30) {\n          warn('Load test font never loaded.');\n          callback();\n          return;\n        }\n        ctx.font = '30px ' + name;\n        ctx.fillText('.', 0, 20);\n        var imageData = ctx.getImageData(0, 0, 1, 1);\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      var loadTestFontId = 'lt' + Date.now() + this.loadTestFontId++;\n      // Chromium seems to cache fonts based on a hash of the actual font data,\n      // so the font must be modified for each load test else it will appear to\n      // be loaded already.\n      // TODO: This could maybe be made faster by avoiding the btoa of the full\n      // font by splitting it in chunks before hand and padding the font id.\n      var data = this.loadTestFont;\n      var COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n      data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length,\n                          loadTestFontId);\n      // CFF checksum is important for IE, adjusting it\n      var CFF_CHECKSUM_OFFSET = 16;\n      var XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n      var checksum = int32(data, CFF_CHECKSUM_OFFSET);\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n      }\n      if (i < loadTestFontId.length) { // align to 4 bytes boundary\n        checksum = (checksum - XXXX_VALUE +\n                    int32(loadTestFontId + 'XXX', i)) | 0;\n      }\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n      var url = 'url(data:font/opentype;base64,' + btoa(data) + ');';\n      var rule = '@font-face { font-family:\"' + loadTestFontId + '\";src:' +\n                 url + '}';\n      FontLoader.insertRule(rule);\n\n      var names = [];\n      for (i = 0, ii = fonts.length; i < ii; i++) {\n        names.push(fonts[i].loadedName);\n      }\n      names.push(loadTestFontId);\n\n      var div = document.createElement('div');\n      div.setAttribute('style',\n                       'visibility: hidden;' +\n                       'width: 10px; height: 10px;' +\n                       'position: absolute; top: 0px; left: 0px;');\n      for (i = 0, ii = names.length; i < ii; ++i) {\n        var span = document.createElement('span');\n        span.textContent = 'Hi';\n        span.style.fontFamily = names[i];\n        div.appendChild(span);\n      }\n      document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, function() {\n        document.body.removeChild(div);\n        request.complete();\n      });\n      /** Hack end */\n  }\n};\n\nvar FontFaceObject = (function FontFaceObjectClosure() {\n  function FontFaceObject(name, file, properties) {\n    this.compiledGlyphs = {};\n    if (arguments.length === 1) {\n      // importing translated data\n      var data = arguments[0];\n      for (var i in data) {\n        this[i] = data[i];\n      }\n      return;\n    }\n  }\n  FontFaceObject.prototype = {\n    createNativeFontFace: function FontFaceObject_createNativeFontFace() {\n      if (!this.data) {\n        return null;\n      }\n\n      if (PDFJS.disableFontFace) {\n        this.disableFontFace = true;\n        return null;\n      }\n\n      var nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n      FontLoader.addNativeFontFace(nativeFontFace);\n\n      if (PDFJS.pdfBug && 'FontInspector' in globalScope &&\n          globalScope['FontInspector'].enabled) {\n        globalScope['FontInspector'].fontAdded(this);\n      }\n      return nativeFontFace;\n    },\n\n    bindDOM: function FontFaceObject_bindDOM() {\n      if (!this.data) {\n        return null;\n      }\n\n      if (PDFJS.disableFontFace) {\n        this.disableFontFace = true;\n        return null;\n      }\n\n      var data = bytesToString(new Uint8Array(this.data));\n      var fontName = this.loadedName;\n\n      // Add the font-face rule to the document\n      var url = ('url(data:' + this.mimetype + ';base64,' +\n                 window.btoa(data) + ');');\n      var rule = '@font-face { font-family:\"' + fontName + '\";src:' + url + '}';\n      FontLoader.insertRule(rule);\n\n      if (PDFJS.pdfBug && 'FontInspector' in globalScope &&\n          globalScope['FontInspector'].enabled) {\n        globalScope['FontInspector'].fontAdded(this, url);\n      }\n\n      return rule;\n    },\n\n    getPathGenerator: function FontLoader_getPathGenerator(objs, character) {\n      if (!(character in this.compiledGlyphs)) {\n        var js = objs.get(this.loadedName + '_path_' + character);\n        /*jshint -W054 */\n        this.compiledGlyphs[character] = new Function('c', 'size', js);\n      }\n      return this.compiledGlyphs[character];\n    }\n  };\n  return FontFaceObject;\n})();\n\n\nvar ANNOT_MIN_SIZE = 10; // px\n\nvar AnnotationUtils = (function AnnotationUtilsClosure() {\n  // TODO(mack): This dupes some of the logic in CanvasGraphics.setFont()\n  function setTextStyles(element, item, fontObj) {\n\n    var style = element.style;\n    style.fontSize = item.fontSize + 'px';\n    style.direction = item.fontDirection < 0 ? 'rtl': 'ltr';\n\n    if (!fontObj) {\n      return;\n    }\n\n    style.fontWeight = fontObj.black ?\n      (fontObj.bold ? 'bolder' : 'bold') :\n      (fontObj.bold ? 'bold' : 'normal');\n    style.fontStyle = fontObj.italic ? 'italic' : 'normal';\n\n    var fontName = fontObj.loadedName;\n    var fontFamily = fontName ? '\"' + fontName + '\", ' : '';\n    // Use a reasonable default font if the font doesn't specify a fallback\n    var fallbackName = fontObj.fallbackName || 'Helvetica, sans-serif';\n    style.fontFamily = fontFamily + fallbackName;\n  }\n\n  function initContainer(item, drawBorder) {\n    var container = document.createElement('section');\n    var cstyle = container.style;\n    var width = item.rect[2] - item.rect[0];\n    var height = item.rect[3] - item.rect[1];\n\n    var bWidth = item.borderWidth || 0;\n    if (bWidth) {\n      width = width - 2 * bWidth;\n      height = height - 2 * bWidth;\n      cstyle.borderWidth = bWidth + 'px';\n      var color = item.color;\n      if (drawBorder && color) {\n        cstyle.borderStyle = 'solid';\n        cstyle.borderColor = Util.makeCssRgb(Math.round(color[0] * 255),\n                                             Math.round(color[1] * 255),\n                                             Math.round(color[2] * 255));\n      }\n    }\n    cstyle.width = width + 'px';\n    cstyle.height = height + 'px';\n    return container;\n  }\n\n  function getHtmlElementForTextWidgetAnnotation(item, commonObjs) {\n    var element = document.createElement('div');\n    var width = item.rect[2] - item.rect[0];\n    var height = item.rect[3] - item.rect[1];\n    element.style.width = width + 'px';\n    element.style.height = height + 'px';\n    element.style.display = 'table';\n\n    var content = document.createElement('div');\n    content.textContent = item.fieldValue;\n    var textAlignment = item.textAlignment;\n    content.style.textAlign = ['left', 'center', 'right'][textAlignment];\n    content.style.verticalAlign = 'middle';\n    content.style.display = 'table-cell';\n\n    var fontObj = item.fontRefName ?\n      commonObjs.getData(item.fontRefName) : null;\n    setTextStyles(content, item, fontObj);\n\n    element.appendChild(content);\n\n    return element;\n  }\n\n  function getHtmlElementForTextAnnotation(item) {\n    var rect = item.rect;\n\n    // sanity check because of OOo-generated PDFs\n    if ((rect[3] - rect[1]) < ANNOT_MIN_SIZE) {\n      rect[3] = rect[1] + ANNOT_MIN_SIZE;\n    }\n    if ((rect[2] - rect[0]) < ANNOT_MIN_SIZE) {\n      rect[2] = rect[0] + (rect[3] - rect[1]); // make it square\n    }\n\n    var container = initContainer(item, false);\n    container.className = 'annotText';\n\n    var image  = document.createElement('img');\n    image.style.height = container.style.height;\n    image.style.width = container.style.width;\n    var iconName = item.name;\n    image.src = PDFJS.imageResourcesPath + 'annotation-' +\n      iconName.toLowerCase() + '.svg';\n    image.alt = '[{{type}} Annotation]';\n    image.dataset.l10nId = 'text_annotation_type';\n    image.dataset.l10nArgs = JSON.stringify({type: iconName});\n\n    var contentWrapper = document.createElement('div');\n    contentWrapper.className = 'annotTextContentWrapper';\n    contentWrapper.style.left = Math.floor(rect[2] - rect[0] + 5) + 'px';\n    contentWrapper.style.top = '-10px';\n\n    var content = document.createElement('div');\n    content.className = 'annotTextContent';\n    content.setAttribute('hidden', true);\n\n    var i, ii;\n    if (item.hasBgColor) {\n      var color = item.color;\n\n      // Enlighten the color (70%)\n      var BACKGROUND_ENLIGHT = 0.7;\n      var r = BACKGROUND_ENLIGHT * (1.0 - color[0]) + color[0];\n      var g = BACKGROUND_ENLIGHT * (1.0 - color[1]) + color[1];\n      var b = BACKGROUND_ENLIGHT * (1.0 - color[2]) + color[2];\n      content.style.backgroundColor = Util.makeCssRgb((r * 255) | 0,\n                                                      (g * 255) | 0,\n                                                      (b * 255) | 0);\n    }\n\n    var title = document.createElement('h1');\n    var text = document.createElement('p');\n    title.textContent = item.title;\n\n    if (!item.content && !item.title) {\n      content.setAttribute('hidden', true);\n    } else {\n      var e = document.createElement('span');\n      var lines = item.content.split(/(?:\\r\\n?|\\n)/);\n      for (i = 0, ii = lines.length; i < ii; ++i) {\n        var line = lines[i];\n        e.appendChild(document.createTextNode(line));\n        if (i < (ii - 1)) {\n          e.appendChild(document.createElement('br'));\n        }\n      }\n      text.appendChild(e);\n\n      var pinned = false;\n\n      var showAnnotation = function showAnnotation(pin) {\n        if (pin) {\n          pinned = true;\n        }\n        if (content.hasAttribute('hidden')) {\n          container.style.zIndex += 1;\n          content.removeAttribute('hidden');\n        }\n      };\n\n      var hideAnnotation = function hideAnnotation(unpin) {\n        if (unpin) {\n          pinned = false;\n        }\n        if (!content.hasAttribute('hidden') && !pinned) {\n          container.style.zIndex -= 1;\n          content.setAttribute('hidden', true);\n        }\n      };\n\n      var toggleAnnotation = function toggleAnnotation() {\n        if (pinned) {\n          hideAnnotation(true);\n        } else {\n          showAnnotation(true);\n        }\n      };\n\n      image.addEventListener('click', function image_clickHandler() {\n        toggleAnnotation();\n      }, false);\n      image.addEventListener('mouseover', function image_mouseOverHandler() {\n        showAnnotation();\n      }, false);\n      image.addEventListener('mouseout', function image_mouseOutHandler() {\n        hideAnnotation();\n      }, false);\n\n      content.addEventListener('click', function content_clickHandler() {\n        hideAnnotation(true);\n      }, false);\n    }\n\n    content.appendChild(title);\n    content.appendChild(text);\n    contentWrapper.appendChild(content);\n    container.appendChild(image);\n    container.appendChild(contentWrapper);\n\n    return container;\n  }\n\n  function getHtmlElementForLinkAnnotation(item) {\n    var container = initContainer(item, true);\n    container.className = 'annotLink';\n\n    var link = document.createElement('a');\n    link.href = link.title = item.url || '';\n    if (item.url && PDFJS.openExternalLinksInNewWindow) {\n      link.target = '_blank';\n    }\n\n    container.appendChild(link);\n\n    return container;\n  }\n\n  function getHtmlElement(data, objs) {\n    switch (data.annotationType) {\n      case AnnotationType.WIDGET:\n        return getHtmlElementForTextWidgetAnnotation(data, objs);\n      case AnnotationType.TEXT:\n        return getHtmlElementForTextAnnotation(data);\n      case AnnotationType.LINK:\n        return getHtmlElementForLinkAnnotation(data);\n      default:\n        throw new Error('Unsupported annotationType: ' + data.annotationType);\n    }\n  }\n\n  return {\n    getHtmlElement: getHtmlElement\n  };\n})();\nPDFJS.AnnotationUtils = AnnotationUtils;\n\n\nvar SVG_DEFAULTS = {\n  fontStyle: 'normal',\n  fontWeight: 'normal',\n  fillColor: '#000000'\n};\n\nvar convertImgDataToPng = (function convertImgDataToPngClosure() {\n  var PNG_HEADER =\n    new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n\n  var CHUNK_WRAPPER_SIZE = 12;\n\n  var crcTable = new Int32Array(256);\n  for (var i = 0; i < 256; i++) {\n    var c = i;\n    for (var h = 0; h < 8; h++) {\n      if (c & 1) {\n        c = 0xedB88320 ^ ((c >> 1) & 0x7fffffff);\n      } else {\n        c = (c >> 1) & 0x7fffffff;\n      }\n    }\n    crcTable[i] = c;\n  }\n\n  function crc32(data, start, end) {\n    var crc = -1;\n    for (var i = start; i < end; i++) {\n      var a = (crc ^ data[i]) & 0xff;\n      var b = crcTable[a];\n      crc = (crc >>> 8) ^ b;\n    }\n    return crc ^ -1;\n  }\n\n  function writePngChunk(type, body, data, offset) {\n    var p = offset;\n    var len = body.length;\n\n    data[p] = len >> 24 & 0xff;\n    data[p + 1] = len >> 16 & 0xff;\n    data[p + 2] = len >> 8 & 0xff;\n    data[p + 3] = len & 0xff;\n    p += 4;\n\n    data[p] = type.charCodeAt(0) & 0xff;\n    data[p + 1] = type.charCodeAt(1) & 0xff;\n    data[p + 2] = type.charCodeAt(2) & 0xff;\n    data[p + 3] = type.charCodeAt(3) & 0xff;\n    p += 4;\n\n    data.set(body, p);\n    p += body.length;\n\n    var crc = crc32(data, offset + 4, p);\n\n    data[p] = crc >> 24 & 0xff;\n    data[p + 1] = crc >> 16 & 0xff;\n    data[p + 2] = crc >> 8 & 0xff;\n    data[p + 3] = crc & 0xff;\n  }\n\n  function adler32(data, start, end) {\n    var a = 1;\n    var b = 0;\n    for (var i = start; i < end; ++i) {\n      a = (a + (data[i] & 0xff)) % 65521;\n      b = (b + a) % 65521;\n    }\n    return (b << 16) | a;\n  }\n\n  function encode(imgData, kind) {\n    var width = imgData.width;\n    var height = imgData.height;\n    var bitDepth, colorType, lineSize;\n    var bytes = imgData.data;\n\n    switch (kind) {\n      case ImageKind.GRAYSCALE_1BPP:\n        colorType = 0;\n        bitDepth = 1;\n        lineSize = (width + 7) >> 3;\n        break;\n      case ImageKind.RGB_24BPP:\n        colorType = 2;\n        bitDepth = 8;\n        lineSize = width * 3;\n        break;\n      case ImageKind.RGBA_32BPP:\n        colorType = 6;\n        bitDepth = 8;\n        lineSize = width * 4;\n        break;\n      default:\n        throw new Error('invalid format');\n    }\n\n    // prefix every row with predictor 0\n    var literals = new Uint8Array((1 + lineSize) * height);\n    var offsetLiterals = 0, offsetBytes = 0;\n    var y, i;\n    for (y = 0; y < height; ++y) {\n      literals[offsetLiterals++] = 0; // no prediction\n      literals.set(bytes.subarray(offsetBytes, offsetBytes + lineSize),\n                   offsetLiterals);\n      offsetBytes += lineSize;\n      offsetLiterals += lineSize;\n    }\n\n    if (kind === ImageKind.GRAYSCALE_1BPP) {\n      // inverting for B/W\n      offsetLiterals = 0;\n      for (y = 0; y < height; y++) {\n        offsetLiterals++; // skipping predictor\n        for (i = 0; i < lineSize; i++) {\n          literals[offsetLiterals++] ^= 0xFF;\n        }\n      }\n    }\n\n    var ihdr = new Uint8Array([\n      width >> 24 & 0xff,\n      width >> 16 & 0xff,\n      width >> 8 & 0xff,\n      width & 0xff,\n      height >> 24 & 0xff,\n      height >> 16 & 0xff,\n      height >> 8 & 0xff,\n      height & 0xff,\n      bitDepth, // bit depth\n      colorType, // color type\n      0x00, // compression method\n      0x00, // filter method\n      0x00 // interlace method\n    ]);\n\n    var len = literals.length;\n    var maxBlockLength = 0xFFFF;\n\n    var deflateBlocks = Math.ceil(len / maxBlockLength);\n    var idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n    var pi = 0;\n    idat[pi++] = 0x78; // compression method and flags\n    idat[pi++] = 0x9c; // flags\n\n    var pos = 0;\n    while (len > maxBlockLength) {\n      // writing non-final DEFLATE blocks type 0 and length of 65535\n      idat[pi++] = 0x00;\n      idat[pi++] = 0xff;\n      idat[pi++] = 0xff;\n      idat[pi++] = 0x00;\n      idat[pi++] = 0x00;\n      idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n      pi += maxBlockLength;\n      pos += maxBlockLength;\n      len -= maxBlockLength;\n    }\n\n    // writing non-final DEFLATE blocks type 0\n    idat[pi++] = 0x01;\n    idat[pi++] = len & 0xff;\n    idat[pi++] = len >> 8 & 0xff;\n    idat[pi++] = (~len & 0xffff) & 0xff;\n    idat[pi++] = (~len & 0xffff) >> 8 & 0xff;\n    idat.set(literals.subarray(pos), pi);\n    pi += literals.length - pos;\n\n    var adler = adler32(literals, 0, literals.length); // checksum\n    idat[pi++] = adler >> 24 & 0xff;\n    idat[pi++] = adler >> 16 & 0xff;\n    idat[pi++] = adler >> 8 & 0xff;\n    idat[pi++] = adler & 0xff;\n\n    // PNG will consists: header, IHDR+data, IDAT+data, and IEND.\n    var pngLength = PNG_HEADER.length + (CHUNK_WRAPPER_SIZE * 3) +\n                    ihdr.length + idat.length;\n    var data = new Uint8Array(pngLength);\n    var offset = 0;\n    data.set(PNG_HEADER, offset);\n    offset += PNG_HEADER.length;\n    writePngChunk('IHDR', ihdr, data, offset);\n    offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n    writePngChunk('IDATA', idat, data, offset);\n    offset += CHUNK_WRAPPER_SIZE + idat.length;\n    writePngChunk('IEND', new Uint8Array(0), data, offset);\n\n    return PDFJS.createObjectURL(data, 'image/png');\n  }\n\n  return function convertImgDataToPng(imgData) {\n    var kind = (imgData.kind === undefined ?\n                ImageKind.GRAYSCALE_1BPP : imgData.kind);\n    return encode(imgData, kind);\n  };\n})();\n\nvar SVGExtraState = (function SVGExtraStateClosure() {\n  function SVGExtraState() {\n    this.fontSizeScale = 1;\n    this.fontWeight = SVG_DEFAULTS.fontWeight;\n    this.fontSize = 0;\n\n    this.textMatrix = IDENTITY_MATRIX;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRise = 0;\n\n    // Default foreground and background colors\n    this.fillColor = SVG_DEFAULTS.fillColor;\n    this.strokeColor = '#000000';\n\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.lineJoin = '';\n    this.lineCap = '';\n    this.miterLimit = 0;\n\n    this.dashArray = [];\n    this.dashPhase = 0;\n\n    this.dependencies = [];\n\n    // Clipping\n    this.clipId = '';\n    this.pendingClip = false;\n\n    this.maskId = '';\n  }\n\n  SVGExtraState.prototype = {\n    clone: function SVGExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function SVGExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  };\n  return SVGExtraState;\n})();\n\nvar SVGGraphics = (function SVGGraphicsClosure() {\n  function createScratchSVG(width, height) {\n    var NS = 'http://www.w3.org/2000/svg';\n    var svg = document.createElementNS(NS, 'svg:svg');\n    svg.setAttributeNS(null, 'version', '1.1');\n    svg.setAttributeNS(null, 'width', width + 'px');\n    svg.setAttributeNS(null, 'height', height + 'px');\n    svg.setAttributeNS(null, 'viewBox', '0 0 ' + width + ' ' + height);\n    return svg;\n  }\n\n  function opListToTree(opList) {\n    var opTree = [];\n    var tmp = [];\n    var opListLen = opList.length;\n\n    for (var x = 0; x < opListLen; x++) {\n      if (opList[x].fn === 'save') {\n        opTree.push({'fnId': 92, 'fn': 'group', 'items': []});\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if(opList[x].fn === 'restore') {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opList[x]);\n      }\n    }\n    return opTree;\n  }\n\n  /**\n   * Formats float number.\n   * @param value {number} number to format.\n   * @returns {string}\n   */\n  function pf(value) {\n    if (value === (value | 0)) { // integer number\n      return value.toString();\n    }\n    var s = value.toFixed(10);\n    var i = s.length - 1;\n    if (s[i] !== '0') {\n      return s;\n    }\n    // removing trailing zeros\n    do {\n      i--;\n    } while (s[i] === '0');\n    return s.substr(0, s[i] === '.' ? i : i + 1);\n  }\n\n  /**\n   * Formats transform matrix. The standard rotation, scale and translate\n   * matrices are replaced by their shorter forms, and for identity matrix\n   * returns empty string to save the memory.\n   * @param m {Array} matrix to format.\n   * @returns {string}\n   */\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return '';\n        }\n        return 'scale(' + pf(m[0]) + ' ' + pf(m[3]) + ')';\n      }\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        var a = Math.acos(m[0]) * 180 / Math.PI;\n        return 'rotate(' + pf(a) + ')';\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return 'translate(' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n      }\n    }\n    return 'matrix(' + pf(m[0]) + ' ' + pf(m[1]) + ' ' + pf(m[2]) + ' ' +\n      pf(m[3]) + ' ' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n  }\n\n  function SVGGraphics(commonObjs, objs) {\n    this.current = new SVGExtraState();\n    this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n    this.transformStack = [];\n    this.extraStack = [];\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.pendingEOFill = false;\n\n    this.embedFonts = false;\n    this.embeddedFonts = {};\n    this.cssStyle = null;\n  }\n\n  var NS = 'http://www.w3.org/2000/svg';\n  var XML_NS = 'http://www.w3.org/XML/1998/namespace';\n  var XLINK_NS = 'http://www.w3.org/1999/xlink';\n  var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n  var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n  var clipCount = 0;\n  var maskCount = 0;\n\n  SVGGraphics.prototype = {\n    save: function SVGGraphics_save() {\n      this.transformStack.push(this.transformMatrix);\n      var old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    },\n\n    restore: function SVGGraphics_restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n\n      this.tgrp = document.createElementNS(NS, 'svg:g');\n      this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n      this.pgrp.appendChild(this.tgrp);\n    },\n\n    group: function SVGGraphics_group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    },\n\n    loadDependencies: function SVGGraphics_loadDependencies(operatorList) {\n      var fnArray = operatorList.fnArray;\n      var fnArrayLen = fnArray.length;\n      var argsArray = operatorList.argsArray;\n\n      var self = this;\n      for (var i = 0; i < fnArrayLen; i++) {\n        if (OPS.dependency === fnArray[i]) {\n          var deps = argsArray[i];\n          for (var n = 0, nn = deps.length; n < nn; n++) {\n            var obj = deps[n];\n            var common = obj.substring(0, 2) === 'g_';\n            var promise;\n            if (common) {\n              promise = new Promise(function(resolve) {\n                self.commonObjs.get(obj, resolve);\n              });\n            } else {\n              promise = new Promise(function(resolve) {\n                self.objs.get(obj, resolve);\n              });\n            }\n            this.current.dependencies.push(promise);\n          }\n        }\n      }\n      return Promise.all(this.current.dependencies);\n    },\n\n    transform: function SVGGraphics_transform(a, b, c, d, e, f) {\n      var transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = PDFJS.Util.transform(this.transformMatrix,\n                                                  transformMatrix);\n\n      this.tgrp = document.createElementNS(NS, 'svg:g');\n      this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n    },\n\n    getSVG: function SVGGraphics_getSVG(operatorList, viewport) {\n      this.svg = createScratchSVG(viewport.width, viewport.height);\n      this.viewport = viewport;\n\n      return this.loadDependencies(operatorList).then(function () {\n        this.transformMatrix = IDENTITY_MATRIX;\n        this.pgrp = document.createElementNS(NS, 'svg:g'); // Parent group\n        this.pgrp.setAttributeNS(null, 'transform', pm(viewport.transform));\n        this.tgrp = document.createElementNS(NS, 'svg:g'); // Transform group\n        this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n        this.defs = document.createElementNS(NS, 'svg:defs');\n        this.pgrp.appendChild(this.defs);\n        this.pgrp.appendChild(this.tgrp);\n        this.svg.appendChild(this.pgrp);\n        var opTree = this.convertOpList(operatorList);\n        this.executeOpTree(opTree);\n        return this.svg;\n      }.bind(this));\n    },\n\n    convertOpList: function SVGGraphics_convertOpList(operatorList) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var fnArrayLen  = fnArray.length;\n      var REVOPS = [];\n      var opList = [];\n\n      for (var op in OPS) {\n        REVOPS[OPS[op]] = op;\n      }\n\n      for (var x = 0; x < fnArrayLen; x++) {\n        var fnId = fnArray[x];\n        opList.push({'fnId' : fnId, 'fn': REVOPS[fnId], 'args': argsArray[x]});\n      }\n      return opListToTree(opList);\n    },\n\n    executeOpTree: function SVGGraphics_executeOpTree(opTree) {\n      var opTreeLen = opTree.length;\n      for(var x = 0; x < opTreeLen; x++) {\n        var fn = opTree[x].fn;\n        var fnId = opTree[x].fnId;\n        var args = opTree[x].args;\n\n        switch (fnId | 0) {\n          case OPS.beginText:\n            this.beginText();\n            break;\n          case OPS.setLeading:\n            this.setLeading(args);\n            break;\n          case OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n          case OPS.setFont:\n            this.setFont(args);\n            break;\n          case OPS.showText:\n            this.showText(args[0]);\n            break;\n          case OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n          case OPS.endText:\n            this.endText();\n            break;\n          case OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n          case OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n          case OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n          case OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n          case OPS.setTextMatrix:\n            this.setTextMatrix(args[0], args[1], args[2],\n                               args[3], args[4], args[5]);\n            break;\n          case OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n          case OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n          case OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n          case OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n          case OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n          case OPS.setGState:\n            this.setGState(args[0]);\n            break;\n          case OPS.fill:\n            this.fill();\n            break;\n          case OPS.eoFill:\n            this.eoFill();\n            break;\n          case OPS.stroke:\n            this.stroke();\n            break;\n          case OPS.fillStroke:\n            this.fillStroke();\n            break;\n          case OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n          case OPS.clip:\n            this.clip('nonzero');\n            break;\n          case OPS.eoClip:\n            this.clip('evenodd');\n            break;\n          case OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n          case OPS.paintJpegXObject:\n            this.paintJpegXObject(args[0], args[1], args[2]);\n            break;\n          case OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n          case OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n          case OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n          case OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n          case OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n          case OPS.closePath:\n            this.closePath();\n            break;\n          case OPS.closeStroke:\n            this.closeStroke();\n            break;\n          case OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n          case OPS.nextLine:\n            this.nextLine();\n            break;\n          case OPS.transform:\n            this.transform(args[0], args[1], args[2], args[3],\n                           args[4], args[5]);\n            break;\n          case OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n          case OPS.endPath:\n            this.endPath();\n            break;\n          case 92:\n            this.group(opTree[x].items);\n            break;\n          default:\n            warn('Unimplemented method '+ fn);\n            break;\n        }\n      }\n    },\n\n    setWordSpacing: function SVGGraphics_setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    },\n\n    setCharSpacing: function SVGGraphics_setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    },\n\n    nextLine: function SVGGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    setTextMatrix: function SVGGraphics_setTextMatrix(a, b, c, d, e, f) {\n      var current = this.current;\n      this.current.textMatrix = this.current.lineMatrix = [a, b, c, d, e, f];\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n\n      current.xcoords = [];\n      current.tspan = document.createElementNS(NS, 'svg:tspan');\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n\n      current.txtElement = document.createElementNS(NS, 'svg:text');\n      current.txtElement.appendChild(current.tspan);\n    },\n\n    beginText: function SVGGraphics_beginText() {\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.lineMatrix = IDENTITY_MATRIX;\n      this.current.tspan = document.createElementNS(NS, 'svg:tspan');\n      this.current.txtElement = document.createElementNS(NS, 'svg:text');\n      this.current.txtgrp = document.createElementNS(NS, 'svg:g');\n      this.current.xcoords = [];\n    },\n\n    moveText: function SVGGraphics_moveText(x, y) {\n      var current = this.current;\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n\n      current.xcoords = [];\n      current.tspan = document.createElementNS(NS, 'svg:tspan');\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n    },\n\n    showText: function SVGGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n\n      if (fontSize === 0) {\n        return;\n      }\n\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var x = 0, i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (glyph === null) {\n          // word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += -glyph * fontSize * 0.001;\n          continue;\n        }\n        current.xcoords.push(current.x + x * textHScale);\n\n        var width = glyph.width;\n        var character = glyph.fontChar;\n        var charWidth = width * widthAdvanceScale + charSpacing * fontDirection;\n        x += charWidth;\n\n        current.tspan.textContent += character;\n      }\n      if (vertical) {\n        current.y -= x * textHScale;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, 'x',\n                                   current.xcoords.map(pf).join(' '));\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, 'font-style', current.fontStyle);\n      }\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, 'font-weight', current.fontWeight);\n      }\n      if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n        current.tspan.setAttributeNS(null, 'fill', current.fillColor);\n      }\n\n      current.txtElement.setAttributeNS(null, 'transform',\n                                        pm(current.textMatrix) +\n                                        ' scale(1, -1)' );\n      current.txtElement.setAttributeNS(XML_NS, 'xml:space', 'preserve');\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this.tgrp.appendChild(current.txtElement);\n\n    },\n\n    setLeadingMoveText: function SVGGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n\n    addFontStyle: function SVGGraphics_addFontStyle(fontObj) {\n      if (!this.cssStyle) {\n        this.cssStyle = document.createElementNS(NS, 'svg:style');\n        this.cssStyle.setAttributeNS(null, 'type', 'text/css');\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      var url = PDFJS.createObjectURL(fontObj.data, fontObj.mimetype);\n      this.cssStyle.textContent +=\n        '@font-face { font-family: \"' + fontObj.loadedName + '\";' +\n        ' src: url(' + url + '); }\\n';\n    },\n\n    setFont: function SVGGraphics_setFont(details) {\n      var current = this.current;\n      var fontObj = this.commonObjs.get(details[0]);\n      var size = details[1];\n      this.current.font = fontObj;\n\n      if (this.embedFonts && fontObj.data &&\n          !this.embeddedFonts[fontObj.loadedName]) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n\n      current.fontMatrix = (fontObj.fontMatrix ?\n                            fontObj.fontMatrix : FONT_IDENTITY_MATRIX);\n\n      var bold = fontObj.black ? (fontObj.bold ? 'bolder' : 'bold') :\n                                 (fontObj.bold ? 'bold' : 'normal');\n      var italic = fontObj.italic ? 'italic' : 'normal';\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n\n      current.tspan = document.createElementNS(NS, 'svg:tspan');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n      current.xcoords = [];\n    },\n\n    endText: function SVGGraphics_endText() {\n      if (this.current.pendingClip) {\n        this.cgrp.appendChild(this.tgrp);\n        this.pgrp.appendChild(this.cgrp);\n      } else {\n        this.pgrp.appendChild(this.tgrp);\n      }\n      this.tgrp = document.createElementNS(NS, 'svg:g');\n      this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n    },\n\n    // Path properties\n    setLineWidth: function SVGGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n    },\n    setLineCap: function SVGGraphics_setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function SVGGraphics_setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function SVGGraphics_setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    },\n    setStrokeRGBColor: function SVGGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function SVGGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.current.fillColor = color;\n      this.current.tspan = document.createElementNS(NS, 'svg:tspan');\n      this.current.xcoords = [];\n    },\n    setDash: function SVGGraphics_setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    },\n\n    constructPath: function SVGGraphics_constructPath(ops, args) {\n      var current = this.current;\n      var x = current.x, y = current.y;\n      current.path = document.createElementNS(NS, 'svg:path');\n      var d = [];\n      var opLength = ops.length;\n\n      for (var i = 0, j = 0; i < opLength; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            var xw = x + width;\n            var yh = y + height;\n            d.push('M', pf(x), pf(y), 'L', pf(xw) , pf(y), 'L', pf(xw), pf(yh),\n                   'L', pf(x), pf(yh), 'Z');\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push('M', pf(x), pf(y));\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push('L', pf(x) , pf(y));\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push('C', pf(args[j]), pf(args[j + 1]), pf(args[j + 2]),\n                   pf(args[j + 3]), pf(x), pf(y));\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push('C', pf(x), pf(y), pf(args[j]), pf(args[j + 1]),\n                   pf(args[j + 2]), pf(args[j + 3]));\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push('C', pf(args[j]), pf(args[j + 1]), pf(x), pf(y),\n                   pf(x), pf(y));\n            j += 4;\n            break;\n          case OPS.closePath:\n            d.push('Z');\n            break;\n        }\n      }\n      current.path.setAttributeNS(null, 'd', d.join(' '));\n      current.path.setAttributeNS(null, 'stroke-miterlimit',\n                                  pf(current.miterLimit));\n      current.path.setAttributeNS(null, 'stroke-linecap', current.lineCap);\n      current.path.setAttributeNS(null, 'stroke-linejoin', current.lineJoin);\n      current.path.setAttributeNS(null, 'stroke-width',\n                                  pf(current.lineWidth) + 'px');\n      current.path.setAttributeNS(null, 'stroke-dasharray',\n                                  current.dashArray.map(pf).join(' '));\n      current.path.setAttributeNS(null, 'stroke-dashoffset',\n                                  pf(current.dashPhase) + 'px');\n      current.path.setAttributeNS(null, 'fill', 'none');\n\n      this.tgrp.appendChild(current.path);\n      if (current.pendingClip) {\n        this.cgrp.appendChild(this.tgrp);\n        this.pgrp.appendChild(this.cgrp);\n      } else {\n        this.pgrp.appendChild(this.tgrp);\n      }\n      // Saving a reference in current.element so that it can be addressed\n      // in 'fill' and 'stroke'\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    },\n\n    endPath: function SVGGraphics_endPath() {\n      var current = this.current;\n      if (current.pendingClip) {\n        this.cgrp.appendChild(this.tgrp);\n        this.pgrp.appendChild(this.cgrp);\n      } else {\n        this.pgrp.appendChild(this.tgrp);\n      }\n      this.tgrp = document.createElementNS(NS, 'svg:g');\n      this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n    },\n\n    clip: function SVGGraphics_clip(type) {\n      var current = this.current;\n      // Add current path to clipping path\n      current.clipId = 'clippath' + clipCount;\n      clipCount++;\n      this.clippath = document.createElementNS(NS, 'svg:clipPath');\n      this.clippath.setAttributeNS(null, 'id', current.clipId);\n      var clipElement = current.element.cloneNode();\n      if (type === 'evenodd') {\n        clipElement.setAttributeNS(null, 'clip-rule', 'evenodd');\n      } else {\n        clipElement.setAttributeNS(null, 'clip-rule', 'nonzero');\n      }\n      this.clippath.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n      this.clippath.appendChild(clipElement);\n      this.defs.appendChild(this.clippath);\n\n      // Create a new group with that attribute\n      current.pendingClip = true;\n      this.cgrp = document.createElementNS(NS, 'svg:g');\n      this.cgrp.setAttributeNS(null, 'clip-path',\n                               'url(#' + current.clipId + ')');\n      this.pgrp.appendChild(this.cgrp);\n    },\n\n    closePath: function SVGGraphics_closePath() {\n      var current = this.current;\n      var d = current.path.getAttributeNS(null, 'd');\n      d += 'Z';\n      current.path.setAttributeNS(null, 'd', d);\n    },\n\n    setLeading: function SVGGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n\n    setTextRise: function SVGGraphics_setTextRise(textRise) {\n      this.current.textRise = textRise;\n    },\n\n    setHScale: function SVGGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n\n    setGState: function SVGGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case 'LW':\n            this.setLineWidth(value);\n            break;\n          case 'LC':\n            this.setLineCap(value);\n            break;\n          case 'LJ':\n            this.setLineJoin(value);\n            break;\n          case 'ML':\n            this.setMiterLimit(value);\n            break;\n          case 'D':\n            this.setDash(value[0], value[1]);\n            break;\n          case 'RI':\n            break;\n          case 'FL':\n            break;\n          case 'Font':\n            this.setFont(value);\n            break;\n          case 'CA':\n            break;\n          case 'ca':\n            break;\n          case 'BM':\n            break;\n          case 'SMask':\n            break;\n        }\n      }\n    },\n\n    fill: function SVGGraphics_fill() {\n      var current = this.current;\n      current.element.setAttributeNS(null, 'fill', current.fillColor);\n    },\n\n    stroke: function SVGGraphics_stroke() {\n      var current = this.current;\n      current.element.setAttributeNS(null, 'stroke', current.strokeColor);\n      current.element.setAttributeNS(null, 'fill', 'none');\n    },\n\n    eoFill: function SVGGraphics_eoFill() {\n      var current = this.current;\n      current.element.setAttributeNS(null, 'fill', current.fillColor);\n      current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n    },\n\n    fillStroke: function SVGGraphics_fillStroke() {\n      // Order is important since stroke wants fill to be none.\n      // First stroke, then if fill needed, it will be overwritten.\n      this.stroke();\n      this.fill();\n    },\n\n    eoFillStroke: function SVGGraphics_eoFillStroke() {\n      this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n      this.fillStroke();\n    },\n\n    closeStroke: function SVGGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n\n    closeFillStroke: function SVGGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n\n    paintSolidColorImageMask:\n        function SVGGraphics_paintSolidColorImageMask() {\n      var current = this.current;\n      var rect = document.createElementNS(NS, 'svg:rect');\n      rect.setAttributeNS(null, 'x', '0');\n      rect.setAttributeNS(null, 'y', '0');\n      rect.setAttributeNS(null, 'width', '1px');\n      rect.setAttributeNS(null, 'height', '1px');\n      rect.setAttributeNS(null, 'fill', current.fillColor);\n      this.tgrp.appendChild(rect);\n    },\n\n    paintJpegXObject: function SVGGraphics_paintJpegXObject(objId, w, h) {\n      var current = this.current;\n      var imgObj = this.objs.get(objId);\n      var imgEl = document.createElementNS(NS, 'svg:image');\n      imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgObj.src);\n      imgEl.setAttributeNS(null, 'width', imgObj.width + 'px');\n      imgEl.setAttributeNS(null, 'height', imgObj.height + 'px');\n      imgEl.setAttributeNS(null, 'x', '0');\n      imgEl.setAttributeNS(null, 'y', pf(-h));\n      imgEl.setAttributeNS(null, 'transform',\n                           'scale(' + pf(1 / w) + ' ' + pf(-1 / h) + ')');\n\n      this.tgrp.appendChild(imgEl);\n      if (current.pendingClip) {\n        this.cgrp.appendChild(this.tgrp);\n        this.pgrp.appendChild(this.cgrp);\n      } else {\n        this.pgrp.appendChild(this.tgrp);\n      }\n    },\n\n    paintImageXObject: function SVGGraphics_paintImageXObject(objId) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintInlineImageXObject:\n        function SVGGraphics_paintInlineImageXObject(imgData, mask) {\n      var current = this.current;\n      var width = imgData.width;\n      var height = imgData.height;\n\n      var imgSrc = convertImgDataToPng(imgData);\n      var cliprect = document.createElementNS(NS, 'svg:rect');\n      cliprect.setAttributeNS(null, 'x', '0');\n      cliprect.setAttributeNS(null, 'y', '0');\n      cliprect.setAttributeNS(null, 'width', pf(width));\n      cliprect.setAttributeNS(null, 'height', pf(height));\n      current.element = cliprect;\n      this.clip('nonzero');\n      var imgEl = document.createElementNS(NS, 'svg:image');\n      imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgSrc);\n      imgEl.setAttributeNS(null, 'x', '0');\n      imgEl.setAttributeNS(null, 'y', pf(-height));\n      imgEl.setAttributeNS(null, 'width', pf(width) + 'px');\n      imgEl.setAttributeNS(null, 'height', pf(height) + 'px');\n      imgEl.setAttributeNS(null, 'transform',\n                           'scale(' + pf(1 / width) + ' ' +\n                           pf(-1 / height) + ')');\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this.tgrp.appendChild(imgEl);\n      }\n      if (current.pendingClip) {\n        this.cgrp.appendChild(this.tgrp);\n        this.pgrp.appendChild(this.cgrp);\n      } else {\n        this.pgrp.appendChild(this.tgrp);\n      }\n    },\n\n    paintImageMaskXObject:\n        function SVGGraphics_paintImageMaskXObject(imgData) {\n      var current = this.current;\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = current.fillColor;\n\n      current.maskId = 'mask' + maskCount++;\n      var mask = document.createElementNS(NS, 'svg:mask');\n      mask.setAttributeNS(null, 'id', current.maskId);\n\n      var rect = document.createElementNS(NS, 'svg:rect');\n      rect.setAttributeNS(null, 'x', '0');\n      rect.setAttributeNS(null, 'y', '0');\n      rect.setAttributeNS(null, 'width', pf(width));\n      rect.setAttributeNS(null, 'height', pf(height));\n      rect.setAttributeNS(null, 'fill', fillColor);\n      rect.setAttributeNS(null, 'mask', 'url(#' + current.maskId +')');\n      this.defs.appendChild(mask);\n      this.tgrp.appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    },\n\n    paintFormXObjectBegin:\n        function SVGGraphics_paintFormXObjectBegin(matrix, bbox) {\n      this.save();\n\n      if (isArray(matrix) && matrix.length === 6) {\n        this.transform(matrix[0], matrix[1], matrix[2],\n                       matrix[3], matrix[4], matrix[5]);\n      }\n\n      if (isArray(bbox) && bbox.length === 4) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n\n        var cliprect = document.createElementNS(NS, 'svg:rect');\n        cliprect.setAttributeNS(null, 'x', bbox[0]);\n        cliprect.setAttributeNS(null, 'y', bbox[1]);\n        cliprect.setAttributeNS(null, 'width', pf(width));\n        cliprect.setAttributeNS(null, 'height', pf(height));\n        this.current.element = cliprect;\n        this.clip('nonzero');\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd:\n        function SVGGraphics_paintFormXObjectEnd() {\n      this.restore();\n    }\n  };\n  return SVGGraphics;\n})();\n\nPDFJS.SVGGraphics = SVGGraphics;\n\n\n}).call((typeof window === 'undefined') ? this : window);\n\nif (!PDFJS.workerSrc && typeof document !== 'undefined') {\n  // workerSrc is not set -- using last script url to define default location\n  PDFJS.workerSrc = (function () {\n    'use strict';\n    var scriptTagContainer = document.body ||\n                             document.getElementsByTagName('head')[0];\n    var pdfjsSrc = scriptTagContainer.lastChild.src;\n    return pdfjsSrc && pdfjsSrc.replace(/\\.js$/i, '.worker.js');\n  })();\n}\n\nexport default PDFJS;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/pdf.js","//\n\nimport JsPDF from 'jspdf'\nimport html2Canvas from 'html2canvas'\nimport PDFJS from './pdf'\nimport Canvas2Image from './canvas2image'\n\n// import html2Canvas from './html2canvas'\n// import JsPDF from './jspdf.debug'\n\nexport default{\n\n  install(Vue,options)\n  {\n\n    //idname\n    Vue.prototype.getNameById = function (id,list,callBack) {\n      if(id == undefined || \"\" == id){\n        callBack (\"\")\n        return;\n      }\n      for(var i=0;i<list.length ;i++){\n        if(list[i].id == id){\n          callBack (list[i].name)\n          return;\n        }\n      }\n      callBack (\"\")\n    }\n\n    //idcode\n    Vue.prototype.getCodeById = function (id,list,callBack) {\n      if(id == undefined || \"\" == id){\n        callBack (\"\")\n        return;\n      }\n      for(var i=0;i<list.length ;i++){\n        if(list[i].id == id){\n          callBack (list[i].code)\n          return;\n        }\n      }\n      callBack (\"\")\n    }\n\n    //\n    Vue.prototype.checkForm = function (formName) {\n      var isCheck = \"12\";\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          isCheck = true;\n        } else {\n          console.log('error submit!!');\n          isCheck = false;\n        }\n      });\n      return isCheck;\n    }\n\n    //\n    Vue.prototype.accMul = function (arg1,arg2){\n      if(undefined == arg1 || undefined == arg2){\n        return 0;\n      }\n      var m=0,s1=arg1.toString(),s2=arg2.toString();\n      try{m+=s1.split(\".\")[1].length}catch(e){}\n      try{m+=s2.split(\".\")[1].length}catch(e){}\n      return Number(s1.replace(\".\",\"\"))*Number(s2.replace(\".\",\"\"))/Math.pow(10,m)\n    }\n\n    //\n    Vue.prototype.fomatFloat = function (src,pos){\n      return Math.round(src*Math.pow(10, pos))/Math.pow(10, pos);\n    }\n\n    //\n    Vue.prototype.isNumber = function (value) {\n      var patrn = /^[0-9]+.?[0-9]*$/;\n      var isNumber = \"12\";\n      if(!patrn.test(value)){\n        isNumber = false;\n      }else{\n        isNumber = true;\n      }\n      return isNumber;\n    }\n\n    //\n    Vue.prototype.isNull = function ( str ){\n      if ( str == \"\" ) return true;\n      var regu = \"^[ ]+$\";\n      var re = new RegExp(regu);\n      return re.test(str);\n    }\n\n    Vue.prototype.printPdf = function(pdfData,canvasName){\n      PDFJS.workerSrc = '///src/assets/js/pdf.worker.js';\n      var loadingTask = PDFJS.getDocument({data: pdfData});\n      loadingTask.promise.then(function(pdf) {\n        console.log('PDF loaded');\n\n        // Fetch the first page\n        var pageNumber = 1;\n        pdf.getPage(pageNumber).then(function(page) {\n          console.log('Page loaded');\n\n          var scale = 1.5;\n          var viewport = page.getViewport(scale);\n\n          // Prepare canvas using PDF page dimensions\n          var canvas = document.getElementById('the-canvas');\n          var context = canvas.getContext('2d');\n          canvas.height = viewport.height;\n          canvas.width = viewport.width;\n\n          // Render PDF page into canvas context\n          var renderContext = {\n            canvasContext: context,\n            viewport: viewport\n          };\n          var renderTask = page.render(renderContext);\n          renderTask.then(function () {\n            console.log('Page rendered');\n          });\n        });\n      }, function (reason) {\n        // PDF loading error\n        console.error(reason);\n      });\n    }\n\n    Vue.prototype.js_getDPI = function(){\n      var arrDPI = new Array;\n      if (window.screen.deviceXDPI) {\n        arrDPI[0] = window.screen.deviceXDPI;\n        arrDPI[1] = window.screen.deviceYDPI;\n      }\n      else {\n        var tmpNode = document.createElement(\"DIV\");\n        tmpNode.style.cssText = \"width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden\";\n        document.body.appendChild(tmpNode);\n        arrDPI[0] = parseInt(tmpNode.offsetWidth);\n        arrDPI[1] = parseInt(tmpNode.offsetHeight);\n        tmpNode.parentNode.removeChild(tmpNode);\n      }\n      return arrDPI;\n    }\n\n    Vue.prototype.getPdf = function (domName,title,position,tagWidth,tagHeight,callback){\n      // divvue\n      let pdfDom = document.querySelector(domName)\n\n      var shareContent = pdfDom;//DOM \n      var w = shareContent.offsetWidth; //dom \n      var h = shareContent.offsetHeight; //dom \n      var canvas = document.createElement(\"canvas\"); //canvas\n      var scale = 1; // \n      canvas.width = w * scale; //canvas  * \n      canvas.height = h * scale; //canvas *\n      canvas.getContext(\"2d\").scale(scale, scale); //context,scale\n      var opts = {\n        scale: scale, // scale \n        canvas: canvas, // canvas\n        // logging: true, //html2canvas\n        width: w, //dom \n        height: h,\n        useCORS: true // \n      };\n      // ie10inputinput\n      // let arrnode = pdfDom.querySelectorAll('input')\n      // for (var i = 0; i < arrnode.length; i++) {\n      //   arrnode[i].style.border = 'hidden'\n      // }\n      // \n      // pdfDom.style.background = '#FFFFFF'\n      let _this = this;\n      html2Canvas(shareContent,opts).then(function(canvas) {\n        // canvas\n        // \n        var context = canvas.getContext('2d');\n        // \n        context.mozImageSmoothingEnabled = false;\n        context.webkitImageSmoothingEnabled = false;\n        context.msImageSmoothingEnabled = false;\n        context.imageSmoothingEnabled = false;\n        context.scale(0.5, 0.5);\n        // canvas.getContext(\"2d\").scale(0.5, 0.5);\n        // var img = Canvas2Image.convertToPNG(canvas, canvas.width, canvas.height);\n        // document.body.appendChild(img);\n        // $(img).css({\n        //   \"width\": canvas.width / 2 + \"px\",\n        //   \"height\": canvas.height / 2 + \"px\",\n        // }).addClass('f-full');\n        // canvas.style.height = canvas.height/2 + \"px\"\n        // canvas.style.width = canvas.width/2 + \"px\"\n        let height = pdfDom.style.height;\n        let width = pdfDom.style.width;\n        let contentWidth = canvas.width\n        let contentHeight = canvas.height\n        // let pageHeight = contentWidth / 592.28 * 841.89\n        // let pageHeight = contentWidth / width * height\n        let pageHeight = tagHeight\n        let leftHeight = contentHeight\n        let imgWidth = width\n        // let imgHeight = width / contentWidth * contentHeight\n        let imgHeight = height\n        // PNGJPEGBrowser\n        let pageData = canvas.toDataURL('image/PNG', 1)\n        var arrDPI = _this.js_getDPI();//DPI\n        var dpiX = 96;\n        var dpiY = 96;\n        if(arrDPI.length>0){\n          dpiX = arrDPI[0];\n          dpiY = arrDPI[1];\n        }\n        // PDF\n        // \n        console.log(tagWidth/dpiX);\n        console.log(tagHeight/dpiY);\n        let PDF = new JsPDF('l', 'in', [tagWidth/dpiX,tagHeight/dpiY])\n        if(leftHeight <= pageHeight){\n          PDF.addImage(pageData, 'PNG', 0, position/dpiY, imgWidth, imgHeight)\n        }else{\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, 'PNG', 0, position/dpiY, imgWidth, imgHeight)\n            leftHeight -= pageHeight\n            position -= tagHeight\n            if (leftHeight > 0) {\n              PDF.addPage()\n            }\n          }\n        }\n\n        // PDF\n        // PDF.save(title+ '.pdf')\n        callback(PDF,PDF.output('blob'),pageData)\n      });\n      // html2Canvas()\n    }\n\n    //\n    Vue.prototype.getExternalCodeList = function (val,callback){\n      if(val == null || val == \"\"){\n        callback([])\n      }\n      this.$http.get(\"/ys-web-wms/common/getExternalCodeList?key=\"+val).then(function (result) {\n        if(result.data.state == 200){\n          callback(result.data.data?result.data.data:[])\n        }else{\n          this.$notify.error({\n            title:\"\",\n            message:result.data.message\n          })\n          callback([])\n        }\n      })\n    }\n\n    //id\n    Vue.prototype.getReceivingNoteStatus = function (val,callback){\n      this.$http.get(\"/ys-web-wms/receivingInspection/getStatus?id=\"+val).then(function (result) {\n        callback(result.data)\n      })\n    }\n\n    //id\n    Vue.prototype.getPutInStorageStatus = function (val,callback){\n      this.$http.get(\"/ys-web-wms/putInStorage/getStatus?id=\"+val).then(function (result) {\n        callback(result.data)\n      })\n    }\n\n    //id\n    Vue.prototype.getPutOutStorageStatus = function (val,callback){\n      this.$http.get(\"/ys-web-wms/putOutStorage/getStockOutBillStatus?id=\"+val).then(function (result) {\n        callback(result.data)\n      })\n    }\n\n    //id\n    Vue.prototype.getStoreAreas = function (val,callback){\n      this.$http.get(\"/ys-web-wms/common/getStoreAreas?id=\"+val).then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n    //id\n    Vue.prototype.getGoodsAllocations = function (val,callback){\n      this.$http.get(\"/ys-web-wms/common/getGoodsAllocations?id=\"+val).then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n    //ID\n    Vue.prototype.getFinishedReceiptBills = function (val,callback){\n      this.$http.get(\"/ys-web-wms/common/getFinishedReceiptBills?id=\"+val).then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n    //id\n    Vue.prototype.getCategoryList = function (val,callback){\n      this.$http.get(\"/ys-web-wms/common/getCategoryList?id=\"+val).then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n    //code\n    Vue.prototype.getMaterialNameCodeList = function (val,callback){\n      this.$http.get(\"/ys-web-wms/common/getMaterialNameCodeList?code=\"+val).then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n    //\n    Vue.prototype.getMaterialInfoList = function (val,callback){\n      this.$http.get(\"/ys-web-wms/common/getMaterialInfoList?code=\"+val).then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n    //\n    Vue.prototype.getStockMaterialList = function (id,val,callback){\n      this.$http.get(\"/ys-web-wms/common/getStockMaterialList?code=\"+val+\"&&id=\"+id).then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n    //\n    Vue.prototype.getDetailsByReceipt = function (val,callback){\n      this.$http.get(\"/ys-web-wms/putInStorageInfo/getDetailsByReceipt?receiptCode=\"+val).then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n    //\n    Vue.prototype.getFinishedStockOutBillList = function (callback){\n      this.$http.get(\"/ys-web-wms/putOutStorage/getFinishedStockOutBillList\").then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n    //\n    Vue.prototype.getMaterialCodeList = function (val,callback){\n      this.$http.get(\"/ys-web-wms/common/getMaterialCodeList?code=\"+val).then(function (result) {\n        if(result.data.state == 200){\n          callback(result.data.data?result.data.data:[])\n        }else{\n          callback([])\n        }\n      })\n    }\n\n    //\n    Vue.prototype.getMaterialList = function (val,callback){\n      this.$http.get(\"/ys-web-wms/common/getMaterialList?nameKey=\"+val).then(function (result) {\n        if(result.data.state == 200){\n          callback(result.data.data?result.data.data:[])\n        }else{\n          callback([])\n        }\n      })\n    }\n\n    //\n    Vue.prototype.getWarehouseStockAmount = function (id,code,callback){\n      this.$http.get(\"/ys-web-wms/common/getWarehouseStockAmount?id=\"+id+\"&&code=\"+code).then(function (result) {\n        callback(result.data?result.data:0)\n      })\n    }\n\n    //\n    Vue.prototype.getPutInStorageTableTittle = function (key,callback){\n      this.$http.get(\"/ys-web-wms/putInStorage/getTittle?type=\"+key).then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n    //\n    Vue.prototype.getPutOutStorageTableTittle = function (key,callback){\n      this.$http.get(\"/ys-web-wms/putOutStorage/getTittle?type=\"+key).then(function (result) {\n        callback(result.data.data?result.data.data:[])\n      })\n    }\n\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/commonUtils.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport VueRouter from 'vue-router'\nimport routermap from './router/router-config'\nimport store from './store'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport './assets/css/main.css'\nimport Element from 'element-ui'\n// import 'font-awesome-webpack'\nimport VueResource from 'vue-resource'\nimport setFilters from './filters'\nimport commonUtils from './assets/js/commonUtils'\n\nVue.use(VueRouter)\nVue.use(VueResource)\nVue.use(commonUtils)\nsetFilters(Vue)\nVue.http.options.emulateJSON = true;\nVue.http.interceptors.push(function(request, next) {\n  next();\n});\n\nVue.use(Element)\n\n\n\nDate.prototype.pattern=function(fmt) {\n  var o = {\n    \"M+\" : this.getMonth()+1, //\n    \"d+\" : this.getDate(), //\n    \"h+\" : this.getHours()%12 == 0 ? 12 : this.getHours()%12, //\n    \"H+\" : this.getHours(), //\n    \"m+\" : this.getMinutes(), //\n    \"s+\" : this.getSeconds(), //\n    \"q+\" : Math.floor((this.getMonth()+3)/3), //\n    \"S\" : this.getMilliseconds() //\n  };\n  var week = {\n    \"0\" : \"/u65e5\",\n    \"1\" : \"/u4e00\",\n    \"2\" : \"/u4e8c\",\n    \"3\" : \"/u4e09\",\n    \"4\" : \"/u56db\",\n    \"5\" : \"/u4e94\",\n    \"6\" : \"/u516d\"\n  };\n  if(/(y+)/.test(fmt)){\n    fmt=fmt.replace(RegExp.$1, (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));\n  }\n  if(/(E+)/.test(fmt)){\n    fmt=fmt.replace(RegExp.$1, ((RegExp.$1.length>1) ? (RegExp.$1.length>2 ? \"/u661f/u671f\" : \"/u5468\") : \"\")+week[this.getDay()+\"\"]);\n  }\n  for(var k in o){\n    if(new RegExp(\"(\"+ k +\")\").test(fmt)){\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));\n    }\n  }\n  return fmt;\n}\n\nDate.prototype.toString=function(){\n  return this.pattern(\"yyyy-MM-dd\");\n}\nDate.prototype.toISOString=function(){\n  return this.pattern(\"yyyy-MM-dd HH:mm:ss\");\n}\n\nconst router = new VueRouter({\n  routes:routermap\n})\n/* eslint-disable no-new */\nnew Vue({\n  router,\n  store,\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}